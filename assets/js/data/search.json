[ { "title": "分析基础：Cantor的基数理论", "url": "/posts/Basic-Analysis-CantorCardinality/", "categories": "数学, 数学分析", "tags": "集合论基础, 基数, 无穷集合, 可数无穷, 幂集", "date": "2025-03-09 18:07:29 +0800", "snippet": "基数 (可理解为集合的大小，size of sets) 这个概念常常让初学者产生困惑. 在现代数学尤其是数学分析中，基数的概念很重要.基数的定义设$A$和$B$为集合. 如果存在双射函数$f:A\\to B$ ，我们就说$A$和$B$有相同的基数 (cardinality) 或$A$与$B$ 是等势的(equinumerous). 我们把与$A$有相同基数的所有集合的等价类记为$|A|$ .我们把$|A|$称为集合$A$的基数.例如，$\\lbrace 1,2,3 \\rbrace$ 与${a,b,c}$有相同的基数，因为我们可以定义双射函数：$f(1):=a$ , $f(2):=b$，$f(3):=c$ . 显然两个集合之间可以构造的双射函数不是唯一的.两个集合之间双射函数的存在其实是一种等价关系. 由公式$f(x):=x$ 定义的双射函数体现了自反性； (双射$f:A\\to A$存在，即集合$A$与自身有相同基数). “如果$f$是双射函数，则$f^{-1}$也是双射函数” 体现了对称性；“如果$f:A\\to B$ 和 $g:B\\to C$ 都是双射函数，则$g\\ \\circ f: A\\to C$ 也是双射函数” 体现了传递性. 一个集合$A$与空集有相同的基数当且仅当$A$本身就是空集. 如果$B$是非空的，则不存在形如$f:B\\to \\emptyset$ 的函数. 特别地，不存在从$B$ 到 $\\emptyset$ 的双射函数.有限集合与无穷集合对某个$n \\in \\mathbb{N}$， 如果$A$与$\\lbrace1, 2, 3, \\cdots,n \\rbrace$ 基数相同，我们把$A$的基数记为$|A|:=n$ . 如果$A$是空集则记为$|A|:=0$. 以上情况我们说$A$是有限 (finite) 的. 有限集的基数就是集合中元素的个数. 如果$A$不是有限的，即$A$包含无限个元素，我们说$A$是无限的(infinite)或者说$A$有无穷基数(of infinite cardinality).根据以上定义我们有：如果对某个$n\\in \\mathbb{N}$ , 从集合$A$到$\\lbrace1,2,3\\cdots n \\rbrace$ 存在一个双射函数，则$A$ 是非空有限集.注：”For some $x$, $P(x)$” is the same as “there exists (at least one) $x$ such that $P(x)$”.通过证明自然数$n$的唯一性，我们可以得到更强的结论：命题 对每个非空有限集$A$，存在唯一的自然数$n$使得从$A$到$\\lbrace1,2,3,\\cdots,n \\rbrace$ 存在一个双射函数.Proof. 假设对某个$m \\in \\mathbb{N}$ ，存在另一个双射函数$g:A\\to \\lbrace 1,2,3\\cdots, m\\rbrace$ . 考虑$f^{-1}:\\lbrace1,2,3\\cdots,n\\rbrace \\to A$ 和 $g$ 的复合函数$g\\ \\circ f^{-1}: \\lbrace{1,2,3\\cdots, n\\rbrace} \\to \\lbrace1,2,3,\\cdots,m\\rbrace$ . 因为$f^{-1}$和$g$ 都是双射函数，$g\\ \\circ f$ 也是双射函数，所以集合$\\lbrace1,2,3,\\cdots,n\\rbrace$与$\\lbrace1,2,3,\\cdots,m\\rbrace$有相同的基数，即元素个数相同，从而有 $n=m$, 唯一性得证. $\\square$我们可以根据基数(集合的大小) 来对集合进行排序。 序关系定义 如果从$A$ 到 $B$ 存在一个单射函数，我们就记作$|A| \\le |B|$.如果$A$和$B$有相同基数则记作$|A|=|B|$. 如果$|A|\\le|B|$但$A$和$B$没有相同的基数，则记作$|A|\\lt|B|$.Cantor–Bernstein–Schröder定理 $|A| \\le |B|$ 且 $|B| \\le |A|$ $\\iff$ 集合$A$和$B$有相同基数(等势).另一种表述：如果集合$A$和$B$之间存在单射 $f:A\\to B$ 和 $g:B\\to A$ ，则存在一个双射$h:A\\to B$.康托尔-伯恩斯坦-施罗德定理的证明超出课程范围，这里不展开.关于基数真正有趣的例子是无穷集合. 我们将区分两种不同的无穷基数.可数无穷如果$|A|=|\\mathbb{N}|$ , 则我们说$A$是可数无穷的(countably infinite). 如果$A$是有限的或可数无穷的，我们说$A$是可数的(countable). 如果$A$不是可数的，则我们说$A$是不可数的 (uncountable) .自然数集$\\mathbb{N}$ 的基数通常记作$\\aleph_0$ (读作aleph-naught, 阿列夫零).一个无穷集合 (如有理数集$\\mathbb{Q}$)是可数的，按照定义就是说能建立从自然数集$\\mathbb{N}$到这个无穷集合的双射。从计数 (counting)的角度去理解, 也就是能无遗漏无重复地遍历集合中的元素。 由于自然数集$\\mathbb{N}$ 可以从小到大顺序排成无穷序列$1,2,3,\\cdots n\\cdots$ ，一个无穷集合可数当且仅当集合中元素可以排成一个无穷序列$a_1,a_2,a_3,\\cdots a_n\\cdots$ (这就是无遗漏无重复的遍历)。如果一个集合是可列 (可数)的，那么它的每个元素与自然数的一一对应关系可以通过列表的形式无遗漏地列出来。(对角线法证明实数集不可数就用到了这个形式，Cantor发现总能找到至少一个列表之外的数，来说明这个列表不全)例1 正偶数集 (even natural numbers) 与自然数集$\\mathbb{N}$有相同的基数.Proof. 令$E \\subset \\mathbb{N}$ 为所有正偶数的集合. 给定$k \\in E$ 都可表示为 $k = 2n$ ($n \\in \\mathbb{N}$) , 则存在由$f(n):=2n$ 定义的双射函数$f:\\mathbb{N}\\to E$ . $\\square$“自然数集能与它的真子集正偶数集建立一一对应” 是伽利略悖论 (Galileo’s paradox) 的一个版本 (原版是自然数集与自然数的平方的集合一一对应) . 伽利略及其同时代的科学家对此感到困惑，因为这与“整体大于部分”的直觉不符，他们认为两个无穷集合是无法比较大小的。这个悖论揭示了无穷集合的不同特征：有限集合的元素个数总是大于它的真子集，但无穷集合却可以与真子集中的元素一一对应。事实上，这里我们不加证明地指出，无穷集合的特征就是：一个集合是无穷集当且仅当它能与自身的一个真子集构成一一对应. 这打破了统治数学界两千多年的《几何原本》中“整体大于部分”的公理。在无穷集合的世界里，康托尔的基数理论推翻了欧几里得提出的这个在有限集合中成立的直觉。伽利略悖论的另一个版本以几何关系的形式呈现：伽利略在他的《两门新科学》中提出，两个不等长的线段AB与CD上的点可以构成一一对应。如图，“不可数无穷集合与其真子集一一对应”有一个典型例子是三角函数$y=\\tan x$ .例2 $\\mathbb{N} \\times \\mathbb{N}$ 是一个可数无穷集合.Cantor定理若$A$是集合，则$|A| \\lt |\\mathscr{P}(A)|$. 特别地，不存在从$A$ 到$\\mathscr{P}(A)$ 的==满射函数==. (换种说法：集合$A$与其幂集$2^A$ 不等势，即集合$A$与其幂集没有相同基数，基数总是小于其幂集)Proof." }, { "title": "分析基础：关系与等价类", "url": "/posts/Basic-Analysis-Relations/", "categories": "数学, 数学分析", "tags": "二元关系, 等价关系, 等价类", "date": "2025-03-09 17:41:20 +0800", "snippet": "等价关系与等价类的直观解释等价关系就像是一个“相似性”的规则，用来判断两个东西是不是“差不多”。如果两个东西满足这个规则，我们就说它们是“等价”的。而等价类就是把所有“差不多”的东西放在一起，组成的一个小组。等价关系与等价类是一种“分类”和“分组”的思想方法。日常生活中的例子：如果两个水果是同一种类，我们就说它们是“等价”的。比如，所有苹果都是等价的，所有香蕉都是等价的。把所有苹果放在一起，就是一个等价类$[苹果]$；把所有香蕉放在一起，就是另一个等价类$[香蕉]$。所有的水果被分成一个个等价类，这样我们就可以很方便地找到自己想吃的水果。计算机系统的例子：如果两个文件的类型相同，我们就说它们是“等价”的。把所有图片文件(如.jpg)放在一起，就是一个等价类；把所有文档文件（如.docx）放在一起，就是另一个等价类。这样，计算机就可以很方便地找到用户需要的文件。用户分组的例子：如果两个用户属于同一个兴趣小组，我们就说他们是等价的。比如，所有喜欢篮球的用户都是等价的，组成一个等价类$[篮球]$，所有喜欢足球的用户组成另一个等价类$[足球]$, 推荐系统就可以根据用户的兴趣给每个组推送合适的内容。等价关系的定义二元关系的定义 给定集合$A$ ，$A$上的一个二元关系 (binary relation) 是笛卡尔积$A\\times A$ 的一个子集$\\mathscr{R} \\subseteq A\\times A$ ，其中的有序对$(a,b)$ 存在某种关系。通常我们写作$a\\ \\mathscr{R}\\ b$ 而不是$(a,b) \\in \\mathscr{R}$ .二元关系举例 集合$A := \\lbrace 1,2,3 \\rbrace$. 考虑’$&amp;lt;$’ 关系，对应的有序对集合是$\\bigl\\lbrace{(1,2),(1,3),(2,3)\\bigr\\rbrace}$ . 因为$(1,2)$ 在关系所对应的有序对集合中，所以$1\\lt 2$ 成立. 但$3\\lt 1$不成立因为$(3,1)$ 不在集合中. 类似地，’$=$’ 关系定义为有序对的集合$\\lbrace (1,1),(2,2),(3,3)\\rbrace$ $A\\times A$ 的任意子集都是一个关系. 例如我们可以通过$\\lbrace(1,2),(2,1),(2,3),(3,1) \\rbrace$ 定义一个关系$\\dagger$ , 则$1\\dagger 2$ 和 $3\\dagger 1$ 都成立，但$1\\dagger 3$ 不成立.关系的基本性质 设$\\mathscr{R}$是$A$上的二元关系. 我们称$\\mathscr{R}$ 是$(i)$ 自反的 (Reflexive) 如果对所有$a\\in A$ 都有$a\\ \\mathscr{R} \\ a$ . $(ii)$ 对称的 (Symmetric) 如果 $a\\ \\mathscr{R}\\ b \\implies b\\ \\mathscr{R}\\ a$ . $(iii)$ 传递的 (Transitive) 如果 $a\\ \\mathscr{R}\\ b$ 且 $b\\ \\mathscr{R}\\ c \\implies a\\ \\mathscr{R}\\ c$ . 如果$\\mathscr{R}$是自反、对称、传递的，我们称$\\mathscr{R}$是一个等价关系 (equivalence relation) .关系的性质举例 令$A:=\\lbrace 1,2,3 \\rbrace$ . $A$上的’$&amp;lt;$’ 关系是传递的，但既不是自反的也不是对称的. 定义为$\\lbrace (1,1),(1,2),(1,3),(2,2),(2,3),(3,3)\\rbrace$ 的’$\\le$’ 关系是自反的和传递的，但不是对称的. 最后一个例子：定义一个关系$\\star$ 为$\\lbrace(1,1),(1,2),(2,1),(2,2),(3,3) \\rbrace$. 这个关系是一个等价关系. 等价关系的作用在于它把一个集合划分成一个个由“等价的”(equivalent)元素组成的集合。 等价关系的典型例子：’模$m$同余’关系把$\\mathbb{Z}$划分为$m$个等价类.等价类的定义令 $\\mathscr{R}$ 是集合$A$上的一个等价关系. 元素 $a\\in A$ 的一个等价类是集合$\\lbrace x\\in A \\mid a \\ \\mathscr{R}\\ x \\rbrace$ , 记为$[a]$. 集合A在等价关系R下的等价类将集合A分解成了若干个不相交的子集等价类的性质令$\\mathscr{R}$是$A$上的一个等价关系.分解性 集合A在等价关系$\\mathscr{R}$下的所有等价类组成集合$A$的一个划分. (等价关系将$A$分解成互不相交的若干子集，所有等价类的并集是$A$本身且两个不同的等价类交集为空)Proof. 先证覆盖性：对集合中任意元素$x \\in A$, 根据等价关系的自反性有$x\\ \\mathscr{R}\\ x$，则$x \\in [x]$, 即每个元素$x$都属于自身的等价类$[x]$ ,因此所有等价类必将没有遗漏地覆盖$A$中每个元素，即所有等价类的并集是$A$本身. 再证互斥性：Two distinct equivalence classes are disjoint. (i.e. have no elements in common) 对不同的等价类$[a]$和$[b]$ , 假设$[a]$和$[b]$交集不为空，取交集中的一个元素$c$. 我们要推出$[a]=[b]$，用反证法证明$[a]$和$[b]$ 的交集为空。因为$c \\in [a]$ 且 $c \\in [b]$ , 有 $c\\ \\mathscr{R}\\ a$ 且 $c\\ \\mathscr{R}\\ b$ . 由等价关系的对称性和传递性有$a\\ \\mathscr{R}\\ b$. 假设$x \\in [a]$ ，有$x\\ \\mathscr{R}\\ a$. 由传递性有$x\\ \\mathscr{R}\\ b$ , 则$x \\in [b]$ . 所以$[a] \\subseteq [b]$ . 类似地，假设$x\\in [b]$ 可以推出$[b] \\subseteq [a]$. 所以有$[a]=[b]$. 这与$[a] \\neq [b]$ 矛盾，所以假设不成立，即不同的等价类交集为空. $\\square$划分的唯一性 $A$中的每个元素$a \\in A$ 只能属于一个等价类.Proof. ($i$) 先证每个$a \\in A$ 都至少属于一个等价类: 根据等价关系的自反性，$\\forall a \\in A$, 有$a\\ \\mathscr{R}\\ a$ ，即$A$中的每个元素都与自身存在等价关系，所以每个元素$a$都至少属于它自身的等价类$[a]$. $(ii)$ 再证没有元素可以属于两个不同的等价类：上文已证明不同等价类的互斥性. 所以$A$中每个元素只能属于一个等价类. $\\square$进一步地，我们有：命题 $a\\ \\mathscr{R}\\ b$ $\\iff$ $[a]=[b]$Proof. 先证”$\\impliedby$” : 假设$[a]=[b]$ . 因为$a\\ \\mathscr{R}\\ a$ ($\\mathscr{R}$是自反的)，我们有 $a \\in [a] = [b]$ . 由$a \\in [b]$ 知 $a\\ \\mathscr{R}\\ b$. 再证”$\\implies$”：假设$a\\ \\mathscr{R}\\ b$. 先证$[a] \\subseteq [b]$: 取任意$x \\in [a]$ ，有$a\\ \\mathscr{R}\\ x$. 由对称性有$x\\ \\mathscr{R}\\ a$. 因为$x\\ \\mathscr{R}\\ a$且$a\\ \\mathscr{R}\\ b$ ，由传递性有$x\\ \\mathscr{R}\\ b$ ，所以$x \\in [b]$. 所以有$[a]\\subseteq [b]$.再证$[a]\\supseteq [b]$. 取任意$x \\in [b]$ ，有$b\\ \\mathscr{R}\\ x$. 因为$a\\ \\mathscr{R}\\ b$ 且 $b\\ \\mathscr{R}\\ x$ ，由传递性有$a\\ \\mathscr{R}\\ x$ ，所以有$x \\in [a]$ . 所以$[b]\\subseteq [a]$. 即$[a]\\supseteq [b]$ . 所以$[a]=[b]$ . $\\square$" }, { "title": "分析基础：函数", "url": "/posts/Basic-Analysis-Functions/", "categories": "数学, 数学分析", "tags": "笛卡尔积, 像, 单射, 双射, 反函数, 复合函数", "date": "2025-03-09 17:27:41 +0800", "snippet": "Question: 什么情况下两个集合$A$和$B$的大小相同？ Answer: 如果两个集合中的元素可以一一配对，则两集合的的大小相同。(Theory of Cardinality By Cantor) 举个例子来理解：假设你是一个对数字完全没有概念的原始人，你有一群猪和一群羊，但还没学会数数，如何判断猪和羊的数量是否相等呢？把猪全部赶进一个圈子(集合A)，再把羊全刚进另一个圈子(集合B)，然后把猪和羊逐个出来排队，两队并列进行一一配对，如果每头猪刚好能配一只羊，我们就说猪和羊的数量是相等的。(两集合的基数相等)为了准确地描述这种“一一对应”关系，我们需要先定义函数/映射。基于集合论的非正式定义从集合$A$到集合$B$的函数$f$是一个映射，它为 $\\forall x \\in A$ 分配一个唯一的$y \\in B$ . 记为$f:A \\to B$ . 举个例子，从$S := {0,1,2}$ 到 $T := {0,2}$ 的函数$f:S\\to T$ 可以通过$f(0):=2$, $f(1):=2$ 和$f(2):=0$ 的赋值操作来定义。也就是说，函数$f:A\\to B$ 可被看成一个黑盒，我们输入一个$A$中的元素就会输出一个$B$ 中的元素。函数 $f$ 有时也被叫做映射 (a mapping or map)，我们说$f$把$A$映射到$B$.函数经常通过某个公式来定义，然而你应该仅把函数看作一个非常大的值表 (指将变量的取值和函数值对应起来的表格). 原因在于同一个函数可以有多种不同的公式表示，而且绝大多数函数是写不出表达式的，只能用表格或曲线图形来表示。注意：我们讨论的函数(映射)只考虑一对一或多对一关系，即一个$A$中的元素不可以与多个$B$ 中的元素对应。一对多关系可以用“多值函数”表示，通常我们规定一对多不是映射，因为任何一对多关系的映射都可以直接转化为一对一的关系，只需把这多个元素塞进一个新集合里，这个集合里的元素就是从该输入可能得到的所有输出。严格的函数定义：笛卡尔积的子集笛卡尔积(Cartesian product)的定义 设$A$、$B$ 为集合. 笛卡尔积是定义为\\[A \\times B := \\lbrace (x,y) \\mid x \\in A, y \\in B\\rbrace\\]的二元组的集合 (set of tuples). 例如 $\\lbrace a,b\\rbrace\\times \\lbrace c,d \\rbrace= \\lbrace (a,c),(a,d),(b,c),(b,d)\\rbrace$ .一个更复杂的例子是集合$[0,1]\\times [0,1]$，这是平面的一个子集：被顶点为$(0,0),(0,1),(1,0),(1,0)$ 的正方形所围成。当$A$和$B$是相同的集合，我们常用上标$2$来表示这样的乘积。例如 $[0,1]^2 = [0,1]\\times[0,1]$ 或 $\\mathbb{R}^2 = \\mathbb{R}\\times\\mathbb{R}$ (笛卡尔直角坐标平面)函数的严格定义 函数$f: A\\to B$ 是$A\\times B$ 的一个子集，集合$f$中的有序对 $(x,y)\\in f$满足: 对每个$x \\in A$ , 都存在唯一的$y\\in B$ 与之对应，记为$f(x)=y$ . (不能出现两个有序对具有相同的第一个元 $(x,y_1) \\in f\\ \\wedge (x,y_2) \\in f \\implies y_1=y_2$ )。有时把这个有序对的集合$f$ 称为函数的图像 (graph) 而不是函数本身。集合$A$称为函数$f$的定义域(domain) ,有时记为$D(f)$. 集合 $R(f) := \\lbrace{ y \\in B \\mid \\exists\\ x \\in A\\ s.t. f(x)=y \\rbrace}$ $= \\lbrace f(x)\\in B \\mid x \\in A \\rbrace$ 称为函数$f$的值域(range). 集合$B$称为函数$f$的陪域. 值域$R(f)$ （这里指定义域在$f$下的像$f(A)$ ）可能是陪域$B$的真子集 (与$B$不相等). 而定义域总是指$A$. 我们通常假设$f$ 的定义域不为空。像与逆像像(image)的定义 考虑函数$f:A\\to B$ ，定义域的子集$C \\subseteq A$的像 (image或direct image) 定义为\\[f(C)=\\lbrace f(x) \\in B \\mid x \\in C\\rbrace\\]陪域$B$的子集$D\\subseteq B$ 的逆像 (inverse image, 也叫原像)定义为\\[f^{-1}(D) = \\lbrace x \\in A \\mid f(x) \\in D\\rbrace\\]特别地，有$R(f)=f(A)$ ，即这里函数的值域就是指定义域$A$的像(image) 。像与逆像举例 定义函数$f:A\\to B$ 为$f(x) := \\sin (\\pi x)$ . 则有则有$f([0,\\frac{1}{2}])=[0,1]$ ，$f^{-1}({0})=\\mathbb{Z}$ 等等.与逆像有关的命题 考虑函数$f:A\\to B$ . 令$C$ 和 $D$为$B$ 的子集, 则\\[\\begin{align}(1)&amp;amp; \\quad f^{-1}(C\\cup D) = f^{-1}(C) \\cup f^{-1}(D) \\\\(2)&amp;amp; \\quad f^{-1}(C\\cap D) = f^{-1}(C) \\cap f^{-1}(D) \\\\(3)&amp;amp; \\quad f^{-1}(C^{\\complement}) = (f^{-1}(C))^{\\complement}\\end{align}\\]命题$(3)$ 应理解为 $f^{-1}(B-C) =A - f^{-1}\\left(C\\right)$ .Proof. 根据逆像、交并补运算的定义可推出“$\\subseteq$” 和 “$\\supseteq$”关系成立，从而证明集合相等. 证明过程类似，此处略。与像有关的结论更弱一些 (交集的像不一定等于像的交集)：与像有关的命题 考虑函数$f:A\\to B$ . 令$C$ 和 $D$为$A$ 的子集, 则\\[\\begin{align}(4)&amp;amp; \\quad f(C\\cup D) = f(C) \\cup f(D) \\\\(5)&amp;amp; \\quad f(C\\cap D) \\subseteq f(C) \\cap f(D)\\end{align}\\]Proof. 根据定义容易证明$(4)$ 等式成立. $(5)$ 根据定义容易证明“$\\subseteq$” 成立，反之则不成立, 仅当$f$是单射时左右两个集合才相等. 当$f$不是单射(存在多对一关系)时，可能出现两子集交集的像小于各自像的交集，甚至$C\\cap D$为空集的情况. 反例1 定义$f:\\mathbb{N} \\to {0,1}$ 为 $f(x) = x \\ \\text{mod}\\ 2$ . 令 $C = {2, 4}$ , $D={1, 6}$ . 则$C\\cap D = \\emptyset$ , $f(C\\cap D)=\\emptyset$ , $f\\left(C\\right)={0}$, $f(D)={0,1}$ ，$f\\left(C\\right)\\cap f(D)={0}$ 反例2 令$𝐶=\\lbrace 1,2 \\rbrace$, $𝐷=\\lbrace 1,3\\rbrace$ ，设 $𝑓(1)=1$, $𝑓(2)=2$, $𝑓(3)=2$单射、满射、双射、反函数、复合函数单射的定义 令$f:A\\to B$ 表示一个函数。如果\\[f(x_1) = f(x_2) \\implies x_1 = x_2 \\quad \\Bigl(\\ x_1 \\neq x_2 \\implies f(x_1)\\neq f(x_2)\\ \\Bigr)\\]我们就称$f$是单射的 (injective) 或一对一的 (one-to-one) 。换句话说，如果对陪域$B$中每个元素 $\\forall y \\in B$ , 逆像$f^{-1}({y})$ 只包含一个元素或者为空，则我们称$f$是单射函数( injection或 injective function ). 如果$f(A)= B$，则我们称$f$是满射的(surjective) 或映成的(onto). 换句话说，如果$f$的值域与陪域是相等的，我们就称$f$是满射函数 (surjection). 如果$f$即是单射又是满射，则我们称$f$是双射的(bijective) 或 $f$是满射函数 (bijection).当$f:A\\to B$ 是双射函数时，$B$ 中每个元素的逆像 $f^{-1}({y})$ 总是$A$ 中一个唯一的元素. 我们把$f^{-1}$看作一个函数$f^{-1}:B \\to A$ , 简写为$f^{-1}(y)$ . 此时我们称$f^{-1}$ 是$f$的反函数 (逆函数，inverse function). 注意，仅当$f:A\\to B$为双射时，反函数才存在. 例如，对于由表达式$f(x):=x^3$ 定义的双射函数$f:\\mathbb{R}\\to\\mathbb{R}$ ，我们有$f^{-1}(x)=\\sqrt[3]{x}$ .复合函数的定义 考虑函数$f:A\\to B$ 和函数 $g:B \\to C$. 函数$f$和$g$ 的复合函数 (composition of functions) $g\\circ f: A\\to C$ 定义为：\\[(g \\circ f)(x) := g\\bigl(f(x)\\bigr)\\]例如，如果函数$f:\\mathbb{R}\\to\\mathbb{R}$ 是 $f(x) := x^3$ 且函数$g:\\mathbb{R}\\to\\mathbb{R}$ 是$g(y):=\\sin(y)$ ，则复合函数$(g\\circ f)(x) = \\sin(x^3)$ .命题 双射函数的复合函数还是双射函数 (composition of bijections is a bijection)Proof. 令$h:A\\to C$ 是双射函数$f:A\\to B $ 和 $g:B\\to C$ 的复合函数，记为$h(x)=(g\\circ f)(x)$ . 先证$h$是单射，即$h(x_1)=h(x_2) \\implies x_1 = x_2$ . 如果$h(x_1)= h(x_2)$ 则有$g(f(x_1))=g(f(x_2))$ $\\implies$ $f(x_1)=f(x_2)$ (g是单射) $\\implies$ $x_1=x_2$ (f是单射). $h$是单射得证. 再证$h$是满射, 即$h(A)=C$ : $\\forall z \\in C,\\ \\exists\\ x \\in A\\ s.t.\\ h(x)=z $. 令$z \\in C$. $\\because g$是满射 $\\therefore $ $\\forall z \\in C,\\ \\exists\\ y \\in B \\ s.t.\\ g(y)=z$. $\\because f$是满射 $\\therefore$ $\\forall y \\in B,\\exists x \\in A\\ s.t. f(x)=y$ $\\therefore$ $\\forall z \\in C,\\ \\exists x \\in A\\ s.t.\\ g(f(x))=z$ 即 $h(x)=z$ . $h(A)=C$ 得证. $\\square$" }, { "title": "分析基础：数学归纳法", "url": "/posts/Basic-Analysis-Induction/", "categories": "数学, 数学分析", "tags": "良序原理, 数学归纳法, 强归纳法, 算术基本定理", "date": "2025-03-09 17:21:27 +0800", "snippet": "证明包含正整数(自然数)的命题，一个常见的方法是数学归纳法。按照自然方式排序 ($1&amp;lt;2&amp;lt;3&amp;lt;4&amp;lt;\\cdots$) 的自然数集 (正整数集) 具有所谓“良序”的性质。正整数集$S \\subset N$ 存在一个最小元，意味着存在正整数$x \\in S$ , 使得对每个$y \\in S$ 都有 $x \\le y$ .良序原理 (well ordering principle)良序原理：每个非空正整数集都有最小元. 本书把良序原理作为公理，数学归纳法作为定理，这与Apostol Calculus的处理是相反的。数学归纳法 (Induction)定理 (数学归纳法原理) 设$P(n)$是一个关于正整数$n$的命题，如果 设$P(n)$是一个关于正整数$n$的命题，如果 $(i)$ (base case) $n=1$ 时， P(1)成立.$(ii)$ (induction step) 如果$P(n)$成立，则$P(n+1)$也成立 那么$P(n)$ 对所有正整数都成立。证明： 令 $S = \\lbrace{ n \\in \\mathbb{N} \\mid P(n)不成立 \\rbrace}$ , 即$S$为使得$P(n)$不成立的所有正整数的集合. 要证的结论是$S=\\emptyset$ . 我们采用反证法，假设集合$S$ 非空。根据良序原理，此时正整数集$S$存在最小元，记$m \\in S$ 为$S$ 的最小元. 由$(i)$ 知 $1 \\notin S$, 所以最小元$m &amp;gt; 1$ , 则$m-1$也是正整数. 因为$m$是最小元，所以 $m-1 \\notin S$ , 即$P(m-1)$ 成立. 但根据归纳步骤，$P(m-1+1) = P(m)$ 也成立, 这与$m \\in S$ ( 即 $P(m)$ 不成立 ) 是矛盾的，故假设不成立, $S = \\emptyset$ 得证，即$(i)$ 和 $(ii)$都满足时，$P(n)$ 对所有正整数都成立. $\\square$有时不把1作为base case更方便，只需改变初始值的记号即可。归纳步骤“$P(n)$ 成立 $\\implies P(n+1)$ ” 中的“$P(n)$ 成立” 的假设称为归纳假设.例1 证明：$2^{n-1} \\le n!$ 对所有$n \\in \\mathbb{N}$ 都成立.Proof. 把命题“$2^{n-1} \\le n!$” 记为$P(n)$. $(i)$ $n=1$ 时，$2^{1-1}=1!$ , $P(1)$ 显然成立.$(ii)$ 假设$P(n)$ 为真，即$2^{n-1}\\le n!$ 成立. 不等式两边同乘$2$有 $2^n \\le 2(n!)$ 因为$2 \\le n+1$ 对所有$n \\in \\mathbb{N}$ 都成立，我们有 $2(n!)\\le (n+1)n! = (n+1)!$ 则 $2^n \\le (n+1)!$ 成立. 故$P(n+1)$ 成立.根据数学归纳法 ，$P(n)$对所有$n \\in \\mathbb{N}$ 都成立, 即$2^{n-1} \\le n!$ 对所有$n \\in \\mathbb{N}$ 都成立. $\\ \\square$例2 证明：对任意实数$c \\ne 1$ 有 \\(\\begin{align}1 + c + c^2 + \\cdots + c^n = \\dfrac{1 - c^{n+1}}{1-c} \\quad (等比数列求和公式)\\end{align}\\)Proof. 把要证的命题记为$P(n)$. $(i)$ $n = 1$ 时，等式左边 = $1 + c$ ，等式右边$\\dfrac{1-c^2}{1-c} = \\dfrac{(1+c)(1-c)}{1-c}=1+c$ . $P(1)$成立. $(ii)$ 假设$P(n)$成立，则\\[\\begin{align}1+c+c^2+\\cdots+c^n + c^{n+1} &amp;amp;= (1+c+c^2+\\cdots+c^n ) + c^{n+1} \\\\&amp;amp;= \\dfrac{1-c^{n+1}}{1-c} + c^{n+1} \\\\&amp;amp;= \\dfrac{1-c^{n+1}+(1-c)c^{n+1}}{1-c} \\\\&amp;amp;= \\dfrac{1-c^{n+1}+c^{n+1}- c\\cdot c^{n+1}}{1-c} \\\\&amp;amp;= \\dfrac{1- c^{(n+1)+1}}{1-c}\\end{align}\\]故$P(n+1)$ 也成立. 由归纳法原理，等式$1+c+c^2+\\cdots+c^n = \\dfrac{1-c^{n+1}}{1-c}\\ (c\\ne1)$ 对所有$n \\in \\mathbb{N}$ 都成立. $\\square$例3 证明：如果$c \\ge -1$ , 则\\[(1+c)^n \\ge 1 + nc \\quad (\\text{Bernoulli&#39;s Inequality})\\]对所有$n \\in \\mathbb{N}$ 都成立.Proof. 把要证的命题记为$P(n)$. $(i)$ $n=1$时，$(1+c)^1 = 1 + 1\\cdot c$ , $P(1)$显然成立.$(ii)$ 假设$(1+c)^n \\ge 1+nc$ 成立，则\\[\\begin{align}(1+c)^{n+1} &amp;amp;= (1+c)(1+c)^n \\\\ &amp;amp;\\ge (1+c)(1+nc) \\\\ &amp;amp;= 1 + nc + c + nc^2 \\\\ &amp;amp;= 1 + (n+1)c + nc^2\\end{align}\\]因为$nc^2 \\ge 0$，$(1+c)^{n+1} \\ge 1+(n+1)c$ 成立，即$P(n+1)$也成立 . 由归纳法原理，如果$c\\ge -1$, $(1+c)^n \\ge 1+nc$ 对所有$n \\in \\mathbb{N}$ 都成立. $\\square$在归纳步骤，有时假设$P(k)$ 对所有$k=1,2,\\cdots n$ 都成立 (而不仅是$k=n$ 时成立)，更容易证明一些命题。 这个原理叫做强归纳法，它与第一数学归纳法是等价的。强归纳法 (strong induction)设$P(n)$是一个关于正整数$n$的命题，如果 $(i)$ (base case) $n=1$ 时， P(1)成立.$(ii)$ (induction step) $\\forall n \\ge 1$ , $P(k)$ 对$1 \\le k \\le n$ 的所有整数都成立，可推出$P(n+1)$ 成立.则$P(n)$ 对所有正整数都成立。在初等数论中，算术基本定理的证明是强归纳法一个经典应用。算术基本定理 (唯一因数分解定理) 任意大于1的整数都可唯一分解成素数的乘积。Fundamental theorem of arithmetic (unique factorization theorem) Every integer greater than 1 can be represented uniquely as a product of prime numbers, up to the order of the factors. (up to X means X is ignored, 不考虑因数顺序的情况下，分解方式是唯一的). 唯一性的含义是：如果两种分解方式是相同的，则质因数的个数相同，且各个质因数是一一对应的。这个定理也是1不被当作素数的主要原因：如果1是素数，那它的分解方式不是唯一的，因数的个数可以任意多个，例如 $2 = 2 \\cdot 1 = 2 \\cdot (1 \\cdot 1) = 2 \\cdot (1\\cdot 1\\cdot 1) = \\cdots$证明： 先用强归纳法证明分解的存在性。即任意大于1的整数$n$都能表示成素数的乘积。$(i)$ $n = 2$ 时，2本身就是素数，显然成立。$(ii)$ 假设$\\forall n &amp;gt;= 2$ , $2 \\le k \\le n$ 的所有整数$k$都能分解成素数之积， 如果$n+1$是素数，则整数$n+1$能分解成素数显然成立；如果$n+1$ 不是素数，则有$n+1 = n_1 \\cdot n_2$ , 其中$2 \\le n_1, n_2 \\le n$ . 由归纳假设， $n_1$和$n_2$都能分解成素数之积，则$n+1$能分解成素数之积也成立. 根据强归纳法，对任意大于1的整数$n$分解的存在性都成立.再用第一归纳法证明分解的唯一性。 记$n = p_1p_2\\cdots p_t$ 为整数$n$ 的一种分解方式.对素因素的个数$t$进行归纳：$(i)$ $t = 1$时，$n$ 仅有一个素因数，即$n=p$的形式，分解的唯一性显然成立. $(ii)$ 假设素因数个数为 $t$ 时分解的唯一性成立. 当素因数个数为 $t+1$ 时，假设存在两种分解方式: $p_1p_2\\cdots p_tp_{t+1} = q_1q_2\\cdots q_sq_{s+1}$则有$p_{t+1} \\mid q_1q_2\\cdots q_sq_{s+1}$ 即 $p_{t+1}$能整除 ( is a divisor of ) $q_1q_2\\cdots q_sq_{s+1}$ $\\because$ $p_{t+1}$是素数 且等式右边是素数的乘积，$\\therefore p_{t+1}$ 必然等于右边某一个素因数，不妨记为$q_{s+1}$ . 两边分别消去$p_{t+1}$和$q_{s+1}$ 有 $p_1p_2\\cdots p_t = q_1q_2\\cdots q_s$ . 根据归纳假设，素因数个数为$t$的整数$p_1p_2\\cdots p_t$ 分解方式是唯一的，即$t = s$ 且等式两边的素因数是一一对应的.所以$p_1p_2\\cdots p_tp_{t+1}$ 和 $q_1q_2\\cdots q_sq_{s+1}$ 这两种分解方式中的素因数都是一一对应的，即不存在两种分解方式，这与假设矛盾，所以当素因数个数为$t+1$时分解的唯一性也成立，归纳步骤的结论得证。根据数学归纳法，分解的唯一性得证. $\\square$" }, { "title": "分析基础：集合", "url": "/posts/Basic-Analysis-Sets/", "categories": "数学, 数学分析", "tags": "集合运算", "date": "2025-03-09 16:10:58 +0800", "snippet": " 子集的定义 (subsets)$(i)$ 如果$x \\in A \\implies x \\in B$ 我们说A是$B$ 的子集，记为 $A \\subseteq B$. 也就是说，$A$的所有成员也都是$B$ 的成员. 同样的包含关系也可以记为 $B \\supseteq A$. $(ii)$ 集合相等的定义：如果$A \\subseteq B$ 且 $B \\subseteq A$ ，我们说集合A与集合$B$ 相等，记为$A=B$. 也就是说，$A$和$B$包含的元素完全相同. 集合$A$和集合$B$ 不相等则记为$A \\neq B$. $(iii)$ 如果$A \\subseteq B$ 且 $A \\neq B$ ，我们说$A$是$B$的真子集 (proper subset)，记为 $A \\subset B$. 集合运算的定义 (set operations) $(i)$ 两个集合$A$ 与$B$ 的并集 (union) 定义为： $A \\cup B := \\Bigl\\lbrace{ x \\mid x \\in A \\ 或 \\ x \\in B \\Bigr\\rbrace}$ $(ii)$ 两个集合$A$ 与$B$ 的交集 (intersection) 定义为：$A \\cap B := \\Bigl\\lbrace x \\mid x \\in A \\ 且 x \\in B\\Bigr\\rbrace$ $(iii)$ $B$ 在$A$ 中的相对补集 (the complement of B relative to A, 或记为集合论差$A-B$ ) 定义为：$A \\setminus B := \\Bigl\\lbrace x \\mid x \\in A \\ 且\\ x \\notin B\\Bigr\\rbrace$ ($iv$) 更常见的是绝对补集，如果$A$ 为全集 (universe) 或从上下文可知$A$包含$B$，我们说$B$ 的补集 (complement of $B$), 记为$B^{\\complement}$ 而不是 $A \\setminus B$ . $(v)$ 如果$A \\cap B = \\emptyset$ , 我们说$A$和$B$ 是分离的 (disjoint). 德摩根律 (Demorgan) 如果$A$ , $B$, $C$ 为任意三个集合，我们有$1)$ $(B \\cup C)^{\\complement} = B^{\\complement} \\cap C^{\\complement}$ $2)$ $(B \\cap C)^{\\complement} = B^{\\complement} \\cup C^{\\complement}$ 更一般地，$3)$ $A - (B \\cup C) = (A - B) \\cap (A-C)$ $4)$ $A - (B \\cap C) = (A-B) \\cup (A-C)$证明： 只要证明 $3)$ 和 $4)$ 再把$A$ 替换为全集就能证明$1)$和 $2)$ . 我们来证明$A-(B \\cup C) = (A-B) \\cap (A-C)$ . 其余等式的证明作为练习. 根据集合相等的定义需证明： $A-(B\\cup C) \\subseteq (A-B)\\cap(A-C)$ 且 $(A-B)\\cap(A-C)\\subseteq A-(B\\cup C)$.根据子集的定义就是要证：$x \\in A-(B\\cup C)\\implies x \\in (A-B)\\cap (A-C)$ 且 $x \\in (A-B)\\cap(A-C)\\implies x\\in A-(B\\cup C)$. 假设$x \\in A-(B\\cup C)$. 由相对补集定义有 $x \\in A$ 且 $x \\notin B\\cup C$. 由并集的定义有：$x \\in A$ 且 $x \\notin B$ 且 $x \\notin C$ 即 $x \\in (A-B)$ 且 $x \\in(A-C)$ 由交集的定义有 $x \\in (A-B)\\cap(A-C)$ 所以 $A-(B\\cup C) \\subseteq (A-B)\\cap(A-C)$ 得证.假设$x \\in (A-B)\\cap(A-C)$. $x \\in (A-B) \\implies x \\in A$ 且 $x \\notin B$ , $x \\in (A-C)$ $\\implies x \\in A$ 且 $x \\notin C$ . $\\therefore$ $x \\notin B$ 且 $x \\notin C$ $\\implies x \\notin B \\cup C$ $\\therefore$ $x \\in A$ 且 $x \\notin (B \\cup C)$ 由相对补集定义即$x \\in A - (B\\cup C)$ , $(A-B)\\cap(A-C) \\subseteq A - (B\\cup C)$ 得证. $\\square$有时我们也需要同时对多个集合进行交集或并集操作。如果集合的数量只是有限多个，那么我们可以只需多次进行交集或并集运算。然而，假设我们有一个无限的集族 (collection of sets, 集合的集合) $\\lbrace{ A_1,A_2,A_3\\cdots \\rbrace}$ . 我们定义：\\[\\begin{align}\\bigcup_{n=1}^{\\infty} A_n &amp;amp;= \\lbrace\\ x \\mid 至少存在一个n \\in \\mathbb{N},使得x \\in A_n \\ \\rbrace \\\\\\bigcap_{n=1}^{\\infty} A_n &amp;amp;= \\lbrace\\ x \\mid 对每个n\\in \\mathbb{N} \\ 都有x \\in A_n\\rbrace\\end{align}\\]根据集族的并集和交集的定义，任意多个集合之间的交或并运算都自动满足结合律。即写作$A_1 \\cap A_2\\cap\\cdots A_n$ 可以不用加括号, 不会产生歧义。我们也可以用两个自然数来给集族中的集合编号。例如集族 $\\lbrace A_{1,1},A_{1,2},A_{2,1},A_{1,3},A_{2,2},A_{3,1},\\cdots\\rbrace$ 可以记为\\[\\bigcup_{n=1}^{\\infty}\\bigcup_{m=1}^{\\infty}A_{n,m} = \\bigcup_{n=1}^{\\infty}\\left(\\bigcup_{m=1}^{\\infty}A_{n,m}\\right)\\]交运算的记法也类似。不难看出，这两次并运算的结果与执行的次序无关。但是并和交的混合运算交换次序后结果不一定相同，是否可以交换要先进行证明。例如\\[\\bigcup_{n=1}^{\\infty}\\bigcap_{m=1}^{\\infty}\\lbrace k \\in \\mathbb{N} \\mid mk &amp;lt; n\\rbrace\\]无论给定的$n$多大，因为$m$ 没有上界，总会出现 $k &amp;lt; \\dfrac{n}{m} &amp;lt; 1$ 的情况，即集族中必有空集，根据定义，空集与任何集合的交集都为空集，则有 $\\bigcap\\limits_{m=1}^{\\infty}\\lbrace{ k\\in\\mathbb{N} \\mid mk &amp;lt; n \\rbrace} = \\emptyset$ . 所以 $\\bigcup\\limits_{n=1}^{\\infty}\\bigcap\\limits_{m=1}^{\\infty}\\lbrace k \\in \\mathbb{N} \\mid mk &amp;lt; n\\rbrace = \\bigcup\\limits_{n=1}^{\\infty}\\emptyset = \\emptyset$. 交换运算顺序原式变为：\\[\\bigcap_{m=1}^{\\infty}\\bigcup_{n=1}^{\\infty}\\lbrace k \\in \\mathbb{N} \\mid mk &amp;lt; n\\rbrace\\]给定$m$时，因为$n$没有上界， $k &amp;lt; \\dfrac{n}{m}$ 可以取遍所有自然数，则有$\\bigcup\\limits_{n=1}^{\\infty}\\lbrace k \\in \\mathbb{N} \\mid mk &amp;lt; n\\rbrace = \\mathbb{N}$. 所以 $\\bigcap\\limits_{m=1}^{\\infty}\\bigcup\\limits_{n=1}^{\\infty}\\lbrace k \\in \\mathbb{N} \\mid mk &amp;lt; n\\rbrace = \\bigcap\\limits_{m=1}^{\\infty} \\mathbb{N} = \\mathbb{N}$. 交换次序后运算结果并不相等。" }, { "title": "Elements of Set Theory C2 公理与运算", "url": "/posts/ElementsOfSetTheory-C2-AxiomsAndOperations/", "categories": "数学, 集合论", "tags": "集合论，ZFC公理", "date": "2024-12-30 03:53:59 +0800", "snippet": "" }, { "title": "Apostol微积分Ⅰ第二章 积分的若干应用 P1", "url": "/posts/Apostol-calculus1-C2-1/", "categories": "数学, 微积分", "tags": "积分，积分的应用", "date": "2024-05-24 05:54:10 +0800", "snippet": "2.1 导言在$1.18$节中我们把非负函数纵标集的面积表示为一个积分. 在这章中我们将指出更一般区域的面积也能用积分来表示. 我们还将进一步讨论积分在体积、功和平均值等概念上的应用. 然后在本章的最后，我们将研究由积分所定义的函数的性质.2.2 把两函数图形之间区域的面积表示为积分对于$[a,b]$上所有$x$，如果两个函数$f$与$g$ 由不等式$f(x) \\le g(x) $ 所关联，就记为在$[a,b]$上$f\\le g$. 图$2.1$展示了两个例子. 如果在$[a,b]$上有$f\\le g$ ，则由满足不等式\\(f(x) \\le y \\le g(x), \\quad a \\le x \\le b\\)的所有点$(x,y)$ 组成的集合$S$ 被称为$f$和$g$之间的图形之间的区域. 下面的定理告诉我们如何把$S$的面积表示为一个积分.定理2.1 假设$f$和$g$在$[a,b]$上可积且满足$f \\le g$ ，则两个图形之间的面积是可测的，且面积由积分\\[a(S) = \\int_a^b [g(x) - f(x)] dx\\]给出.证明： 先假设$f$和$g$都是非负函数，如图$2.1(a)$ 所示. 令$F$ 和$G$表示以下集合：\\[F=\\{(x,y)\\ |\\ a \\le x \\le b,\\ 0 \\le y \\lt f(x) \\} \\quad G=\\{(x,y)\\ |\\ a \\le x \\le b,\\ 0 \\le y \\le g(x)\\}\\]也就是说， $G$是$g$的纵标集，$F$是$f$的纵标集减去$f$的图形. $f$和$g$的图形之间的区域$S$是这两点集之差$S = G - F$. 根据定理I.10和定理I.11 ，$F$和$G$都是可测的. 因为$F \\subseteq G$ ，根据面积公理的可减性 ，差集$S=G-F$ 也是可测的, 且面积等于两纵标集面积之差，即两非负函数积分之差，于是我们有\\[a(S) = a(G-F) = a(G)-a(F) = \\int_a^b g(x)\\ dx - \\int_a^b f(x)\\ dx = \\int_a^b [g(x)-f(x)]\\ dx\\]这就证明了当$f$和$g$ 都非负时定理$2.1$ 是成立的.现在考虑一般的情况：在$[a,b]$ 上有 $f \\le g $ 但$f$和$g$ 不一定都是非负的，图$2.1(b)$ 所示就是一例. 只要将该区域向上滑动至$x$轴以上，我们就可以把这个情形简化为图$2.1(a)$的情况. 也就是说，我们选择一个足够大的正数$c$ 以确保$ 0 \\le f(x)+c \\le g(x)+c$ 在$[a,b]$ 上成立. 根据刚才已证明的结论，$f+c$ 和 $g+c$ 图形之间的新区域$T$ 也是可测的，且面积由积分\\[a(T) = \\int_a^b [g(x)+c]\\ dx - \\int_a^b [f(x)+c]\\ dx = \\int_a^b [g(x)-f(x)]\\ dx\\]给出. 因为$T$是通过平移$S$得到，所以$T$和$S$是全等的，根据面积公理之全等不变性, 平移前的区域 $S$ 也是可测的，且有\\[a(S) = a(T) = \\int_a^b [g(x)-f(x)]\\ dx\\]这就完成了证明. $#$$\\boldsymbol{v}$$\\boldsymbol{a} = []$" }, { "title": "Apostol微积分Ⅰ第一章 积分学概念 P5 单调函数的积分", "url": "/posts/Apostol-calculus1-C1-5/", "categories": "数学, 微积分", "tags": "积分学概念，积分理论，单调函数", "date": "2024-04-28 19:12:05 +0800", "snippet": "1.20 单调函数与分段单调函数如果对集合$S$中$x&amp;lt;y$的每一对点$x$和$y$，都有$f(x) \\le f(y)$ ，则称函数$f$在$S$ 上是递增的. 如果对$S$ 中所有$x\\lt y$，严格不等式$f(x) \\lt f(y)$ 成立，则称函数$f$在$S$上是严格递增的. 类似地，如果对$S$中所有$x\\lt y$ 都有$f(x)\\ge f(y)$ , 则称函数$f$在$S$上是递减的. 如果对$S$中所有$x\\lt y$ 都有$f(x)\\gt f(y)$ ，则称函数$f$在$S$上是严格递减的. 如果一个函数在$S$上递增或递减，则称函数在$S$上是单调的 (monotonic). 严格单调这个术语的意思是$f$在$S$上严格递增或严格递减. 通常我们讨论的集合$S$是一个开区间或是一个闭区间，例子如图$1.33$所示.如果一个函数$f$的图像由有限个单调分段所组成, 则称函数$f$在区间上是分段单调的 (piecewise monotonic) . 也就是说，如果存在一个$[a,b]$ 划分$P$，使得$f$ 在$P$的每个开子区间都是单调，则$f$在$[a,b]$上是分段单调的. 特别地，阶梯函数就是分段单调的，如同图$1.33$和$1.34$所示的例子那样. 下面来看几个单调函数和分段单调函数的例子.例1 幂函数 (power functions). 如果$p$是一个正整数，则对所有 $0\\le x \\lt y$ ，我们有不等式\\(x &amp;lt; y\\)成立. 以上结论由数学归纳法容易证得：当$p=1$时，$x\\lt y$ 显然成立；假设对任意给定的正整数$k$，$x \\lt y^k$ 成立.此时有$x^{k+1} = x \\cdot x \\lt y \\cdot x &amp;lt; y \\cdot y = y^{k+1}$ 即$x^{k+1} \\lt y^{k+1}$. $#$ 这表明对于全体实数$x$， 由等式$f(x)=x^p$ 定义的幂函数在非负实轴上是严格递增的. 由数学归纳法和实数的序公理推论也容易证明： 幂函数$f$在负实轴上也是单调的. ($p$为偶数时递减，$p$为奇数时递增). 因此, 幂函数在每个有限区间是分段单调的.例2 平方根函数 (square-root functions). 令$f(x)=\\sqrt{x}$ ( $x \\ge 0$ ). 这个函数在非负实轴上是严格递增的. 事实上，如果$0 \\le x \\lt y$ ，我们有\\(\\sqrt{y}-\\sqrt{x} = \\dfrac{y-x}{\\sqrt{y}+\\sqrt{x}} \\gt 0\\)即$\\sqrt{x} &amp;lt; \\sqrt{y}$ 成立.例3 由$g(x)=\\sqrt{r-x}$ ($-r \\le x \\le r$) 定义的函数$g$的图形是一个半径为$r$的半圆. 这个函数在区间$[-r,0]$上是严格递增的, 在区间$[0,r]$上是单调递减的. 因此$g$在$[-r,r]$上是分段单调的.1.21 单调有界函数的可积性单调函数在积分理论中之所以重要是因为以下定理.定理1.12 如果有界函数$f$在闭区间$[a,b]$上是单调的，则$f$在$[a,b]$ 上是可积的.证明： 我们先证明定理对于递增函数是成立的，递减函数的情况同理可证. 假设$f$是递增的. 令$\\mathit{\\underline{I}}(f)$和$\\bar{I}(f)$分别表示$f$的下积分和上积分 (下阶梯函数积分的上确界和上阶梯函数积分的下确界) . 根据定理1.9，函数可积当且仅当上积分与下积分相等，因此我们只需证明$\\mathit{\\underline{I}}(f) = \\bar{I}(f)$.令$n$是一个正整数，构造两个特殊的近似阶梯函数$s_n$和$t_n$ : 令$P={x_0, x_1,\\cdots,x_{n-1},x_n}$ 是一个把$[a,b]$等分成$n$个子区间的划分, 即每个子区间$[x_k, x_{k-1}]$的长度都为$x_k-x_{k-1}=\\dfrac{b-a}{n}$. 现在用公式\\(s_n(x) = f(x_{k-1})\\ , \\quad t_n(x) = f(x_k) \\quad (x_{k-1}\\lt x \\lt x_k)\\)来定义阶梯函数$s_n$和$t_n$. 在分点处，定义$s_n$和$t_n$的函数值使得在整个$[a,b]$上关系式$s_n(x) \\le f(x) \\le t_n(x)$ 成立. 如图$1.35$所示是一个例子. 关于构造出来的这两个阶梯函数，我们有\\[\\begin{align}\\int_a t_n - \\int_a s_n &amp;amp;= \\sum_{k=1} f(x_k) (x_k-x_{k-1})-\\sum_{k=1} f(x_{k-1})(x_k-x_{k-1}) \\\\&amp;amp;= \\dfrac{b-a}{n}\\sum_{k=1} [f(x_k)-f(x_{k-1})] \\\\&amp;amp;= \\dfrac{b-a}{n}(f(x_1)-f(x_0)+f(x_2)-f(x_1) + \\cdots + f(x_n)-f(x_{n-1})) \\\\&amp;amp;= \\dfrac{b-a}{n} (f(x_n)-f(x_0)) = \\dfrac{(b-a)[f(b)-f(a)]}{n} \\end{align}\\]最后一个等式描述的关系有一个简单的几何解释. $\\int_a t_n - \\int_a s_n$ 这个差等于图$1.35(a)$ 中阴影矩形面积之和. 把这些矩形滑动到右边，使它们落在一个共同的底上 (外阶梯区域第$n$个矩形的垂边上). 如图$1.35(b)$ 所示, 它们刚好填满一个底边长为$\\dfrac{b-a}{n}$ , 高度为$f(b)-f(a)$ 的矩形, 所以阴影面积之和为$\\dfrac{C}{n}$ , 其中$C = (b-a)[f(b)-f(a)]$.现在我们把上述关系式重写为\\[\\int_a t_n - \\int_a s_n = \\dfrac{C}{n} \\tag{1.8}\\]的形式. 因为$s_n \\le f \\le t_n$ 在$[a.b]$ 上成立，由阶梯函数积分性质之比较定理和上下确界的定义可知，$f$ 的下积分和上积分满足\\[\\int_a s_n \\le \\mathit{\\underline{I}}(f) \\le \\int_a t_n \\quad 和 \\quad\\int_a s_n \\le \\bar{I}(f) \\le \\int_a t_n\\]这两组不等式. 用 $-1$乘第一组不等式右边部分得 $-\\mathit{\\underline{I}(f)} \\le - \\int_a s_n$ ，再加到第二组不等式右边部分上，我们有\\[\\bar{I}(f) - \\mathit{\\underline{I}}(f) \\le \\int_a t_n - \\int_a s_n\\]由等式$(1.8)$ 和关系式 $\\mathit{\\underline{I}}(f) \\le \\bar{I}(f)$ (上下积分的定义)，我们得到\\[0 \\le \\bar{I}(f)-\\mathit{\\underline{I}}(f) \\le \\dfrac{C}{n}\\]$\\mathit{\\underline{I}}(f) \\le \\bar{I}(f) \\le \\mathit{\\underline{I}}(f)+ \\frac{C}{n}$ 对所有正整数$n \\ge 1$ 成立. 根据阿基米德性质的推论(1.31), 我们有$\\bar{I}(f)=\\mathit{\\underline{I}}(f)$，这就证明了$f$ 在$[a,b]$上是可积的.1.22 单调有界函数积分的计算定理$1.12$ 的证明不仅说明了单调递增的有界函数存在积分，也提出了一个计算积分值的方法 (即找出数值夹在n等分构造的上下阶梯区域面积之间的数)，可用以下定理来描述.定理1.13 假设$f$在闭区间$[a,b]$上的递增的. 令$x_k = a + k(b-a)/n$ ($k=0,1,\\cdots,n$) . 对所有$n\\ge1$ 的正整数, 如果$I$是满足不等式\\[\\dfrac{b-a}{n}\\sum_{k=0}^{n-1}f(x_k) \\le I \\le \\dfrac{b-a}{n}\\sum_{k=1} f(x_k) \\tag{1.9}\\]的任何一个数，则$I = \\int_a f(x)dx$.证明： 如同定理$1.12$的证明中描述的那样，令$s_n$和$t_n$ 是把$[a.b]$ 区间$n$等分得到的两个特殊的近似阶梯函数. 不等式$(1.9)$ 指出，对所有$n \\ge 1$ 的正整数，有\\[\\int_a s_n \\le I \\le \\int_a t_n \\qquad \\tag{1}\\]由有界函数积分的定义，积分$\\int_a f(x)dx$ 也满足\\[\\int_a s_n \\le \\int_a f(x) dx \\le \\int_a t_n \\qquad \\tag{2}\\]$(2)$乘上$-1$得：\\[- \\int_a t_n \\le - \\int_a f(x)\\ dx \\le -\\int_a s_n \\qquad \\tag{3}\\]$(3)+(1)$ 得：\\[-(\\int_a t_n - \\int_a s_n) \\le I - \\int_a f(x)\\ dx \\le \\int_a t_n - \\int_a s_n\\]又根据等式$(1.8)$ 有\\[\\left| I - \\int_a f(x)\\ dx \\right| \\le \\dfrac{C}{n} \\qquad \\tag{4}\\]如果$I &amp;gt; \\int_a f(x)dx$ , $(4)$ 变为: $I - \\int_a f(x)dx \\le \\frac{C}{n}$ . 此时因为$I - \\int_a f(x)dx &amp;gt;0$, 由阿基米德性质，对任意实数$C$，存在正整数$n$ 使得 $n(I-\\int_a f(x)dx) &amp;gt; C$ 即 $I-\\int_a f(x)dx &amp;gt; \\frac{C}{n}$ 与$(4)$ 矛盾.如果$I &amp;lt; \\int_a f(x)dx$, $(4)$ 变为：$\\int_a f(x)dx - I \\le \\frac{C}{n}$. 此时因为$\\int_a f(x)dx - I &amp;gt;0$ , 由阿基米德性质，存在正整数$n$ 使得$n(\\int_a f(x)dx-I) &amp;gt; C$ 即 $\\int_a f(x)dx - I &amp;gt; \\frac{C}{n}$ . 这也与$(4)$ 矛盾.所以，$I = \\int_a f(x)dx$. $#$同理，类似的论证可给出递减函数情况下对应定理的证明.定理1.14 假设$f$在闭区间$[a,b]$上是递减的. 令$x_k = a+k(b-a)/n\\ (k=0,1,2,\\cdots,n)$. 对所有$n\\ge 1$ 的正整数，如果$I$ 满足不等式\\[\\dfrac{b-a}{n}\\sum_{k=1} f(x_k) \\le I \\le \\dfrac{b-a}{n}\\sum_{k=0}^{n-1} f(x_k)\\]则$I = \\int_a f(x) dx$.1.23 积分 $\\int_{0} x dx \\ (p为正整数)$ 的计算为了说明定理$1.13$的用法，我们来计算积分$\\int_{0} x dx$，其中$b&amp;gt;0$ 且$p$是正整数. 因为被积函数在$[a,b]$ 上有界且单调递增，所以这个积分是存在的.定理1.15 如果$p$为正整数且$b&amp;gt;0$ ，我们有\\(\\int_0 x\\ dx = \\dfrac{b^{p+1}}{p+1}\\)证明： 在I.4.10节数学归纳法杂题13(c) 中我们证明了不等式\\[\\sum_{k=1}^{n-1}k \\lt \\dfrac{n^{p+1}}{p+1} \\lt \\sum_{k=1} k\\]对每个正整数$n$ 和 $p$ 都成立.用$\\dfrac{b^{p+1}}{n^{p+1}}$ 乘上这组不等式得到：\\[\\dfrac{b}{n} \\sum_{k=1}^{n-1}\\left( \\dfrac{kb}{n} \\right) \\lt \\dfrac{b^{p+1}}{p+1} \\lt \\dfrac{b}{n} \\sum_{k=1}^{n}\\left( \\dfrac{kb}{n} \\right)\\]对于$k=0,1,2,\\cdots,n$ ，如果我们令$f(x)=x^p$ 和 $x_k = \\dfrac{kb}{n}$ 则这组不等式可化为\\[\\dfrac{b}{n} \\sum_{k=0}^{n-1} f(x_k) \\lt \\dfrac{b^{p+1}}{p+1} \\lt \\dfrac{b}{n} \\sum_{k=1}^{n} f(x_k)\\]$f(x)=x^p$ 在$[0,b]$ 上单调递增，根据定理1.13 (单调有界函数积分的计算方法) ，这组不等式恰好是$(1.9)$ 在$f(x)=x ,\\ a=0,\\ I = \\dfrac{b^{p+1}}{p+1}$ 时的情形，所以$\\int_0 x dx = \\dfrac{b^{p+1}}{p+1}$. $#$1.24 积分的基本性质从积分的定义出发，不难推导出以下积分的性质. （证明见$1.27$节)定理1.16 关于被积函数的线性性 如果$f$和$g$ 在$[a,b]$ 上都是可积的，则对于每一对常数$c_1$和$c_2$ ，$c_1f+c_2g$ 也是可积的. 而且我们有\\[\\int_a [c_1f(x)+c_2g(x)]\\ dx = c_1 \\int_a f(x)\\ dx + c_2\\int_a g(x)\\ dx\\]注：利用数学归纳法，线性性能被推广成如下形式：如果$f_1, f_2,\\cdots,f_n$ 在$[a,b]$ 上可积，则对所有实数$c_1,c_2,\\cdots,c_n$，$c_1f1+c_2f2+\\cdots+c_nf_n$ 也是可积的. 并且我们有\\[\\int_a \\sum_{k=1}^{n}c_kf_k(x)\\ dx = \\sum_{k=1}^{n} c_k\\int_a f_k(x)\\ dx\\]定理1.17 关于积分区间的可加性 如果以下三个积分有两个积分存在，则第三个积分也存在. 并且我们有\\(\\int_a f(x)\\ dx + \\int_b f(x)\\ dx = \\int_a f(x)\\ dx\\)注：如果$f$在$[a,b]$上是单调的，在$[b, c]$上也是单调的，则积分$\\int_a f$ 和 $\\int_b f$ 都存在，所以$\\int_a f$ 也存在，并且等于另外两个积分之和.定理1.18 平移不变性 如果$f$在$[a,b]$上可积，则对每个实数$c$，我们有\\[\\int_a f(x)\\ dx = \\int_{a+c}^{b+c} f(x-c)\\ dx\\]定理1.19 积分区间的扩大或缩小 如果$f$在$[a,b]$ 上可积，则对于每个实数$k \\ne 0$ , 我们有\\[\\int_a f(x)\\ dx = \\dfrac{1}{k} \\int_{ka}^{kb} f(\\dfrac{x}{k})\\ dx\\]注：在定理$1.18$ 和定理$1.19$，其中一个积分的存在蕴含着另一个积分的存在. 当$k=-1$时，定理$1.19$称为放射性.定理1.20 比较定理 如果$f$和$g$在$[a,b]$ 上都是可积的，且对$[a,b]$内的每个$x$有$g(x)\\le f(x)$ , 则我们有\\[\\int_a g(x)\\ dx \\le \\int_a f(x)\\ dx\\]定理$1.20$一个重要的特例是当对每个$x$ 都有$g(x)=0$ 时. 在这种情况下，定理指出如果在$[a,b]$上处处有$f(x)\\ge 0$ ，则有$\\int_a f(x)\\ dx \\ge 0$. 换句话说，非负函数具有非负的积分. 还能证明：如果严格不等式$g(x) &amp;lt; f(x)$ 对$[a,b]$内所有$x$都成立, 则对于它们的积分，同样的严格不等式也成立，但这个阶段不易给出证明.在第5章中我们将讨论各种计算积分值的方法，这些方法无须利用定义. 然而，这些方法仅适用于少数的函数，对于大多数可积函数，积分的实际数值只能通过估计来得出. 这通常由阶梯函数或其他可以精确计算积分值的简单函数从上和从下逼近被积函数，然后应用比较定理来得到所求函数积分的近似值. 在第7章“函数的多项式逼近”中我们将对这种思想进行更充分的探讨.1.25 多项式的积分 Integration of polynomials在$1.23$节中，我们证明了幂函数的积分公式\\[\\int_{0} x \\ dx = \\dfrac{b^{p+1}}{p+1}\\]对$b &amp;gt; 0$ 和任意正整数$p$ 都成立. 这个公式对$b=0$也成立，因为此时积分限都为0. 利用定理$1.19$ , 我们可以证明积分公式对于负的积分上限也成立. 我们只要在定理$1.19$ 中取$k = -1, a = 0, f(x)=x^p$ 就得到\\[\\begin{align}\\int_{0}^{b} x\\ dx = - \\int_{0}^{-b} (-x) \\ dx \\hspace{-14em} \\\\&amp;amp;\\Longrightarrow \\dfrac{b^{p+1}}{p+1} = (-1)^{p+1} \\int_{0}^{-b} x\\ dx \\\\&amp;amp;\\Longrightarrow \\int_{0}^{-b} x\\ dx = \\dfrac{b^{p+1}}{(-1)^{p+1}} \\cdot \\dfrac{1}{p+1} = \\dfrac{(-b)^{p+1}}{p+1}\\end{align}\\]这就证明了积分公式对负的积分上限也成立. 又根据积分区间的可加性(定理1.17)，我们有\\[\\begin{align}\\int_a x\\ dx &amp;amp;= \\int_{a}^{0} x\\ dx + \\int_{0} x\\ dx \\\\&amp;amp;= \\int_{0} x\\ dx - \\int_{0}^{a} x\\ dx \\\\&amp;amp;= \\dfrac{b^{p+1}}{p+1} - \\dfrac{a^{p+1}}{p+1} \\end{align}\\]这就推广出更通用的积分公式\\[\\int_a x\\ dx = \\dfrac{b^{p+1}-a^{p+1}}{p+1}\\]对积分限为任意实数$a$和$b$ 以及任意非负整数$p$ 都成立.有时特殊符号\\[P(x) \\left|_a\\right.\\]被用来表示$P(b)-P(a)$ 这个差. 于是幂函数的积分公式也可以写成\\[\\int_a x\\ dx = \\left. \\dfrac{x^{p+1}}{p+1} \\right|_a = \\dfrac{b^{p+1}-a^{p+1}}{p+1}\\]利用幂函数积分公式，再结合积分的线性性，我们可以计算出任意多项式函数的积分. 例如，为了计算积分$\\int_1 (x-3x+5)\\ dx $ , 我们先求每项的积分，然后把结果加起来. 于是我们有\\[\\begin{align}\\int_1 (x-3x+5)\\ dx &amp;amp;= \\int_1 x\\ dx - 3\\int_1 x\\ dx + 5\\int_1 dx \\\\&amp;amp;= \\left. \\dfrac{x}{3} \\right|_1 -3\\cdot \\left. \\dfrac{x}{2}\\right|_1 + 5 \\cdot \\left. x \\right|_1 \\\\&amp;amp;= \\dfrac{3-1}{3}- 3 \\cdot \\dfrac{3-1}{2} + 5 \\cdot (3-1) \\\\&amp;amp;= \\dfrac{26}{3} - 12 + 10 = \\dfrac{20}{3}\\end{align}\\]更一般地，为了计算任意多项式的积分，我们可以逐项积分：\\[\\int_a \\sum_{k=0} c_k x \\ dx = \\sum_{k=0} c_k \\int_a x \\ dx = \\sum_{k=0} c_k \\dfrac{b^{k+1}-a^{k+1}}{k+1}\\]我们也能对由不同多项式组成的更复杂函数进行积分. 例如，考虑积分$\\int_0 | x(2x-1)|dx $ . 因为绝对值符号，被积函数不是一个多项式，然而考虑$x(2x-1)$ 的符号，我们可以把区间$[0,1]$分成两个子区间，在每个子区间上被积函数是一个多项式，当$x$从$0$变化到$1$时，乘积$x(2x-1)$在点$x=\\dfrac{1}{2}$ 处改变符号. 当$0 &amp;lt; x &amp;lt; \\dfrac{1}{2}$ 时乘积是负的，当$\\dfrac{1}{2} &amp;lt; x &amp;lt; 1$ 时乘积是正的. 因此，利用积分的可加性我们有\\[\\begin{align}\\int_0 \\left|x(2x-1)\\right| dx &amp;amp;= \\int_0^{1/2} \\left|x(2x-1)\\right| dx + \\int_{1/2} \\left|x(2x-1)\\right| dx \\\\&amp;amp;= \\int_0^{1/2} - [x(2x-1)] dx + \\int_{1/2} x(2x-1)dx \\\\&amp;amp;= -\\int_0^{1/2} x(2x-1) dx + \\int_{1/2} x(2x-1)dx \\\\&amp;amp;= - (2 \\int_0^{1/2}x dx - \\int_0^{1/2} x dx) +(2 \\int_{1/2}^{1}x dx - \\int_{1/2}^{1} x dx)\\\\ &amp;amp;= \\left.\\dfrac{x}{2}\\right|_{0}^{1/2} - 2\\cdot \\left.\\dfrac{x}{3}\\right|_{0}^{1/2} + 2\\cdot \\left.\\dfrac{x}{3}\\right|_{1/2}^{1} - \\left.\\dfrac{x}{2}\\right|_{1/2}^{1} \\\\&amp;amp;= \\dfrac{1}{8} - \\dfrac{1}{12} + 2(\\dfrac{1}{3}-\\dfrac{1}{24}) - (\\dfrac{1}{2}-\\dfrac{1}{8})\\\\&amp;amp;= \\dfrac{1}{8} - \\dfrac{1}{12} + \\dfrac{7}{12} - \\dfrac{1}{2} + \\dfrac{1}{8}\\\\&amp;amp;= \\dfrac{1}{4}\\end{align}\\]" }, { "title": "Apostol微积分Ⅰ第一章 积分学概念 P4 更一般函数的积分", "url": "/posts/Apostol-calculus1-C1-4/", "categories": "数学, 微积分", "tags": "积分学概念，积分的定义", "date": "2024-03-11 06:52:18 +0800", "snippet": "1.16 更一般函数的积分当$s$是阶梯函数时，我们已经定义了积分$\\int_a^b s(x)\\ dx$ , 这一节我们将定义更一般函数$f$的积分. 定义构造出来的积分将具有阶梯函数积分的所有性质 (见$1.13$节).这个定义方法某种程度上是在模仿之前基础篇$I 1.3$提到的阿基米德穷竭法. 简单来说它的思想是这样的：用阶梯函数从下面和从上面逼近函数$f$ (如图$1.30$ 所示). 也就是说，我们选择任意一个图形位于$f$下方的阶梯函数$s$，再选择任意一个图形位于$f$上方的阶梯函数$t$. 然后考虑当选择所有可能的$s$和$t$时， 积分$\\int_a^b s(x)\\ dx$ 和 $\\int_a^b t(x)\\ dx$ 所有取值的集合. 因为$s(x) &amp;lt; t(x)$，由阶梯函数的比较定理$1.5$，我们有\\[\\int_a^b s(x)\\ dx &amp;lt; \\int_a^b t(x)\\ dx\\]如果$f$的积分也具有比较定理的性质，因为$s(x)&amp;lt;f(x)&amp;lt;t(x)$，那么对于任意一对近似函数$s$和$t$， $f$的积分必定是落在积分$\\int_a^b s(x)\\ dx$ 和 $\\int_a^b t(x)\\ dx$ 之间的一个数. 如果有且仅有一个数满足这个性质，我们就把$f$的积分定义为这个数.这个定义过程唯一的麻烦出现在第一步. 不幸的是，不是每一个函数都能用阶梯函数从上和从下近似. 例如，由\\[f(x) = \\dfrac{1}{x}\\ (x \\ne 0),\\quad f(0)= 0\\]这组等式给出的函数对所有实数都有定义，但在任何包含原点的区间$[a,b]$ 上，我们无法用阶梯函数围住$f$. 这是因为$f$ 在原点附近能取得任意大的值，换句话说，在原点的每个领域内$f$是无界的 (见图$1.31$). 因此，我们需要把定义的对象限制在那些在$[a,b]$ 上有界的函数上，即对于这种函数$f$，存在一个数$M&amp;gt;0$，使得对$[a,b]$ 内的每个$x$ 都有\\[-M \\le f(x) \\le M \\tag{1.5}\\]从几何上看，这样一个函数的图形位于两个取值分别为$-M$和$M$的常值阶梯函数$s$和$t$的图形之间. （见图$1.32$)我们说$f$以$M$为界 ($f$ is bounded by $M$). $(1.5)$中两个不等式也可以写成：\\[|\\ f(x)\\ | \\le M\\]解决了这一点麻烦，我们就可以开始定义一般函数的积分.有界函数积分的定义 令$f$为定义在$[a,b]$上的有界函数，令$s$和$t$是定义在$[a,b]$上使得\\[s(x) \\le f(x) \\le t(x) \\tag{1.6}\\]对所有$x$都成立的任意阶梯函数. 如果对每一对满足不等式$(1.6)$ 的阶梯函数$s$和$t$，有且仅有一个数$I$ 使得\\[\\int_a^b s(x)\\ dx \\le I \\le \\int_a^b t(x)\\ dx \\tag{1.7}\\]那么这个数$I$称为函数$f$从$a$到$b$ 的积分，记为$\\int_a^b f(x)\\ dx$ 或 $\\int_a^b f $ . 当这样一个$I$ 存在时，我们说函数$f$在$[a.b]$上是可积的(integrable). 函数$f$称为被积函数 (integrand) , 数$a$和$b$ 称为积分限 (limits of integration)，区间$[a,b]$ 称为积分区间 (interval of integration).当$f$在$[a,b]$ 上可积时，如果$a&amp;lt;b$，我们定义$\\int_b^a f(x)\\ dx = - \\int_a^b f(x)\\ dx$ . 我们也定义$\\int_a^a f(x) = 0$ .1.17 上积分和下积分假设$f$在$[a,b]$ 上有界，如果$s$和$t$是满足不等式$(1.6)$ 关系的阶梯函数，我们说$s$在$f$之下，$t$在$f$之上，写作$s\\le f\\le t$ .令$S$ 表示当$s$取遍$f$之下所有阶梯函数时得到的所有数$\\int_a^b s(x)dx$ 组成的集合. 令$T$表示当$t$取遍$f$之上所有阶梯函数时得到的所有数$\\int_a^b t(x)dx$ 的集合. 也就说，令\\[S = \\left\\{ \\int_a^b s(x)\\ dx\\ \\bigg| s \\le f \\right\\},\\quad T=\\left\\{ \\int_a^b t(x)\\ dx\\ \\bigg| f \\le t\\right\\}\\]显然$S$和$T$都是非空实数集 (因为$f$是有界的) . 而且由于$s \\le f \\le t$ 有 $\\int_a^b s(x)\\ dx \\le \\int_a^b t(x)\\ dx $ (阶梯函数性质之比较定理)，即 $S$ 中的每个数都小于等于$T$ 中的每个数. 根据 上确界和下确界的基本性质之定理I.34 ，$S$有一个上确界，$T$有一个下确界，且对所有满足$s\\le f \\le t$ 的阶梯函数$s$和$t$ ，有不等式\\[\\int_a^b s(x)\\ dx \\le \\sup S \\le \\inf T \\le \\int_a^b t(x)\\ dx\\]成立. 这说明$\\sup S$和$\\inf T$都满足作为$f$的积分定义的不等式$(1.7)$ . 因此，$f$在$[a,b]$上可积当且仅当$\\sup S = \\inf T$. 此时我们有\\[\\int_a^b f(x)\\ dx = \\sup S = \\inf T\\]数 $\\sup S$ 称为$f$的下积分，记为$\\mathit{\\underline{I}}(f)$. 数 $\\inf T $ 称为$f$的上积分，记为$\\bar{I}(f)$. 于是我们有\\[\\mathit{\\underline{I}}(f) = \\sup \\left\\{ \\int_a^b s(x)\\ dx\\ \\bigg| s \\le f \\right\\}\\ , \\quad \\bar{I}(f) = \\inf \\left\\{ \\int_a^b t(x)\\ dx\\ \\bigg| f \\le t \\right\\}\\]上述论证也证明了以下定理：定理 1.9 每个在$[a,b]$上有界的函数$f$ 都有一个下积分$\\mathit{\\underline{I}}(f)$ 和一个上积分$\\bar{I}(f)$ , 对所有满足$s\\le f \\le t$ 的阶梯函数$s$和$t$ , 有不等式\\[\\int_a^b s(x)\\ dx \\le \\mathit{\\underline{I}}(f) \\le \\bar{I}(f) \\le \\int_a^b t(x)\\ dx\\]成立. 函数$f$在$[a,b]$上可积当且仅当它的上积分和下积分相等，此时我们有\\[\\int_a^b f(x)\\ dx = \\mathit{\\underline{I}}(f) = \\bar{I}(f)\\]1.18 把纵标集的面积表示为一个积分在1.6 节中，我们把面积的概念公理化定义为具备某些性质的一个集合函数. 基于这些性质，我们把非负阶梯函数的积分定义为它的纵标集的面积 (见1.12节). 现在我们来证明任何可积的非负函数的积分也等于纵标集的面积。回忆一下，区间$[a,b]$上的非负函数$f$的纵标集是所有满足不等式$a \\le x \\le b,\\ 0\\le y \\le f(x)$ 的点$(x,y)$ 的集合.定理1.10 令 $f$ 是一个在$[a,b]$ 上可积的非负函数，令$Q$表示$f$在$[a,b]$上的纵标集，则$Q$是可测的且面积等于积分$\\int_a^b f(x)\\ dx$ .证明： 令$S$和$T$是满足 $S \\subseteq Q \\subseteq T$ 的两个阶梯区域. 由阶梯函数积分的定义，则有在$[a,b]$上满足 $s \\le f \\le t$ 的两个阶梯函数$s$和$t$，使得\\[a(S) = \\int_a^b s(x)\\ dx \\ ,\\quad a(T) = \\int_a^b t(x)\\ dx\\]因为$f$在$[a,b]$ 上可积，由有界函数积分的定义，对所有满足$s\\le f \\le t$ 的阶梯函数$s$和$t$ ，$I = \\int_a^b f(x)\\ dx$ 是使不等式\\[\\int_a^b s(x)\\ dx \\le I \\le \\int_a^b t(x)\\ dx\\]成立的唯一的数。即对于满足$S\\subseteq Q \\subseteq T$ 的所有阶梯区域$S$和$T$ ， $I$也是满足$a(S) \\le I \\le a(T)$ 的唯一的数. 根据面积公理中的穷竭性，$Q$是可测的，且$a(Q) = I = \\int_a^b f(x)\\ dx$. $#$令$Q$表示定理$1.10$中$f$的纵标集，令$Q’$ 表示从$Q$中移去$f$图形上的点后所得到的点集, 也就是说，令\\[Q&#39; = \\left\\{ (x,y)\\ \\big| a \\le x \\le b,\\ 0 \\le y \\lt f(x) \\right\\}\\]类似地按定理$1.10$中的论证也能证明$Q’$是可测的且$a(Q’) = I = a(Q)$. 证明过程如下.证明: 因为$f$在$[a,b]$ 上可积，由有界函数积分的定义，对所有满足$s\\le f \\le t$ 的阶梯函数$s$和$t$ ，$I = \\int_a^b f(x)\\ dx$ 是使不等式\\[\\int_a^b s(x)\\ dx \\le I \\le \\int_a^b t(x)\\ dx\\]成立的唯一的数.对于满足 $S’\\subseteq Q’\\subseteq T’ $ 的任意一对阶梯区域$S’$和$T’$ ，因为$Q’$不包含$f$上的点, $S’$和$T’$对应的阶梯函数是所有满足$s’ \\lt f \\le t’$ 的阶梯函数. 由前面论证可知至少存在一个数$I=\\int_a^bf(x)dx$ 使得不等式\\[\\int_a^b s’(x)\\ dx \\le I \\le \\int_a^b t&#39;(x)\\ dx\\]对于所有满足$s’\\lt f \\le t’$的$s’$和$t’$都成立.假设存在另一个数$I’ \\ne I$ 使$\\int_a^b s’(x)\\ dx \\le I’ \\le \\int_a^b t’(x)\\ dx$成立，当$t’(x)=f$时，若$I’&amp;gt;I$则不等式不可能成立，所以只可能$I’&amp;lt; I$. 此时必存在一个$s’ &amp;lt; f$ 使得$I’ \\lt \\int_a^b s’(x)dx &amp;lt; I$，则不等式也无法成立，所以假设不成立, 即$I$也是使不等式$\\int_a^b s’(x)\\ dx \\le I \\le \\int_a^b t’(x)\\ dx$ 成立的唯一的数. 由阶梯函数积分的定义有：\\[\\int_a^b s&#39;(x)\\ dx = a(S&#39;)\\ ,\\quad \\int_a^b t&#39;(x)\\ dx = a(T&#39;)\\]则$I$是使$a(S’) \\le I \\le a(T’)$ 成立的唯一的数.根据面积公理中的穷竭性，$Q’$是可测的，且$a(Q’) = I = \\int_a^b f(x)\\ dx= a(Q)$. $#$再根据面积公理中的可减性 (Difference property) ，点集$Q-Q’$ 是可测的，且有 $a(Q-Q’)= a(Q)-a(Q’) = 0$. 从而我们证明了以下定理：定理1.11 令$f$是一个在$[a,b]$上可积的非负函数，则$f$的图形即点集\\[\\left\\{\\ (x,y)\\ \\big| \\ a \\le x \\le b,\\ y = f(x) \\ \\right\\}\\]是可测的，且面积等于0.1.19 积分理论和积分技巧的非正式评注在这个阶段出现了两个基本问题：$(1)$ 哪些有界函数是可积的？ $(2)$ 给定一个可积函数$f$， 如何计算$f$的积分？关于问题$(1)$ , 注意有界函数不一定是可积的. 反例：狄利克雷函数 (Dirichlet function)\\[D(x)=\\left\\{\\begin{array}{}\\hspace{-1.5em} 1 \\ ,\\quad x \\in \\mathbb{Q} \\\\\\hspace{0.5em} 0 \\ ,\\quad x \\in \\mathbb{R}-\\mathbb{Q} \\\\\\end{array}\\right.\\]在有理数点和无理数点对应的函数值不相等，根据积分的定义无法在划分的区间$\\Delta x$ 内找到一个确定的高度，也就无法得到一个矩形来计算出面积, 所以狄利克雷函数是黎曼不可积的.第一个问题属于“积分理论”的范畴，而第二个问题属于“积分技巧的范畴”. 问题$(1)$的完整回答超出了入门课程的范围，本书将不会给出. 我们将只给出仅需基本概念就能理解的部分回答.首先我们介绍一类重要的函数，称为单调函数 (monotonic functions). 下一节我们会定义这类函数并给出一些例子. 然后我们将证明所有单调有界函数都是可积的. 幸运的是，实践中出现的大部分函数都是单调函数或单调函数的和，因此这个小范围的积分理论的结论的应用是相当广泛的.“积分技巧”的讨论从$1.23$节开始，我们将计算$p$为正整数时的积分$\\int_a^b x^p\\ dx$. 然后我们将从积分的定义导出积分的一般性质，例如线性性和可加性, 并说明这些性质如何帮助我们扩展关于特殊函数的积分的知识." }, { "title": "Apostol微积分Ⅰ第一章 积分学概念 P3 阶梯函数积分", "url": "/posts/Apostol-calculus1-C1-3/", "categories": "数学, 微积分", "tags": "积分学概念，积分的定义", "date": "2024-02-23 04:33:31 +0800", "snippet": "1.12 阶梯函数积分的定义本节我们介绍阶梯函数的积分. 构造出的定义将使得非负阶梯函数的积分与它的纵标集的面积相等.令$s$是定义在$[a,b]$上的阶梯函数，令$P={x_0, x_1,\\cdots x_{n-1},x_n}$ 是$[a,b]$的一个划分，使得$s$在$[a,b]$的每个开子区间上都为常数，把$s$在第$k$个开子区间上取得的常值记为$s_k$ , 从而有\\[s(x) = s_k \\quad 当\\ x_{k-1} &amp;lt; x &amp;lt; x_k,\\ k=1,2,\\cdots n\\]阶梯函数积分的定义 $s$的从$a$到$b$的积分，用符号$\\int_{a}^{b}s(x)\\ dx$ 表示, 由以下公式定义：\\[\\int_{a}^b s(x)\\ dx = \\sum_{k=1}^n s_k \\cdot (x_k-x_{k-1}) \\tag{1.3}\\]也就是说，为了计算此积分，我们用第$k$个子区间的长度乘上常值$s_k$ ，然后把这些乘积加起来.注意$s$在分点处的取值是无关紧要的 (immaterial)，因为它们不在定义式 $(1.3)$ 中出现. 特别地，如果$s$在开区间$(a,b)$上 都是一个常数，比方说 $s(x) = c \\ (a &amp;lt; x &amp;lt;b)$ ，那么我们有\\[\\int_a^b s(x) \\ dx = c \\sum_{k=1}^n (x_k-x_{k-1}) = c (b-a)\\]积分与端点处的函数值$s(a)$ 和 $s(b)$ 无关. 如果 $c &amp;gt; 0$ 且对闭区间$[a,b]$上所有$x$都有$s(x) = c$ ，则$s$的纵标集是一个底边长$b-a$ 高为$c$ 的矩形. $s$的积分是$c(b-a)$，即这个矩形的面积. 改变$s$在端点$a$或$b$处的值只是改变了$s$的纵标集，但不会改变$s$的积分或纵标集的面积. 例如，图$1.22$ 展示的两个纵标集具有相同的面积.非负阶梯函数$s$的纵标集包含了有限个矩形，每个矩形在对应函数值为常数的区间上；阶梯函数的纵标集可能包含或缺少某些垂直线段，取决于$s$在分点处如何定义. $s$的积分等于各个矩形的面积之和，与$s$在分点处的取值无关. 这与面积公理定义的事实是一致的：垂直线段的面积为$0$，对纵标集的面积没有影响. 在图$1.23$中，阶梯函数$s$在开区间$(1,2)$ $(2,5)$ 和$(5,6)$ 分别取值为$2,1$和$\\frac{9}{4}$，它的积分等于\\[\\int_1^6 s(x)\\ dx = 2 \\cdot (2-1) + 1 \\cdot (5-2) + \\dfrac{9}{4} \\cdot (6-5) = \\dfrac{29}{4}\\]必须注意，只要$s$在划分$P$ 的开子区间上都是常数， $(1.3)$中的积分公式的结果就与$P$ 的选择无关. 例如，通过插入一个新的分点$t$， 其中$x_0 &amp;lt; t &amp;lt; x_1$，我们把$P$ 改为更精细的划分$P’$. 此时$(1.3)$ 右边的第一项被替换为$s_1 \\cdot (t-x_0)$ 和 $s_1 \\cdot(x_1-t)$ ，其余项保持不变. 因为\\[s_1 \\cdot (t-x_0) + s_1 \\cdot (x_1 -t) = s_1 \\cdot (x_1 - x_0)\\]整个和的值是不变的. 我们可以通过每次插入一个新的分点，把划分从$P$ 改为任意更精细的划分$P’$，因为每次插入后积分定义式$(1.3)$ 的和都会保持不变，所以对所有$P$的精细划分，积分都是相同的.1.13 阶梯函数积分的性质本节我们来描述阶梯函数积分的若干基本性质。大部分性质在用几何解释时都是显然的，有些甚至是平凡 (trivial) 的. 所有这些性质都可以推广到更一般函数的积分，并且一旦确立了阶梯函数的这些性质，证明它们在一般情况下也成立就是简单的事了。下面把这些性质作为定理列出来，并且对阶梯函数积分每种性质的几何解释是根据面积给出的. 定理的解析证明在$1.15$节作为习题.第一个性质指出，两个阶梯函数之和的积分等于积分的和. 这称为可加性，在图$1.24$中说明.定理1.2 可加性 (ADDITIVE PROPERTY) \\(\\int_a^b [s(x) +t(x)]\\ dx= \\int_a^b s(x)\\ dx + \\int_a^b t(x)\\ dx\\)下一个性质是齐次性 (又称比例性，倍乘性), 见图$1.25$. 它指出如果阶梯函数值 (作为积分函数的自变量) 乘以$c$倍，则整个积分的结果也会变为原来的$c$倍 (放缩相同的比例).定理1.3 齐次性 (HOMOGENEOUS PROPERTY) 对任意实数$c$ ，我们有\\[\\int_a^b c \\cdot s(x)\\ dx = c\\int_a^b s(x)\\ dx\\]可加性和齐次性组合在一块就是“线性”的性质.定理1.4 线性性质 (LINEARITY PROPERTY) 对任意实数$c_1$和$c_2$ ，我们有\\[\\int_a^b [c_1 \\cdot s(x) + c_2 \\cdot t(x)]\\ dx = c_1 \\int_a^b s(x)\\ dx + c_2 \\int_a^b t(x)\\ dx\\]接下来我们有一个比较定理，它告诉我们如果在整个$[a,b]$上一个阶梯函数的值都比另一个大，则在这个区间上它的积分也较大.定理1.5 比较定理 (COMPARISON THEOREM) 如果对$[a,b]$内的每个$x$ 都有 $s(x) &amp;lt; t(x)$ , 则\\[\\int_a^b s(x)\\ dx &amp;lt; \\int_a^b t(x)\\ dx\\]从几何上解释，这个定理反映了面积函数的单调性. 如果一个非负阶梯函数的纵标集位于另一个之内，则较小区域的面积小于较大区域的面积.前面的性质涉及到的都是定义在同一区间上的阶梯函数积分，积分还具有把不同区间上的积分联系起来的重要性质，其中的性质我们列为以下定理.定理1.6 关于积分区间的可加性 (ADDITIVITY WITH RESPECT TO THE INTERVAL OF INTEGRATION)\\[\\int_a^c s(x)\\ dx + \\int_c^b s(x)\\ dx = \\int_a^b s(x)\\ dx \\quad其中\\ a &amp;lt; c &amp;lt;b\\]这个定理反映了面积的可加性，见图$1.26$. 如果一个纵标集被分解成两个纵标集，则两部分面积之和等于整个面积.下一个定理可描述为平移不变性. 如果一个阶梯函数$s$ 被“移动”了距离$c$，得到是另一个纵标集的阶梯函数$t$，通过等式$t(x)=s(x-c) $ 与$s$联系起来. 如果$s$是定义在$[a,b]$上，则$t$定义在$[a+c,b+c]$ 上，且它们的纵标集是全等的，具有相同的面积. 这个性质的解析表示如下：定理1.7 平移不变性 (INVARIANCE UNDER TRANSLATION)\\[\\int_a^b s(x)\\ dx = \\int_{a+c}^{b+c} s(x-c)\\ dx \\quad 对任意实数c都成立\\]当$c&amp;gt;0$时，定理的几何意义见图$1.27$. 当$c&amp;lt;0$时，函数的纵标集会向左移动.齐次性 (定理$1.3$) 解释了当在$y$轴上尺度改变 (放缩被积函数值)时，积分会发生什么变化. 下述定理描述的是$x$轴上尺度改变时的情况. 如果$s$是定义在$[a,b]$上的阶梯函数，我们用一个因子$k&amp;gt;0$乘以所有$x$坐标来扭曲水平方向上的尺度，则新图形是定义在区间$[ka,kb]$上的阶梯函数$t$，通过等式\\[t(x) = s(\\dfrac{x}{k}) \\quad ka \\le x \\le kb\\]联系起来.如图$1.28$ 所示是$k=2$时的例子，尺度改变后的图形面积是原图形的2倍. 更一般地，用正因子$k$改变水平方向上的尺度，效果相当于用 $k$ 乘以原积分. 这个性质可用以下形式解析表示：定理 1.8 积分区间的扩大或缩小 (EXPANSION OR CONTRACTION OF THE INTERVAL OF INTEGRATION)\\[\\int_{ka}^{kb} s(\\dfrac{x}{k})\\ dx = k \\int_a^b s(x)\\ dx \\quad 对任意 k &amp;gt; 0 成立\\]直到现在，当我们使用符号$\\int_a^b$ 时都默认下限$a$ 是小于上限$b$ ，为了进一步扩展符号的适用范围，考虑下限大于上限的积分，我们可以定义\\[\\int_b^a s(x)\\ dx = - \\int_a^b s(x)\\ dx \\quad 其中\\ a &amp;lt; b\\ \\tag{1.4}\\]我们还定义\\[\\int_a^a s(x)\\ dx = 0\\]这是令$(1.4)$式中$a=b$ 得出的定义. 这些约定使得定理$1.6$ (积分区间的可加性) 不仅当$c$在$a$和$b$之间时成立，而且对$a,b,c$ 的任意排列都成立，定理$1.6$有时可以写成如下形式：\\[\\int_a^c s(x)\\ dx + \\int_c^b s(x)\\ dx + \\int_b^a s(x)\\ dx = 0\\]类似地，我们可以扩展定理$1.8$ 的有效范围，允许常数$k$为负数. 特别地，当$k=-1$，由定理$1.8$和定义$(1.4)$ 有\\[\\int_a^b s(x)\\ dx = \\int_{-b}^{-a} s(-x)\\ dx\\]我们把这一性质称为积分的反射性 (reflection property)，因为函数$t$ 的图形是通过$y$轴反射$s$的图形得到的，由关系式$t(x)=s(-x)$ 给出. 见图$1.29$的例子.1.14 积分的其他记号符号$\\int_a^b s(x)\\ dx$ 中的字母$x$ 在定义中不起本质作用，用任何其他字母都可以. 字母$t, u, v,z$ 也很常用. 这就是说可以用$\\int_a^b s(t)\\ dt$ ，$\\int_a^b s(u)\\ du$ 等等替代$\\int_a^b s(x)\\ dx$ . 这些都是表示同一事物的可选记号. 这样使用的符号$x, t, u$等被称为“哑变量”，类似于求和记号中的哑指标.一些微积分教科书的作者倾向于把哑变量和符号$\\mathrm{d}$一起省略，而简单地把积分写作$\\int_a^b s$. 使用这个缩写的充分理由在于它着重强调了积分只依赖函数$s$ 和区间$[a,b]$ ，而且缩写会让某些公式看起来更简单，例如可加性的公式变为$\\int_a^b (s+t) = \\int_a^b s + \\int_a^b t$. 另一方面，缩写不适用于定理$1.7$和定理$1.8$ 这样的公式。 更重要的是，我们后面将发现莱布尼兹记号具有某些实用的优点，在这个阶段似乎多余的符号$dx$ ， 在许多涉及积分的常规计算中，却是极有用的计算工具." }, { "title": "Apostol微积分Ⅰ第一章 积分学概念 P2 面积公理", "url": "/posts/Apostol-calculus1-C1-2/", "categories": "数学, 微积分", "tags": "积分学概念，面积", "date": "2024-02-15 16:47:14 +0800", "snippet": "1.6 把面积的概念定义为集合函数从纯数学的角度看，当我们给平面区域指定一个非负实数作为面积，我们就有了一个面积函数$a$, 因为平面区域是点的集合， 面积函数的自变量是集合 (点集$S$)，定义域就是集合的集合 (所有可计算面积的点集的集合)，函数值就是实数$a(S)$. 像这样，定义域是集合的集合 (collection of sets)且函数值是实数的函数，称为集合函数 (set function).一个基本问题是：给定平面点集$S$，我们应该赋予$S$的面积函数值$a(S)$是多少？ 我们的解决方法是从面积应该具备的性质出发，把这些性质作为公理。任何满足这些公理的集合函数都被称为面积函数。注意不是所有平面点集都有面积函数，为了理论的严谨性，应该先证明面积函数的存在性。这里我们不展开证明，而是假定面积函数存在，由公理直接推导出它的性质。关于面积函数的基本构造，可以参考《高观点下的初等几何》的第14章和第22章。 (Edwin E. Moise, Elementary Geometry From An Advanced Standpoint, Addison­ Wesley Publishing Co., 1963.)那些可以计算面积的集合叫作可测集 (measurable sets). 所有可测集的集合记为$\\mathscr{M}$ . 面积公理包含了关于可测集的足够信息，使我们能证明微积分应用中出现的几何图形都属于$\\mathscr{M}$, 这些图形的面积都可以用积分来计算。公理5指出每个矩形都是可测的，且面积是边长的乘积. “矩形”指的是任何与平面点集\\(\\{(x,y)\\ |\\ 0 \\le x \\le h,\\ 0 \\le y \\le k\\}\\)全等的集合 (这里全等与欧氏几何中的三角形全等的含义相同)，其中$h \\ge 0,\\ k \\ge 0$. 数$h$和$k$称为矩形的边长. 线段或点都可看作是矩形的特例 ( $h$或$k$至少有一个为$0$ ).由矩形我们可以构建更复杂的集合. 图$1.14$ 中的集合是底边在$x$轴上的相邻矩形的有限并集, 称为阶梯区域 (step region). 由面积公理可推出每个阶梯区域都是可测的，而且它的面积是矩形块面积之和.图$1.15(a)$ 是纵标集 (ordinate set) 的一个例子. 它的上边界是一个非负函数的图形. 公理6使我们能够证明许多纵标集是可测的，且可以通过内阶梯区域和外阶梯区域来逼近这样的点集并计算出面积, 如图$1.15(b)$和$(c)$所示.下面给出作为公理的面积的定义 (Axiomatic definition of area). 正是这些公理使得我们可以用积分计算面积.面积的公理化定义 假设平面中存在可测集的集合$\\mathscr{M}$ 和一个以$\\mathscr{M}$为定义域的集合函数$a$ 满足以下性质:1. 非负性 (Nonnegative property) 对$\\mathscr{M}$中的每个点集，我们有$a(S) \\ge 0$.2. 可加性 (Additive property) 如果$S$和$T$在$\\mathscr{M}$ 中，则$S \\cup T$ 和 $S \\cap T$ 也在$\\mathscr{M}$中. 且有\\[a(S\\cup T) = a(S) + a(T) - a(S \\cap T)\\]3.可减性 (Difference property) 如果$S$和$T$都在$\\mathscr{M}$中且$S \\subseteq T$，则它们的差集$T-S$ 也在$\\mathscr{M}$中. 且有\\[a(T-S) = a(T) - a(S)\\]4.全等不变性 (Invariance under congruence) 如果集合$S$ 在$\\mathscr{M}$中，且$T$与$S$全等，则$T$也在$\\mathscr{M}$中，且有\\[a(S)=a(T)\\]5.尺度的选择 (Choice of scale) 每个矩形$R$都属于$\\mathscr{M}$，如果矩形的边长分别为$h$和$k$，则$a(R)=hk$.6.穷竭性 (Exhaustion property) 令$Q$是被围在阶梯区域$S$和$T$之间的点集，即\\(S \\subseteq Q \\subseteq T \\tag{1.1}\\)如果有且仅有一个实数$c$使得不等关系\\(a(S) \\le c \\le a(T)\\)对所有满足$(1.1)$的阶梯区域$S$和$T$ 都成立，则$Q$是可测的，且$a(Q) = c$.公理1只是指出平面可测集的面积是一个正数或者零. 公理2告诉我们当一个集合由两部分构成 (这两部分可以重叠)，并集的面积是两部分面积之和减去交集的面积. 特别地，如果交集面积为零，则并集面积就是两部分面积之和.公理3指出，如果我们从一个较大的可测集$T$中移除一个可测集$S$, 剩余部分$T-S$是可测的，且面积可用减法求得，即$a(T-S)=a(T)-a(S)$. 特别地，这个公理蕴含着空集 $\\emptyset $ 是可测的，且面积为零 (当S = T时). 由公理1非负性有$a(T-S)\\ge 0$，则公理3也蕴含着单调性 (monotone property)：对$\\mathscr{M}$中的集合$S$和$T$， 当$S \\subseteq T$ 时, 有\\(a(S) \\le a(T)\\)换句话说，如果一个集合是另一集合的一部分，则它的面积不能大于较大的集合。公理4对具有相同大小和形状的点集赋予相同的面积. 如果没有公理5关于矩形面积的性质，对集合$\\mathscr{M}$中的每个集合，简单地将面积函数定义为$a(S)=0$, 也能满足前4条公理，但就没有了实际意义，公理5赋予矩形非零面积，排除了这种trival的情况。阶梯区域是由有限个底边在$x$轴的相邻矩形组成的, 由面积的可加性 (公理2) 和矩形面积公式 (公理5) 可知，阶梯区域也是可测集，且它的面积等于组成它的矩形面积之和。公理6包含了古希腊的穷竭法思想，将可测集的种类从阶梯区域推广到更一般的区域. 公理描述的性质使我们可以从矩形面积出发，计算出形状更复杂的区域的面积.1.8 区间与纵标集在积分理论中，我们主要关注定义域为$x$轴上区间的实函数. 区分区间是否包含端点有时是很重要的. 我们引入以下定义对区间进行分类.如果$a&amp;lt;b$，我们用$[a,b]$表示所有满足不等式 $a \\le x \\le b$ 的$x$的集合, 并把这个集合称为从$a$到$b$ 的闭区间 (closed interval). 对应的开区间记为$(a,b)$ ，是所有满足不等式 $a &amp;lt; x &amp;lt; b$ 的$x$的集合. 闭区间$[a,b]$包含端点$a$和$b$，而开区间不包括端点 (见图$1.16$). 开区间$(a,b)$也称为$[a,b]$的内部 (interior). 半开区间$(a,b]$和$[a,b)$只包括一个端点，分别由不等式$a &amp;lt; x \\le b$ 和 $a \\le x &amp;lt; b$ 定义.令$f$是一个非负函数，定义域是闭区间$[a,b]$. 平面上$f$的图形和$x$轴之间的部分叫做$f$的纵标集. 更确切地说，函数$f$的纵标集是所有满足不等式 \\(a \\le x \\le b, \\quad 0 \\le y \\le f(x)\\)的点$(x,y)$的集合. 图$1.17$ 例子中的阴影部分表示对应函数的纵标集.纵标集是我们想要用积分方法求得其面积的几何对象. 我们会先为阶梯函数定义积分的概念，然后利用阶梯函数的积分来定义更一般函数的积分.阶梯函数的积分理论极其简单，并且可以很自然地引出更一般函数的积分理论。为了定义阶梯函数的积分，首先必须给阶梯函数一个解析定义，这可以通过划分 (partition) 的概念给出。1.9 划分与阶梯函数假设我们对一个给定的闭区间$[a,b]$插入$n-1$个分点，比方说$x_1,x_2,\\cdots,x_{n-1}$，把闭区间分成$n$个子区间，分点只须满足\\(a &amp;lt; x_1 &amp;lt; x_2 &amp;lt; \\cdots &amp;lt; x_{n-1} &amp;lt; b \\tag{1.2}\\)为了方便起见, 我们用$x_0$表示端点$a$，用$x_n$表示端点$b$. 满足$(1.2)$ 的点的集合叫做$[a,b]$的划分$P$. 我们用符号\\(P = \\{x_0, x_1,\\cdots,x_n\\}\\)来指明这个划分. 划分$P$确定了$n$个闭子区间 (closed subintervals):\\([x_0, x_1],[x_1,x_2],\\cdots,[x_{n-1},x_n]\\)一个典型(typical) 的闭子区间是$[x_{k-1},x_k]$，称为划分$P$ 的第$k$个闭子区间, 如图$1.18$ 所示. 对应的开区间$(x_{k-1},x_k)$ 称为划分$P$的第$k$个开子区间.现在我们来阐述阶梯函数的解析定义.阶梯函数的定义 一个函数$s$的定义域是闭区间$[a,b]$ , 如果有一个$[a,b]$的划分$P={x_0,x_1,\\cdots,x_n}$, 使得在$P$的每个开子区间上$s$的值都为常数，则函数$s$叫做阶梯函数. 也就是说，对每个$k=1,2,\\cdots,n$，都有一个实数$s_k$, 使得\\(s(x) = s_k \\quad(x_{k-1} &amp;lt; x &amp;lt; x_k)\\)阶梯函数有时被称为分段常值函数 (piecewise constant function).注：在每个子区间的端点$x_{k-1}$和$x_k$ 函数必须有定义，但函数值不一定要等于$s_k$.例子 阶梯函数一个熟悉的例子是“邮费函数” (postage function)，见图$1.19$. 假设包裹重量在20磅以内的第一类邮件的费用是每盎司5美分，不足1盎司的部分按1盎司计费. 图$1.19$的部分图形展示了4盎司以内的邮件所需5美分邮票的数量，图形上的线段是包含右端点的半开区间. 20磅以内邮费函数的定义域是$[0,320]$. (1 pound = 16 ounces)给定一个$[a,b]$的划分$P$，我们总能在已有分点的基础上加入 (adjoin) 更多的分点，从而形成一个新的划分. 这个新的划分$P’$叫做$P$的精细划分 (refinement of $P$). 我们说划分$P’$比$P$更精细. 例如，$P={0,1,2,3,4}$ 是区间$[0,4]$的一个划分，如果我们加入点$\\dfrac{3}{4}, \\sqrt{2}, \\dfrac{7}{2}$ 就得到$[0,4]$的一个新的划分 $P’={0,\\dfrac{3}{4},1,\\sqrt{2},2,3,\\dfrac{7}{2},4 }$. 这是$P$的一个精细划分 (见图$1.20$). 如果阶梯函数在$P$的开子区间上都是常数，那么它在$P$的每个精细划分$P’$的开子区间上也都是常数.1.10 阶梯函数的和与积把给定阶梯函数对应的函数值相加，可以构造新的阶梯函数。例如，假设$s$和$t$都是阶梯函数，两者都定义在同个区间$[a,b]$上. 令$P_1$和$P_2$是$[a,b]$的划分，$s$在$P_1$的每个开子区间上是常数，$t$在$P_2$的每个开子区间上是常数. 令$u=s+t$是通过等式\\(u(x) = s(x) + t(x) \\quad (a \\le x \\le b)\\)定义的函数.为了说明$u$实际上也是一个阶梯函数，我们需要展示(exhibit) 一个划分$P$, 使得$u$在$P$的开子区间上是常数。我们取$P_1$的所有点加上$P_2$的所有点，构造一个新的划分$P$, 这个划分是$P_1$和$P_2$的并集, 称为$P_1$和$P_2$的共同精细划分 (common refinement). 因为$s$和$t$在共同精细划分$P$的开子区间上都是常数，它们的函数值之和$u$也是常数. 见图 $1.21$的例子, $P_1={a,x_1,b}$，$P_2={a,x_1’,b}$，$P=P_1 \\cup P_2={a,x_1’,x1,b}$.类似地，两个阶梯函数之积 $v = s \\cdot t$ 也是一个阶梯函数. 一个重要的特例是当其中一个函数为常数，比方说$t$在$[a.b]$上为常数，如果对$[a,b]$中的每个$x$都有$t(x)=c$，则每个函数值$v(x)$由常数$c$乘以阶梯函数$s(x)$得到.1.11 习题在这组习题中，$\\lfloor x \\rfloor$ 表示$\\le x$的最大整数，称为最大整数函数，它的功能是向下取整，也称为下取整函数 (floor function).$1.$ 对所有实数$x$，令$f(x)=\\lfloor x \\rfloor$，$g(x)=\\lfloor 2x \\rfloor$. 根据以下给定的公式，画出定义在区间$[-1,2]$上的函数$h$的图像.$(a)$ $h(x)=f(x)+g(x)$$(b)$ $h(x)=f(x)+g(\\dfrac{x}{2})$ $( c )$ $h(x)=f(x)g(x)$$(d)$ $h(x)=\\dfrac{1}{4}f(2x)g(\\dfrac{x}{2})$$4.$ 证明下取整函数$\\lfloor x \\rfloor$ 的以下性质：$\\hspace{0.5em} (a)\\quad \\lfloor x+n \\rfloor = \\lfloor x \\rfloor + n $ 对任意整数$n$都成立\\[(b)\\quad \\lfloor -x \\rfloor = \\left\\{\\begin{array}{}-\\lfloor x \\rfloor &amp;amp; \\mathrm{if} \\ x \\in \\mathbb{Z} \\\\-\\lfloor x \\rfloor - 1 &amp;amp; \\mathrm{otherwise} \\\\\\end{array}\\right. \\hspace{25em}\\]​ $\\left(c\\right)\\quad \\lfloor x+y \\rfloor = \\lfloor x \\rfloor +\\lfloor y \\rfloor$ 或 $\\lfloor x \\rfloor + \\lfloor y \\rfloor + 1$​ $ (d)\\quad \\lfloor 2x \\rfloor = \\lfloor x \\rfloor + \\lfloor x + \\dfrac{1}{2} \\rfloor $​ $(e)\\quad \\lfloor 3x \\rfloor = \\lfloor x\\rfloor + \\lfloor x+\\dfrac{1}{3}\\rfloor + \\lfloor x +\\dfrac{2}{3} \\rfloor$​(a) 证明： 令$\\lfloor x+n \\rfloor = m$ ，$m$为某个整数. 则有\\[\\begin{align}m \\le x+n &amp;lt; m+1 \\hspace{-10.8em}\\\\&amp;amp;\\Longrightarrow m-n \\le x &amp;lt; m-n+1 \\\\&amp;amp;\\Longrightarrow \\lfloor x \\rfloor = m-n \\\\&amp;amp;\\Longrightarrow \\lfloor x \\rfloor + n = m\\end{align}\\]因为我们已定义$\\lfloor x+n \\rfloor = m$，所以$\\lfloor x+n \\rfloor = \\lfloor x \\rfloor + n$ 对任意整数$n$都成立.(b) 证明： 当$x \\in \\mathbb{Z}$ ，令$x = m$ ，$m$ 为某个整数. 则$\\lfloor x \\rfloor = m$. 由已知有\\[\\begin{align}-x = - m \\hspace{-7em}\\\\&amp;amp;\\Longrightarrow \\lfloor -x \\rfloor = -m \\\\&amp;amp;\\Longrightarrow \\lfloor -x \\rfloor = - \\lfloor x \\rfloor \\quad\\#\\end{align}\\]当$x \\notin \\mathbb{Z}$ ，令$\\lfloor x \\rfloor = m$，$m$为某个整数，则有\\[\\begin{align}m &amp;lt; x &amp;lt; m+1 \\quad (x \\neq m \\ 因为x \\notin \\mathbb{Z}) \\hspace{-18em}\\\\&amp;amp;\\Longrightarrow -m - 1 &amp;lt; -x &amp;lt; -m \\\\&amp;amp;\\Longrightarrow \\lfloor -x \\rfloor = -m - 1 = - \\lfloor x \\rfloor -1 \\quad\\# \\end{align}\\](c) 证明： 令$\\lfloor x \\rfloor = m$ , $\\lfloor y \\rfloor = n$，$m,n$为某个整数，则有$m \\le x &amp;lt; m+1$ 和 $n \\le y &amp;lt; n+1$. 两不等式相加有：$m+n \\le x+y &amp;lt; m+n+2$ . 所以$\\lfloor x+y \\rfloor$的取值只有两种可能：$\\lfloor x+y \\rfloor = m+n$ 或 $\\lfloor x+y \\rfloor = m+n+1$ 即$\\lfloor x+y \\rfloor = \\lfloor x \\rfloor + \\lfloor y \\rfloor $ 或 $\\lfloor x+y \\rfloor = \\lfloor x \\rfloor + \\lfloor y \\rfloor + 1$ $#$" }, { "title": "Apostol微积分Ⅰ第一章 积分学概念 P1 函数的概念", "url": "/posts/Apostol-calculus1-C1-1/", "categories": "数学, 微积分", "tags": "积分学概念，函数", "date": "2024-02-08 18:18:36 +0800", "snippet": "本章我们介绍积分的定义和积分的一些基本性质。为了理解定义我们必须先熟悉函数的概念。下面几节将专门解释函数的概念及其有关思想。1.1 解析几何的基本概念如前所述，积分的一个应用是面积的计算。通常我们不讨论面积本身，而是讨论某些东西的面积。我们有一些想要测量其面积的对象 (多边形区域，圆形区域，抛物线弓形等等). 如果我们希望得到不同类型对象的面积计算方法，我们首先必须找到一个有效的方法来描述这些对象。正如古希腊人说做的那样，描述这些对象最原始的方法是绘制图形。笛卡尔(Rene Descartes, 1596-1650) 提出了一个更好的方法。他引进了解析几何学 (也称为笛卡尔几何)。笛卡尔的思想是用数表示几何点。表示出平面中的点的步骤如下：选择两条垂直的参考线 (称为坐标轴)，一条是水平的 (叫做$x$轴)，一条是垂直的 (叫做$y$轴), 它们的交点用$0$表示，叫做原点。在$x$轴上$0$的右边选择一个方便的点，并将这个点与$0$的距离称为单位距离。沿着$y$轴的垂直距离通常用相同的单位距离来度量，尽管有时$y$轴使用不同的尺度更方便。平面 (有时称为$xy$平面) 内的每个点都被赋值一对数，称为坐标。这些数字告诉我们如何确定点的位置。图$1.1$说明了一些例子。坐标为$(3,2)$ 的点位于$y$轴右侧$3$个单位及$x$轴上方$2$个单位处。数字$3$ 被称为点的$x$坐标，数字$2$是点的$y$坐标。$y$轴左侧的点具有负的$x$坐标，$x$轴下方的点具有负的$y$坐标。一个点的$x$坐标有时称为横坐标 (abscissa)，而$y$坐标称为纵坐标 (ordinate).当我们写出一对数，例如$(a,b)$ 来表示一个点时，总是先写横坐标或$x$坐标$a$，因此$(a,b)$ 常被称为有序对. 显然两个有序对$(a,b)$和$(c,d)$表示同一个点当且仅当$a=c$且$b=d$. 如果$a$和$b$都是正的，则称点$(a,b)$在第一象限 (first quadrant); $a&amp;lt;0$且$b&amp;gt;0$ 的点则在第二象限；$a&amp;lt;0$且$b&amp;lt;0$的点在第三象限；$a&amp;gt;0$且$b&amp;lt;0$的点在第四象限. 图$1.1$在每个象限中展示了一个点。表示空间中的点过程也是类似的。我们在空间中取三条互相垂直的直线交于一点 (作为原点). 这些直线确定三个互相垂直的平面. 空间中的每个点都可通过规定适当的符号来描述. 以后我们会更详细地讨论三维解析几何，目前我们仅关注平面解析几何。一个几何图形，例如平面上的一条曲线，是满足一个或多个特殊条件的点的集合。把这些条件转换成含有坐标$x$和$y$的表达式，我们就得到一个或多个表示图形特征的方程. 例如，考虑一个中心在原点，半径为$r$的圆，如图$1.2$所示。令$P$为圆上任意一点，设$P$的坐标为$(x,y)$，则线段$OP$是直角三角形的斜边，两条直角边的长度为$\\lvert x\\rvert$ 和 $\\lvert y \\rvert$ . 按照毕达哥拉斯(Pythagoras) 定理, 有：\\(x^2 + y^2 = r^2\\)这个方程称为圆的笛卡尔方程. 圆上的所有点满足方程，而其他点不满足。因此方程可以完整描述圆的特征。这个例子说明了怎样把关于点的几何语言简化成关于实数的解析语言。微积分和解析几何在历史发展过程中紧密地交织在一起，一个学科中的新发现能带动另一个学科的进展，两个学科是放在一起研究的。本书也按照发展史的顺序来介绍微积分和解析几何，然而我们的主要目的是讨论微积分，相关的解析几何概念将在需要时加以讨论。实际上，只需少许基本的平面解析几何概念，就能理解微积分的基础知识。进一步拓展微积分的范围和应用需要对解析几何进行更深入的学习，后面我会利用向量方法以及微积分方法来研究它。至此之前，只需熟悉一点函数图形的绘制即可。1.2 函数. 非正式描述与举例人类探索的各个领域都涉及到某个对象的集合与另一个的对象集合之间的关系。图形、图表、曲线、表格、公式以及盖洛普民意调查 (Gallup polls) , 对每个读报的人来说都是熟悉的。这些仅仅是定量描述特殊关系的手段。数学家把某些类型的关系称为函数。我们在这一节给出函数概念的非正式描述。$1.3$节给出正式定义。例1 使自然长度的钢弹簧伸长距离$x$所需要的力$F$ 与$x$成比例，也就是说$F=cx$ 其中$c$是一个与$x$无关的数，称为弹簧常数. 这个公式称为胡克定律 (Hooke’s Law)，是十七世纪中叶Robert Hooke发现的.例2 立方体的体积是它边长的函数。如果边长为$x$, 则体积$V$由公式$V = x^3$ 给出. 例3 素数是一个大于1的整数，它无法表示成$n=ab$ 的形式，其中$a$ 和 $b$ 都是小于 $n$ 的正整数。前几个素数是$2,3,5,7,11,13,17,19,23$. 给定实数$x&amp;gt;0$, 数出小于或等于$x$的素数的个数是可以做到的. 当$x$已知时，尽管找不到简单的代数公式来计算个数， 我们仍把这个数字称为$x$的函数.“函数”这个词是由$Leibniz$ 引进数学的，他使用这一术语来特指某些类型的数学公式。后来人们意识到莱布尼兹的函数概念范围太局限，于是这个词的意义又经过了多个阶段的推广。今天，函数的含义基本上是这样的：给定两个集合$X$和$Y$, 函数是把$X$的每个元素关联到$Y$中的一个(且只有一个)元素的一种对应关系。集合$X$称为函数的定义域 (domain)，集合$Y$中那些与$X$关联的元素集合称为函数的值域 (range) ，值域可以是$Y$的全部，也可以不是. 英文字母和希腊字母例如$f,g,h,F,G,H$和 $\\varphi$ 常用来表示函数。如果$f$是一个给定的函数且$x$是定义域中的一个对象， 则$f(x)$ 用来指代值域中通过$f$与$x$ 关联的那个对象，$f(x)$被称为函数$f$在$x$处的值，或叫做$x$在$f$下的像 (image). 符号$f(x)$读作”$f$ of $x$”. 函数的概念可以用许多图解方式来说明. 例如，图$1.3(a)$中$X$和$Y$看成是点的集合，箭头用来表示$X$中一个点$x$ 与在$Y$中的像点$f(x)$ 的配对关系。另一种图解见图$1.3(b)$. 这里函数$f$ 被想象成一台机器，把集合$X$中的对象输入机器，则输出$Y$中的一个对象。当对象$x$输入机器时，输出的是对象$f(x)$.尽管函数的概念对定义域和值域中对象的性质没有限制，但在初等微积分中我们主要研究定义域和值域都为实数集的那些函数，这样的函数被称为实变量的实值函数 (real-valued functions of a real variable)，或者更简短地称为实函数 (real functions). 它们可以用$xy$平面上的图形来进行几何表示。我们把定义域$X$画在$x$轴上，在每个点$x$的上方，我们标出点$(x,y)$ , 其中$y=f(x)$. 点$(x,y)$ 的全体称为函数的图像 (graph of the function). 我们来看更多实函数的例子： 例4 恒等函数 假设对所有实数$x$, 都有$f(x)=x$，则称这个函数为恒等函数 (The identity function). 它的定义域是实直线，即所有实数的集合。对$f$图形上的每一点$(x,y)$都有$x=y$. 图像是与坐标轴成等角的一条直线 (见图$1.4$) , $f$的值域是所有实数的集合.例5 绝对值函数 考虑这样一个函数，它对每个实数$x$赋值一个非负数 $\\lvert x \\rvert$ , 部分图像见图$1.5$. 用 $\\varphi$ 表示这个函数，对所有实数$x$，我们有$\\varphi(x) = x$. 例如，$\\varphi(0)=0, \\varphi(2)=2, \\varphi(-3)=3$. 这里我们列出绝对值的若干性质，用函数记号表示. \\(\\begin{align}&amp;amp;(a) \\quad \\varphi(-x) = \\varphi(x) \\\\&amp;amp;(b) \\quad \\varphi(x^2) = x^2 \\\\&amp;amp;(c) \\quad \\varphi(x+y) \\le \\varphi(x) + \\varphi(y) \\quad (三角不等式) \\\\&amp;amp;(d) \\quad \\varphi[\\varphi(x)] = \\varphi(x) \\\\&amp;amp;(e) \\quad \\varphi(x) = \\sqrt{x^2}\\end{align}\\)例6 素数函数 对任意$x&amp;gt;0$, 令$\\pi(x)$ 表示小于或等于$x$的素数的个数. $\\pi$ 的定义域是正实数集，值域是非负整数集 ${0,1,2,\\cdots}$ . 部分图像见图$1.6$ (在$x$轴和$y$轴上使用了不同的尺度). 随着$x$增加，函数值保持不变直到达到一个素数。在素数点，函数值跳跃增加1. 因此函数$\\pi$的图像由水平线段组成。这是阶梯函数的一个例子。阶梯函数在积分理论中具有重要作用。例7 阶乘函数 对每个正整数$n$, 我们把$f(n)$ 定义为$n!= 1 \\cdot 2 \\cdot 3 \\cdots n$. 函数$f$的定义域是正整数集. 函数值增长太快所以用表格形式表示比用图像表示更方便。图$1.7$展示了一张列举$n=1,2,3\\cdots,10$时有序对$(n,n!)$ 的表格。读者应该注意到以上这些例子具有两个共同的特征：$(1)$ 对定义域$X$中的每个$x$, 有且仅有一个与这个特定的$x$匹配的像$y$. $(2)$ 每个函数产生一个有序对$(x,y)$组成的集合, 其中$x$是定义域$X$中的元素，而$y$是$Y$中与$x$对应的唯一元素. 在前面大多数例子中，我们用几何方法把有序对$(x,y)$ 表示为图像上的点，例7中则作为表格中的条目来展示。在各种情况下，了解一个函数就是用这样或那样的方式了解它所生成的所有有序对$(x,y)$. 这一简单的观察是函数概念的正式定义的motivation, 我们在下一节会讲到.1.3 函数的正式定义： 作为有序对的集合上节我们描述函数概念的一些用词如“关联”、“对应”不能准确地把相同的含义传递给所有人，我们将以集合的概念为基础，换一种方法重新阐述函数的定义。 首先我们需要了解对象的有序对的概念。 在集合相等的定义中，元素出现的顺序是无关紧要的，集合${2,5}$ 与集合${5，2}$ 是相等的，因为它们由相同的元素组成. 有时顺序也是重要的。例如在平面解析几何中，一个点的坐标$(x,y)$表示一对有序的数字. 坐标为$(2,5)$的点与坐标为$(5,2)$的点是不同的. 类似地，假设我们有一对对象$a$和$b$，如果我们要区分其中的一个与另一个，比方说把$a$作为第一个元而$b$作为第二个元, 我们就把对象放入括号中，写成$(a,b)$. 我们把它称为有序对. 我们说两个有序对$(a,b)$和$(c,d)$相等，当且仅当它们的第一个元相等且第二个元也相等. 也就是说：\\[(a,b) = (c,d) \\quad 当且仅当\\ a = b\\ 且c=d\\]现在我们来陈述函数的正式定义。函数的定义 函数是一个有序对$(x,y)$ 的集合，其中不能存在两个有序对有相同的第一个元.如果$f$是一个函数，作为有序对$(x,y)$ 第一个元的所有$x$的集合叫做$f$ 的定义域，作为第二个元的$y$的集合称为值域，也被称为$f$的值的集合 (set of values of $f$). 直观地，可以把函数看成由两列组成的表。表中的每个条目是一个有序对$(x,y)$; $x$的列是$f$的定义域，$y$的列是$f$的值域. 如果表中的两个条目$(x,y)$和$(x,z)$有相同的$x$值，则如果这个表是一个函数，必有$y=z$. 换句话说，一个函数不能在给定的点$x$取两个不同的值. 因此，对$f$定义域中的每个$x$, 有且仅有一个$y$使得$(x,y) \\in f$. 因为只要$x$已知，这个$y$就是唯一确定的， 我们可以引入一个专门的符号，习惯上写成：\\(y = f(x)\\)而不是$(x,y) \\in f$, 来表明有序对$(x,y)$是在集合$f$中. 除了直接列出所包含的有序对，通常还有另一种更好的方式来描述函数：先描述函数$f$的定义域，然后对定义域中每个$x$, 描述如何取得函数值$f(x)$. 关于这种描述，我们有以下定理：定理1.1 两个函数$f$和$g$相等，当且仅当：$(a)$ $f$和$g$具有相同的定义域, 并且$(b)$ 对定义域中每个$x$ 都有 $f(x)=g(x)$.还有一点很重要，应该意识到函数的有序对$(x, f(x))$ 中的$x$和$f(x)$不一定是数，它们可以是任何类型的任意对象。有时我们需要用到这种更具普遍性的概念，但多数情况下我们只对实函数感兴趣，也就是定义域和值域都是实直线的子集的那些函数.注：用等式形式的表达式描述函数时，“=” 号的含义主要不是方程或其他等式中的“相等”之意，而应理解成“定义为”的意思。1.4 实函数的更多例子1. 常值函数 值域只由单一数字组成的函数叫做常值函数 (constant function). 图$1.8$ 给出一个例子，对每个实数$x$都有$f(x)=3$. 图像是一条与$y$轴相交于点$(0,3)$ 的水平线.2. 线性函数 对所有实数$x$, 用公式\\[g(x) = ax + b\\]定义的函数叫做线性函数，因为它的图形是一条直线. 数 $b$ 叫做直线在$y$轴的截距 (y-intercept), 它是直线与$y$轴交点$(0,b)$ 的纵坐标. 数$a$称为直线的斜率. 图$1.4$给出的是 $g(x)=x$ 的例子，图$1.9$给出另一个例子 $g(x)=2x-1$.3. 幂函数 $n$是一个固定的正整数，对所有实数$x$，用等式$f(x)=x^n$ 定义函数$f$. 当$n=1$时，这是一个恒等函数，见图$1.4$. 当$n=2$时，图形是一条抛物线 (parabola)，部分图像见图$1.10$. 当$n=3$时，图形是一条三次曲线 (cubic curve)，外观见图$1.11$.4. 多项式函数 多项式函数$P$是对所有实数$x$用形如\\[P(x) = c_0 +c_1x + c_2x^2 + \\cdots + c_nx^n = \\sum \\limits_{k=0}^{n} c_k x^k\\]的等式定义的函数. 常数$c_0, c_1, \\cdots c_n$ 称为多项式的系数 (coefficients). 当$c_n \\ne 0$时，非负整数$n$称为多项式的次数 (degree). 常值函数和幂函数其实只是多项式函数的特例。次数为$2, 3, 4$ 的多项式分别称为二次 (quadratic)、三次 (cubic) 和四次(quartic)多项式. 图$1.12$展示了由$P(x)=\\frac{1}{2}x^4 - 2x^2$ 定义的四次多项式的图形.5. 圆 回顾一下圆的笛卡尔方程$x^2+y^2=r^2$ 并用$x$表示$y$来解这个方程, 就得到两个解\\[y = \\sqrt{r^2-x^2} \\quad 和 \\quad y = - \\sqrt{r^2-x^2}\\](提醒一下，如果$a&amp;gt;0$，符号$\\sqrt{a}$表示$a$的正平方根，$-\\sqrt{a}$是负平方根). 历史上有个时期数学家们习惯说$y$是由$y = \\pm \\sqrt{r^2-x^2}$ 给出的“双值”函数 (double-valued function) . 然而，更现代的观点不承认“双值”性作为函数的性质，函数的定义要求对于定义域中的每个$x$ 对应值域中唯一的一个$y$. 从几何上看，与图形相交的垂线恰好交于一点。为了符合函数的定义，我们说$y$的两个解定义了两个函数\\[f(x) = \\sqrt{r^2-x^2} \\quad 和 \\quad g(x) = -\\sqrt{r^2-x^2}\\]其中$-r \\le x \\le r$. 两个函数的定义域都是$-r$到$r$的区间. 如果$\\lvert x \\rvert &amp;gt; r$, 则不存在使得$x^2+y^2=r^2$ 的实数$y$. 我们说函数$f$和$g$对这样的$x$没有定义. 因为$f(x)$是$r^2-x^2$的非负平方根，$f$ 的图形是图$1.13$中的上半圆；$g$ 的函数值$\\le 0$, 所以$g$的图形是图$1.13$中的下半圆.6. 函数的和、积与商 令$f$和$g$是有相同定义域$D$的两个实函数. 我们能通过加、乘或除函数值，从$f$和$g$构造新的函数. 由等式\\(u(x) = f(x) + g(x) \\quad (x \\in D)\\)定义的函数称为$f$与$g$的和, 并用$f+g$表示. 类似地，积 $v = f \\cdot g$ 以及商$w = f/g$ 分别由公式\\[\\begin{align}v(x) &amp;amp;= f(x)g(x) \\quad (x \\in D) \\\\w(x) &amp;amp;= f(x) / g(x) \\quad (x \\in D \\ 且\\ g(x)\\ne 0)\\end{align}\\]进行定义。" }, { "title": "Apostol微积分Ⅰ基础篇P4 数学归纳法", "url": "/posts/Apostol-calculus1-basics-p4/", "categories": "数学, 微积分", "tags": "微积分基础，证明方法", "date": "2024-01-25 22:37:17 +0800", "snippet": "I 4.1 用数学归纳法证明的一个例子当我们对整数$k$ 加1时总能得到更大的整数$k+1$, 所以不存在最大的整数。然而从数$1$开始，连续地通过有限个加1的步骤，每步从$k$ 到$k+1$, 我们可以取得任意大的正整数。这就是被数学家称为归纳证法 (proof by induction) 的一类推理的基础。我们通过第1节中计算抛物线弓形面 (parabolic segment) 的面积所用到的不等式：\\(1^2+2^2+\\cdots + (n-1)^2 &amp;lt; \\dfrac{n^3}{3} &amp;lt; 1^2+2^2+\\cdots +n^2 \\tag{I.19}\\)来说明归纳证法的用法。我们先考虑左边的不等式，记为$A(n)$ (包含变量$n$的断言). 对于最前面几个$n$值，很容易验证这个断言成立，例如取$n = 1, 2, 3$, 断言变为：\\(A(1): 0&amp;lt;\\dfrac{1^3}{3},\\quad A(2):1^2&amp;lt;\\dfrac{2^3}{3},\\quad A(3): 1^2+2^2&amp;lt;\\dfrac{3^3}{3}\\)当 $n=1$ 时我们把左边的和解释为0. 我们的目标是证明对所有正整数$n$, 断言$A(n)$都为真。假设已经证明对某个$n$值$A(n)$ 为真，比如$n=k$ 时， 我们已经证明：\\[A(k): 1^2+2^2+\\cdots +(k-1)^2 &amp;lt; \\dfrac{k^3}{3}\\]对固定的正整数$k\\ge1$ 成立。利用这个假设，我们要证明$n=k+1$时对应的结论\\[A(k+1): 1^2+2^2+\\cdots +k^2 &amp;lt; \\dfrac{(k+1)^3}{3}\\]也成立。我们发现对$A(k)$ 两边加$k^2$ 得到不等式：\\[1^2+2^2+\\cdots +(k-1)^2 + k^2 &amp;lt; \\dfrac{k^3}{3}+k^2\\]为了推出$A(k+1)$ 的结论，只须证：\\[\\dfrac{k^3}{3}+k^2 &amp;lt; \\dfrac{(k+1)^3}{3}\\]展开右边\\[\\dfrac{(k+1)^3}{3} = \\dfrac{k^3+3k^2+3k+1}{3} = \\dfrac{k^3}{3}+k^2+k+\\dfrac{1}{3}\\]即可直接推出须证的不等式。至此我们已经证明了从$A(k)$ 可以推出 $A(k+1)$. 现在$A(1)$ 已直接验证为真，因此$A(2)$ 也为真。当$A(2)$ 为真时$A(3)$ 也为真. 以此类推，我们可以证明$A(n)$对所有正整数$n$都为真。于是$I.19$ 左边的不等式成立。同理可证右边的不等式。I 4.2 数学归纳法的原理读者应该确保能够理解上述归纳证明的模式。首先我们证明断言$A(n)$ 在$n=1$ 时成立，然后我们证明如果断言对某个特定的正整数成立，那么对下一个正整数断言也成立。由此我们得出断言对所有正整数成立的结论。归纳法的思想可以用许多非数学的方式来说明。The domino effect is a good analogy for mathematical induction. 例如，设想一排玩具士兵顺序地编上号码，并且假定它们排列得如此紧密，以致如果其中任何一个，比方说编号为$k$的一个倒下，就将碰倒编号为$k+1$的下一个士兵。那么，任何人都能够想象，如果编号为1的士兵向后倒下，将会发生什么情况，同样显然的是，如果一个后面的士兵首先被碰倒，比方说其编码为$n_1$，则所有在它之后的士兵都将倒下。这是对数学归纳法稍进一步的推广，可用下列方式叙述：归纳证明的方法 令$A(n)$ 是关于整数$n$ 的一个断言，如果我们能完成以下两个步骤，就能证明$A(n)$对所有$n\\ge n_1$ 都为真： $(a)$ 证明$A(n_1)$ 为真. $(b)$ 令$k$ 为任意$\\ge n_1$ 的固定整数. 假设$A(k)$ 为真并证明$A(k+1)$ 也为真.在实际应用中通常$n_1 = 1$ ， 归纳证法的逻辑证明是下述关于实数的定理：定理I.36 数学归纳法原理 令$S$ 是一个正整数集合，如果这个集合满足以下两个性质：$(a)$ 数$1$在集合中$(b)$ 如果正整数$k$ 在$S$ 中，则$k+1$ 也在$S$ 中. 则每个正整数都在集合$S$ 中。证明： 性质$(a)$和$(b)$告诉我们$S$是一个归纳集。我们在$I 3.6$节中用最小归纳集来定义全体正整数集，即每一个归纳集都包含全体正整数集，所以$S$ 包含了所有正整数。 每当我们用数学归纳法证明断言$A(n)$ 对所有$n \\ge1$ 都成立时，我们正是在把定理$I.36$ 应用到使得$A(n)$ 成立的所有正整数的集合。如果我们想证明仅当$n \\ge n_1$ 时$A(n)$ 成立，就改一下断言中的变量，把定理$I.36$ 应用到使得$A(n+n_1-1)$ 成立的所有正整数$n$ 的集合. (当$n\\ge1$ 时$n+n_1-1 \\ge n_1$)I 4.3 良序原理正整数还有另一个重要的性质叫做良序原理，也被用作归纳证法的基础。 定理I.37 良序原理 每个非空正整数集都有最小元.注意良序原理仅适用于正整数集，对任意整数集并不成立。例如，全部整数的集合$\\mathbb{Z}$ 没有最小元。良序原理可以从归纳法原理推导出来。下一节$I 4.5$会给出证明过程. 这一节的最后我们用以下例子来说明如何用良序原理来证明关于正整数的定理。令$A(n)$ 表示以下断言:\\[A(n): 1^2+2^2+\\cdots + n^2 = \\dfrac{n^3}{3} + \\dfrac{n^2}{2} + \\dfrac{n}{6}\\]我们再次注意到很容易验证$A(1)$ 为真：\\[A(1): 1^2 = \\dfrac{1^3}{3}+ \\dfrac{1^2}{2}+\\dfrac{1}{6}\\]现在只有两种可能：$(\\mathrm{i})$ $A(n)$ 对所有正整数$n$都成立.$(\\mathrm{ii})$ 至少存在一个正整数$n$ 使得$A(n)$ 为假.我们要证明$(\\mathrm{ii})$ 会导致一个矛盾。假设$(ii)$ 成立，我们把良序原理应用到使得$A(n)$ 为假的所有正整数的集合。 这个正整数集是非空的。根据良序原理，存在一个最小的正整数$k$ 使得$A(k)$ 为假. 因为$A(1)$ 为真，这个$k$ 必然大于1. 因为$k$是使得$A(k)$ 为假的最小整数，所以断言$A(k-1)$ 必然为真，即\\[A(k-1):\\ 1^2+2^2+\\cdots+(k-1)^2 = \\dfrac{(k-1)^3}{3} + \\dfrac{(k-1)^2}{2} + \\dfrac{k-1}{6}\\]一定成立。两边加$k^2$ 有：\\[\\require{enclose}\\begin{align}1^2+2^2+\\cdots+k^2 &amp;amp;= \\dfrac{k^3+3k^2(-1)+3k(-1)^2+(-1)^3}{3} + \\dfrac{k^2-2k+1}{2}+k^2+\\dfrac{k-1}{6} \\\\&amp;amp;= \\dfrac{k^3-3k^2+3k-1}{3}+\\dfrac{k^2-2k+1}{2} + k^2 + \\dfrac{k-1}{6} \\\\&amp;amp;= \\dfrac{k^3}{3} \\enclose{horizontalstrike}{-k^2} \\enclose{horizontalstrike}{+k}-\\dfrac{1}{3} +\\dfrac{k^2}{2}\\enclose{horizontalstrike}{-k}+\\dfrac{1}{2} + \\enclose{horizontalstrike}{k^2} +\\dfrac{k}{6}-\\dfrac{1}{6} \\\\&amp;amp;=\\dfrac{k^3}{3}+\\dfrac{k^2}{2}+\\dfrac{k}{6}\\end{align}\\]这个等式说明$A(k)$为真，与$k$是使得$A(k)$ 为假的整数矛盾, 假设$(\\mathrm{ii})$ 不成立. 所以$(i)$成立。这就证明了前$n$个自然数的平方和公式对$n\\ge 1$ 都成立. 这个恒等式的直接推论就是$(I.19)$ 右边的不等式. 这种利用良序原理的证法也称为归纳证法，当然归纳证法更常见的形式是先验证$A(1)$ 成立，再证明从$A(k)$ 能推出$A(k+1)$.I 4.5 良序原理的证明这一节我们将从数学归纳法原理推出良序原理。令$T$是一个非空正整数集，我们想要证明$T$有最小元. 即证明$T$中存在一个正整数$t_0$, 使得$t_0 \\le t$ 对所有$t \\in T$ 都成立.假设$T$没有最小元. 我们要证明这会推出一个矛盾。正整数$1$不能在$T$中. (否则$1$就是$T$的最小元) . 令$S$ 表示对所有$t \\in T$ 都满足$n &amp;lt; t$ 的所有正整数$n$的集合. 因为$1 &amp;lt; t$ 对所有$t \\in T$ 都成立，所以$1$ 在$S$ 中. 接下来，令$k$是$S$中的一个正整数，我们要证明$k+1$也在$S$ 中. 假设$k+1$不在$S$中，则根据$S$的定义，存在某个$t_1 \\in T$, 使得$t_1 \\le k+1$. 因为$T$ 没有最小元，$T$ 中必存在某个正整数$t_2 &amp;lt; t_1$ ，则$t_2 &amp;lt; k+1$, 但这意味着$t_2 \\le k$. 这与$T$中所有数都大于$S$中所有数矛盾。所以$k+1$ 也在$S$中. $S$满足归纳集的定义, 根据数学归纳法原理，$S$包含所有的正整数。因为$T$是非空正整数集，则$T$中至少存在一个正整数$t$，然而这个$t$ 也在$S$中，根据$S$的定义就会导致$t &amp;lt; t$ 这样一个矛盾。因此，$T$没有最小元的假设不成立，即$T$ 必有最小元。这样就用数学归纳法原理证明了良序原理。I 4.6 求和记号计算抛物线弓形面积时，我们遇到了这个和：\\[1^2+2^2+3^2+\\cdots +n^2 \\tag{I.20}\\]注意到一般项的形式是$k^2$ , 通过让$k$取遍值$1,2,3,\\cdots n$ 我们就得到了所有的项。有一个有用且方便的记号，使我们能把这类和写成更简洁的形式。这个记号叫做求和记号，用希腊字母 $\\sum$ (Sigma) 来表示. 使用求和记号，我们可以把$(I.20)$ 中的和记为：\\[\\sum_{k=1}^{n} k^2\\]这个记法读作“对$k$取$1$到$n$的$k^2$的和” (The sum of $k^2$ for $k$ running from $1$ to $n$) . sigma符号上下方的数字告诉我们$k$的取值范围。字母$k$被称为求和指标 (index of summation) . 当然，变量名用什么字母表示并不重要，$k$ 可以用任何方便的字母来替换，例如，除了$\\sum \\limits_{k=1}^n k^2$ 我们可以用$\\sum \\limits_{i=1}^{n} i^2$, $\\sum \\limits_{j=1}^n j^2$, $\\sum \\limits_{m=1}^n m^2$ 等等可选的记号来表示同一个和式. 以这种方式使用的$i,j,k.m$ 等字母被称为哑指标 (dummy indices). 在这个例子中，字母$n$已经被用来表示项数，所以$n$不适合作为哑指标.更一般地，当我们想要构造若干实数的和，比如$a_1,\\cdots,a_n$， 我们用以下记号来表示这样的和：\\[a_1 + a_2 + \\cdots + a_n \\tag{I.21}\\]用求和记号表示如下：\\[\\sum\\limits_{k=1}^n a_k \\tag{I.22}\\]例如：\\[\\begin{align}\\sum \\limits_{k=1}^4 a_k &amp;amp;= a_1+ a_2+a_3+a_4 \\\\\\sum \\limits_{i=1}^5 x_i &amp;amp;= x_1 + x_2 + x_3 +x_4 + x_5\\end{align}\\]有时从$0$ 或从某个大于$1$的指标开始求和更方便，例如：\\[\\begin{align}\\sum \\limits_{i=0}^4 x_i &amp;amp;= x_0 + x_1 + x_2 + x_3 + x_4 \\\\\\sum \\limits_{n=2}^5 n^3 &amp;amp;= 2^3 + 3^3 + 4^3 + 5^3\\end{align}\\]求和记号的其他用法举例如下:\\[\\begin{align}\\sum \\limits_{m=0}^4 x^{m+1} &amp;amp;= x + x^2 + x^3 + x^4 + x^5 \\\\\\sum \\limits_{j=1}^6 2^{j-1} &amp;amp;= 1 + 2 + 2^2 + 2^3 + 2^4 + 2^5\\end{align}\\]再次强调哑指标的选择不重要。我们注意到最后一个和也可以写成以下形式：\\[\\sum \\limits_{q=1}^6 2^{q-1} = \\sum\\limits_{r=0}^5 2^r = \\sum\\limits_{n=0}^5 2^{5-n} = \\sum\\limits_{k=1}^6 2^{6-k}\\]注：从严格的逻辑观点来看，$(I.21)$ 和$(I.22)$ 中的符号并不属于实数系的原始符号。为了论述更严谨，我们可以根据原始符号来定义这些新符号。这可以通过一个叫做归纳法定义(definition by induction)的过程来完成。归纳法定义类似归纳证明，由两部分组成：$(a)$ 我们定义\\[\\sum \\limits_{k=1}^{1} a_k = a_1\\]$(b)$ 假设对固定$n \\ge 1$ 我们已经定义了$\\sum \\limits_{k=1}^n a_k$ , 我们进一步定义\\[\\sum \\limits_{k=1}^{n+1} a_k = \\sum \\limits_{k=1}^n a_k + a_{n+1}\\]在$(b)$ 中令$n=1$ , 由$(a)$ 可得：\\[\\sum \\limits_{k=1}^2 a_k = \\sum \\limits_{k=1}^{1} a_k + a_{n+1} = a_1 + a_2\\]现在已经定义了$\\sum \\limits_{k=1}^2 a_k$ , 令$(b)$ 中$n=2$ 可得：\\[\\sum \\limits_{k=1}^{3} a_k = \\sum \\limits_{k=1}^{2} a_k + a_3 = (a_1+a_2) + a_3\\]根据加法结合律 (实数系域公理2)， 和$(a_1+a_2) + a_3$与$a_1+(a_2+a_3)$ 相同，因此我们可以省略掉括号而不产生歧义。于是我们定义了 $\\sum \\limits_{k=1}^{3} = a_1+a_2+a_3$. 类似地，我们有：\\[\\sum \\limits_{k=1}^{4} a_k = \\sum \\limits_{k=1}^{3} a_k + a_4 = (a_1+a_2+a_3) + a_4\\]我们能证明$(a_1+a_2+a_3) + a_4$ 与 $(a_1+a_2)+(a_3+a_4)$ 或 $a_1+(a_2+a_3+a_4)$ 相同。因此我们可以再次省略括号并定义 $\\sum \\limits_{k=1}^4 a_k = a_1+a_2+a_3+a_4$ . 继续用这种方法，我们发现$(a)$和$(b)$两个步骤给出了$\\sum \\limits_{k=1}^n a_k$ $(I.22)$ 的完整定义。$(I.21)$ 的和式只是$(I.22)$ 一种可选的书写方式. 它可用一般的加法结合律来证明，这里我们不尝试证明。读者应该注意到归纳法定义和归纳证明包含相同的思想。归纳法定义也被称为递归定义.I 4.8 绝对值和三角不等式不等式的计算在微积分中经常出现，在涉及绝对值的概念时显得特别重要。如果 $x$ 是一个实数, $x$ 的绝对值是一个非负实数，记为$x$,定义如下：\\[|x| =\\left\\{\\begin{array}{}x &amp;amp; \\mathrm{if} \\ x \\ge 0 \\\\-x &amp;amp; \\mathrm{if} \\ x \\le 0 \\\\\\end{array}\\right.\\]注意到$-\\lvert x \\rvert \\le x \\le \\lvert x \\rvert$. 当在实数轴上表示实数时，$\\lvert x \\rvert$ 的几何意义是点$x$与原点$0$的距离. 如果$a&amp;gt;0$ 且点$x$在$-a$和$a$之间，则$\\lvert x \\rvert$比$a$ 更靠近原点. 这一事实的解析描述如下：定理 I.38$\\quad$如果$a \\ge 0$, 则$\\lvert x \\rvert \\le a$ 当且仅当 $-a \\le x \\le a$.证明： 有两个命题要证明：首先，不等式$\\lvert x \\rvert \\le a$ 蕴含着两个不等式$-a \\le x \\le a$ 同时成立. 反过来，$-a \\le x \\le a$ 蕴含着 $\\lvert x \\rvert \\le a$. 假设$\\lvert x \\rvert \\le a$. 则我们也有$-a \\le -\\lvert x \\rvert$ . 由绝对值定义知$-\\lvert x \\rvert \\le x \\le \\lvert x \\rvert$ , 所以$-a \\le -\\lvert x \\rvert \\le x \\le \\lvert x \\rvert \\le a$ 得证.下面证明逆命题. 假设$-a \\le x \\le a$. 那么根据定义，当$x \\ge 0$ 时有$\\lvert x \\rvert = x \\le a$ ; 当$x \\le 0$ 时有$\\lvert x \\rvert = -x \\le a$. 所有情况下我们都有$\\lvert x \\rvert \\le a$ 成立，逆命题得证. 这个定理的几何意义如图：作为定理$I.38$ 的推论，我们很容易推导出一个重要不等式，称为三角不等式。它表明两个实数之和的绝对值不超过这两个实数绝对值之和。定理I.39 (三角不等式)$\\quad$对任意实数$x$ 和 $y$, 我们有\\[|x+y| \\le |x| + |y|\\]证明： 将不等式$-\\lvert x \\rvert \\le x \\le \\lvert x \\rvert$ 和$-\\lvert y \\rvert \\le y \\le \\lvert y \\rvert$ 相加，我们得到：\\[-(|x|+|y|) \\le x+y \\le |x| + |y|\\]由定理$I.38$ 我们有 $\\lvert x+y \\rvert \\le \\bigl| \\lvert x \\rvert+\\lvert y \\rvert \\bigr| = \\lvert x \\rvert + \\lvert y \\rvert$ 得证. 如果我们取$x = a - c$ , $y = c-b$，则$x+y=a-b$ . 三角不等式化为：\\[|a-b| \\le |a-c| + |b-c|\\]这种形式的三角不等式经常在实践中使用。因为$\\lvert y \\rvert = \\lvert -y \\rvert$ 代入三角不等式得 $\\lvert x - y \\rvert \\le \\lvert x \\rvert + \\lvert y \\rvert$. 从而我们有\\[|x \\pm y| \\le |x| + |y|\\]三角不等式另一个常见的变形是：\\[|x-y| \\ge \\bigl| |x|-|y| \\bigr|\\]证明: 对$\\vert x \\vert$ 应用三角不等式：$\\vert x \\vert = \\vert (x-y)+y \\vert \\le \\vert x-y \\vert + \\vert y \\vert$ 两边同减$\\vert y \\vert$ 得：$\\vert x \\vert - \\vert y \\vert \\le \\vert x-y \\vert$.对$\\vert y \\vert$ 应用三角不等式：$\\vert y \\vert = \\vert (y-x)+x \\vert \\le \\vert y-x \\vert + \\vert x \\vert = \\vert x-y \\vert + \\vert x \\vert$ 两边同减$\\vert x \\vert$ 有：$\\vert y \\vert - \\vert x \\vert \\le \\vert x-y \\vert$ 两边乘$-1$得 $\\vert x \\vert - \\vert y \\vert \\ge - \\vert x-y \\vert$.结合得到的两个不等式有：$- \\vert x-y \\vert \\le \\vert x \\vert - \\vert y \\vert \\le \\vert x-y \\vert$ 根据定理$I.38$有：$\\bigl\\vert \\vert x \\vert - \\vert y \\vert \\bigr\\vert \\le \\vert x-y \\vert$ 即 $\\vert x-y \\vert \\ge \\bigl\\vert \\vert x \\vert - \\vert y \\vert \\bigr\\vert$ 得证.​ 利用数学归纳法，我们可以把三角不等式推广到以下形式：定理I.40 $\\quad$对任意实数$a_1, a_2, \\cdots a_n$, 我们有：\\[\\bigg| \\sum \\limits_{k=1}^n a_k \\bigg| \\le \\sum \\limits_{k=1}^n |a_k|\\]证明： 当$n=1$ 时，不等式显然成立 (trivial). 当$n=2$时，$\\lvert a_1+a_2 \\rvert \\le \\lvert a_1 \\rvert+\\lvert a_2 \\rvert$ 就是三角不等式. 假设不等式对于$n$个实数都成立，则对于$n+1$ 个实数，我们有\\[\\bigg| \\sum \\limits_{k=1}^{n+1} a_k \\bigg|=\\bigg|\\sum \\limits_{k=1}^n a_k + a_{n+1}\\bigg| \\le \\bigg| \\sum \\limits_{k=1}^n a_k\\bigg| + |a_{n+1}| \\le \\sum \\limits_{k=1}^n |a_k| + |a_{n+1}| = \\sum \\limits_{k=1}^{n+1} |a_k|\\]因此如果不等式对$n$ 个实数成立，对$n+1$个实数也成立. 根据数学归纳法，不等式对所有正整数$n$ 都成立.下个定理描述了另一个重要不等式，我们在学习向量代数时会用到它。定理 I.41 Cauchy-Schwarz不等式 $\\quad$如果$a_1,a_2,\\cdots , a_n$ 和$b_1,b_2,\\cdots ,b_n$ 是任意实数，我们有\\[\\biggl( \\sum \\limits_{k=1}^n a_kb_k \\biggr)^2 \\le \\biggl(\\sum \\limits_{k=1}^n a_k^2 \\biggr) \\biggl( \\sum \\limits_{k=1}^n b_k^2 \\biggr)\\]等号成立当且仅当存在实数$x$ 使得 $a_kx+b_k =0$ 对$k=1,2,\\cdots, n$ 成立.证明： 对任意正整数$k$ 我们有$(a_kx+b_k)^2 = a_k^2x^2+2a_kb_kx +b_k^2$ 两边分别取$k=1,2,\\cdots, n$ 求和可得\\[\\begin{align}\\sum \\limits_{k=1}^n (a_kx+b_k)^2 &amp;amp;= \\sum \\limits_{k=1}^n (a_k^2x^2+2a_kb_kx +b_k^2) \\\\&amp;amp;= x^2 \\sum \\limits_{k=1}^n a_k^2 + 2x \\sum \\limits_{k=1}^n a_kb_k + \\sum \\limits_{k=1}^n b_k^2\\end{align}\\]令 $B = \\sum \\limits_{k=1}^n a_kb_k$, $A=\\sum \\limits_{k=1}^n a_k^2$ , $C=\\sum \\limits_{k=1}^n b_k^2$ , 我们要证$B^2 \\le AC$.因为平方和是一个非负数，我们有$\\sum \\limits_{k=1}^n (a_kx+b_k)^2 \\ge 0$ 即 $Ax^2+2Bx+C \\ge 0$ 且 $A \\ge 0$.当$A=0$ 时 有$a_k=0$ 则$B$ 也为$0$, 此时不等式为$0 \\le 0$ 显然成立. 当$A&amp;gt;0$ 时，不等式左边配方：\\[\\begin{align}Ax^2+2Bx+C &amp;amp;= A(x^2+\\dfrac{2B}{A}x) + C \\\\&amp;amp;= A(x+\\dfrac{B}{A})^2-\\dfrac{B^2}{A} + C \\\\&amp;amp;= A(x+\\dfrac{B}{A})^2 + \\dfrac{AC-B^2}{A} \\ge 0\\end{align}\\]当$x=-\\dfrac{B}{A}$ 时，不等式左边取得最小值，所以$ \\dfrac{AC-B^2}{A} \\ge 0$ 必然成立，即 $B^2 \\le AC$ 得证. 不难验证，等号成立当且仅当存在实数$x$ 使得 $a_kx+b_k =0$ 对$k=1,2,\\cdots, n$ 成立. $#$4.10 数学归纳法的杂题13. (a) 令$p$是一个任意正整数，证明\\[b^p - a^p = (b-a)(b^{p-1}+b^{p-2}a+b^{p-3}a^2+\\cdots+ ba^{p-2}+a^{p-1})\\](提示：利用和的套缩性(telescoping property))(b) 令$p$和$n$表示正整数，利用(a)的结论证明：\\[n^p \\lt \\dfrac{(n+1)^{p+1}-n^{p+1}}{p+1} \\lt (n+1)^p\\](c) 用数学归纳法证明\\[\\sum_{k=1}^{n-1}k^p \\lt \\dfrac{n^{p+1}}{p+1} \\lt \\sum_{k=1}^n k^p\\](b)部分的结论将有助于作出从$n$到$n+1$ 的归纳步骤.(a)证明: 先把等式右边重写为求和记号的形式，再按照分配律进行计算，直到化简为等式左边\\[\\begin{align}&amp;amp; (b-a)(b^{p-1}+b^{p-2}a+b^{p-3}a^2+\\cdots+ ba^{p-2}+a^{p-1}) \\\\&amp;amp;= (b-a) \\left( \\sum_{k=0}^{p-1} b^{p-1-k}a^k \\right) \\\\&amp;amp;= b\\left( \\sum_{k=0}^{p-1} b^{p-1-k}a^k \\right)-a\\left( \\sum_{k=0}^{p-1} b^{p-1-k}a^k \\right)\\\\&amp;amp;= \\sum_{k=0}^{p-1} b^{p-k}a^k -\\sum_{k=0}^{p-1} b^{p-1-k}a^{k+1}\\\\&amp;amp;= \\sum_{k=0}^{p-1} b^{p-k}a^k - \\sum_{k=1}^{p} b^{p-k}a^k \\\\&amp;amp;= b^p + \\sum_{k=1}^{p-1}b^{p-k}a^k -\\left(\\sum_{k=1}^{p-1}b^{p-k}a^k + a^p \\right)\\\\&amp;amp;= b^p - a^p\\end{align}\\](b) 证明： 由二项式定理我们有：\\[(n+1)^{p+1} = \\sum_{k=0}^{p+1} \\binom{p+1}{k}n^k\\]所以\\[\\begin{align}\\dfrac{(n+1)^{p+1}-n^{p+1}}{p+1} &amp;amp;= \\dfrac{1}{p+1} \\left[\\left(\\sum_{k=0}^{p+1} \\binom{p+1}{k}n^k\\right)-n^{p+1}\\right] \\\\&amp;amp;= \\dfrac{1}{p+1}\\left[ n^{p+1}+(p+1)n^p + \\left(\\sum_{k=0}^{p-1} \\binom{p+1}{k}n^k \\right)- n^{p+1}\\right]\\\\&amp;amp;= n^p + \\dfrac{1}{p+1}\\left(\\sum_{k=0}^{p-1} \\binom{p+1}{k}n^k \\right) \\end{align}\\]因为$n$和$p$都是正整数，以上等式右边第二项必为正，所以有\\[\\dfrac{(n+1)^{p+1}-n^{p+1}}{p+1} &amp;gt; n^p\\]即左边不等式得证.把$b=n+1,\\ a=n,\\ p=p+1$ 带入(a)的结论有\\[(n+1)^{p+1}-n^{p+1}=(n+1-n)\\cdot((n+1)^{p}+n(n+1)^{p-1}+n^2(n+1)^{p-2}+\\cdots + n^{p-1}(n+1)+n^{p})\\]因此\\[\\begin{align}&amp;amp; \\dfrac{(n+1)^{p+1}-n^{p+1}}{p+1} \\\\&amp;amp;= \\dfrac{1}{p+1}((n+1)^{p}+n(n+1)^{p-1}+n^2(n+1)^{p-2}+\\cdots + n^{p-1}(n+1)+n^{p}) \\\\&amp;amp;&amp;lt; \\dfrac{1}{p+1}((n+1)^{p}+ (n+1)(n+1)^{p}+{(n+1)}^2(n+1)^{p-2}+\\cdots + {(n+1)}^{p-1}(n+1)+{(n+1)}^{p})\\\\&amp;amp;= \\dfrac{1}{p+1}((n+1)^{p}+p(n+1)^p) \\\\&amp;amp;= \\dfrac{1}{p+1} (p+1)(n+1)^p \\\\&amp;amp;= (n+1)^p\\end{align}\\]右边不等式得证. $#$(c) 证明: 当$n=1$时，我们有\\[\\sum_{k=1}^{n-1} k^p = \\sum_{k=1}^{0}k^p = 0\\ ,\\quad \\dfrac{n^{p+1}}{p+1}=\\dfrac{1}{p+1}\\ ,\\quad \\sum_{k=1}^{1} k^p =1\\]求和式$\\sum\\limits_{k=a}^b f(k)$ 定义为整数$k$取遍$a\\le k \\le b$ 时所有项$f(k)$的和. 当$a&amp;gt;b$ 时，则不存在满足条件的$k$，此时定义为空和 (empty sum), 空和的值定义为0. 同理，$\\prod\\limits_{k=a}^b f(k)$ 在$a&amp;lt;b$时定义为空积 (empty product)，空积的值定义为1.由于$p$是正整数, 则$0 &amp;lt; \\dfrac{1}{p+1} &amp;lt; 1$ 成立，因此不等式在$n=1$这个base case下成立.令$m$为任意$\\ge 1$ 的正整数，假设$n=m$时这对不等式成立. 对于左边不等式我们有：\\[\\begin{align}\\sum_{k=1}^{m-1} k^p \\lt \\dfrac{m^{p+1}}{p+1} \\hspace{-4em} \\\\\\Longrightarrow \\sum_{k=1}^{m} k^p - m^p \\lt \\dfrac{m^{p+1}}{p+1} \\hspace{-6.5em} \\\\\\Longrightarrow \\sum_{k=1}^{m} k^p &amp;amp;\\lt \\dfrac{m^{p+1}}{p+1} + m^p \\\\&amp;amp;\\lt \\dfrac{m^{p+1}}{p+1} + \\dfrac{(m+1)^{p+1}-m^{p+1}}{p+1} \\quad(根据(b)的结论) \\\\&amp;amp;= \\dfrac{(m+1)^{p+1}}{p+1}\\end{align}\\]这就证明了左边不等式对所有正整数$n \\ge 1$ 都成立.对于右边的不等式有：\\[\\begin{align}\\dfrac{m^{p+1}}{p+1} &amp;lt; \\sum_{k=1}^{m} k^p \\hspace{-8em} \\\\&amp;amp;\\Longrightarrow \\dfrac{m^{p+1}}{p+1} &amp;lt; \\sum_{k=1}^{m+1} k^p - (m+1)^p \\\\&amp;amp;\\Longrightarrow \\dfrac{m^{p+1}}{p+1} + (m+1)^p &amp;lt; \\sum_{k=1}^{m+1} k^p \\\\&amp;amp;\\Longrightarrow \\dfrac{m^{p+1}}{p+1} + \\dfrac{(m+1)^{p+1}-m^{p+1}}{p+1} &amp;lt; \\dfrac{m^{p+1}}{p+1} + (m+1)^p &amp;lt; \\sum_{k=1}^{m+1} k^p \\\\&amp;amp;\\Longrightarrow \\dfrac{(m+1)^{p+1}}{p+1} &amp;lt; \\sum_{k=1}^{m+1} k^p\\end{align}\\]这就证明了右边不等式对所有正整数$n \\ge 1$ 都成立. $#$" }, { "title": "Head First Statistics笔记", "url": "/posts/HeadFirst-Statistics-notes/", "categories": "数学, 统计学", "tags": "统计学，统计学常识", "date": "2023-12-23 02:42:00 +0800", "snippet": "Chapter1 信息可视化 Visualizing Information直方图(Histogram) 不同于条形图(Bar Chart)，长方形之间不能有间隙，一是因为需要覆盖所有数值，二是区间宽度可以反映所覆盖数值范围的大小。直方图的长方形面积代表每组的频率，长方形的高度用于度量一个特定组的频率的集中程度。 \\(\\begin{align}频率密度 &amp;amp;= 频率/ 组距 \\\\Frequency Density &amp;amp;= Frequency / Class Width\\end{align}\\)如果组距足够小，我们就可以将图形看成一条曲线, 这条曲线就是概率论中的密度函数。累积频率即到某个特定数值为止的总频率，即频率的累计总和 (running total) 将每组数据的上限和对应的累积频率描点连线就得到累积频率图。Chapter2 集中趋势的量度 Measuring Central Tendency平均数(average) 不止一种：均值、中位数、众数。 异常值(outliers) 的存在会抬高(拉低)均值，使数据偏斜 (skewed ) 如果升序排列所有数据，outliers位于右边，则称数据向右偏斜 (skewed to the right ) 向右偏斜的数据有一条“ 尾巴” ，这条尾巴由偏大异常值(high outliers)形成 ， 向右逐渐变弱 (trail off) 偏大异常值抬高了均值，将均值拉向了右边，使得均值大于大部分值，失去了代表性。 理想情况下数据呈对称形态，均值位于中央, 均值不会被异常值拉向任何一侧，中央位置两侧的数据形状大致相同。当异常值和偏斜数据使均值产生误导时, 我们可以对数据进行排序并取中间值，这个中间值是另一种平均数，称为中位数。求中位数三步法：1）将数据从小到大排序 2）如果有奇数个数值，则中位数是位于正中间的那个数。如果有n个数，则中间数的位置为$(n+1)/2$ 3）如果有偶数个数值，则将中间两个数相加然后除以2 。中间位置的算法也是 $(n+1)/2$ ， 两个中间数分别位于这个中间位置的两侧。 中位数永远位于中间，受异常值影响小，稳健性比均值更好。对于均值，只要有一个异常值离得很远，均值就会变得很大。如果数据向右偏斜，则均值 $&amp;gt;$ 中位数，如果数据向左偏斜，则均值$&amp;lt;$中位数。 中位数一定比均值更优吗？ 反例： 1）杂志社承诺处理稿件时间的中位数是7天，然而半个月过去了却音讯全无。因为中位数是7天意味着有50%可能性要花7天以上，7天以上是多久，这样的信息是中位数没有体现出来的。因此哪怕我们的文章被杂志社拖了一年，只要有另一篇文章在7天以内完成了处理，杂志社就达成了中位数7天的承诺。如果杂志社承诺的是处理稿件时间的均值为7天，那么如果我们的文章花了15天才处理完成，就要有另外2篇文章平均每篇只能花3天时间处理，或者另外4篇文章平均每篇只有5天时间，这样才能达成均值为7天的承诺。这无疑给杂志社施加了更大的压力，为了减轻压力，他们就不太可能用超过15天的时间来处理我们的文章。因此对我来说，我可以放心自己的文章不太可能被杂志社拖到两倍于均值以上的时间。 2）均值的计算比中位数更方便。计算中位数需要先排序，排序算法的时间复杂度比求算术平均更大。均值具有可加性，为了统计全国的平均收入，我们可以分别统计每个省的平均收入和人口数量，然后对所有省的平均收入做一个加权平均就可以得到全国人民的平均收入了。而如果统计的是每个省的人口数量和收入中位数，我们对全国人民的收入中位数还是一无所知。总结：尽管均值、中位数都是统计学上的客观事实，哪一个更具有代表性却是一个主观的评价。在统计收入时，我们认为我们被马云“平均”了是一件坏事，因为马云是少数群体，是异常值，因此大部分人的收入都远远低于被马云平均之后的均值，因此认为均值不具有代表性，中位数才是群众的代表。然而在上面杂志社的例子中，我自己成为了异常值，因此我会认为中位数没有代表我这个样本，将异常值包含在内的平均数对我而言才具有代表性。当我不是马云的时候，我希望采用中位数，因为中位数更代表我；而当我变成马云的时候，中位数对我而言就失去了代表性，均值才有意义。在分布差异过大的情况下，任何单一的统计量都不能描述整体分布。抛开分布曲线而选择单一描述符本身就是错误的。如果社会上三分之一的人收入都是一个亿，三分之二的收入只有一千块，中位数$1000$显然不能很好地描述这个社会的整体收入情况。除了均值和中位数，还有第三种平均数，称为众数 (mode)。众数是一批数字中最常见的数值，即频数最大的数值。 与均值和中位数不同，众数必须是数据集中的一个数值，而且是最频繁出现的数值。 数据的众数可以不止一 个。如果有一个以上的数值具有最大频数，则每一个这样的数值都是众数。如果数据看上去体现了多种趋势或多批数据，那么我们就为每一批数据给出一个众数。如果一个数据集有两个众数，则我们说数据是双峰 (bimodal) 的。Chapter3 分散性与变异性的量度 Measuring Variability and Spread平均数只能确定一组数据的中心，却无法给出数据变动情况的信息。通过计算 Range (极差，也称全距), 我们可以初步获知数据的分散情况。全距 (极差) 描述了数据扩展的范围，就像在测量数据的宽度，计算方法是最大值减去最小值 (上界减下界)。 全距仅仅描述了数据的宽度，无法反映数据在上下界之间的真实分布，受异常值影响很大。为了消除异常值的影响，可以采用更小的距来度量，即找出全距中不包含异常值的部分。一种常用的迷你距 (Mini Range) 是四分位距 (IQR, InterQuartile Range ). 四分位距仅考虑数据中心(中位数) 附近的数值。构建四分位距的方法是先讲数据升序排列，然后将数据一分为四，每个数据块包含四分之一(25%) 的数据。 起到将整组数据一分为四作用的几个数被称为四分位数 (Quartile). 最小的四分位数$Q1$ 称为下四分位数(lower quartile) 或第1四分位数，最大的四分位数$Q3$称为上四位分数(upper quartile). 中间的四位分数$Q2$就是中位数. 四分位距的计算方法：$IQR = Q3 - Q1$. 第$k$ 个四分位数的计算方法：先看$\\dfrac{k}{4}\\cdot n$ 是不是整数，如果是整数，四分位数的位置在第$\\dfrac{kn}{4}$ 和第$\\dfrac{kn}{4}+1$ 个数之间，取则两个数的均值就得到第$k$个四分位数；如果不是整数则向上取整，第$\\left\\lceil \\dfrac{kn}{4}\\right\\rceil$ 个数就是第$k$个四分位数.四分位距 (IQR)不是构建mini range的唯一方法，如果将数据一分为十，每一个数据块包含$10\\%$ 的数据，则起分割作用的数称为十分位数(deciles)。 十分位距 (IDR) 也很常用，计算方法是第9个十分位数和第1个十分位数之差，只考虑中间$80\\%$ 的数据。如果将一组数据按百分比进行分割，则起分割作用的数称为百分位数 (percentiles)。第$k$ 个百分位数就是位于数据范围$k\\%$处的数, 记为$P_k$. 四分位数其实也是一种百分位数，上四分位数即$P_{25}$ , 下四分位数即$P_{75}$. 百分位距 (IPR) 是指给定两个百分位数之差。尽管百分位距不常用，百分位数却对划分名次、排行很有用。假如你在测验中得了50分，仅看分数本身无法得知与其他人相比是好是坏。如果告诉你这次测验的第90个百分数是50分，即$P_{90}=50$, 就能知道你的分数高于或等于$90\\%$ 的人. 百分位数的计算方法和四分位数相似，关键在于确定$\\dfrac{kn}{100}$ 是否为整数。 箱线图(箱形图，box plot) 可以用来直观比较不同数据集的距。“箱”能显示四分位数和四分位数的位置，“线”能显示全距和上下界。全距只计算了极值之差，受异常值影响很大，是一种对数据离散程度 (dispersion) 的粗略估计。四分位距仅仅考虑中间一部分数据，也不能全面地反映数据的分散性。在实际应用中，例如评估一名球员得分的稳定程度，我们需要知道接近数据中心的那些数值出现的频率。为了更精确地度量数据的变异性，我们可以观察每个数值与均值的距离。考虑计算每个数值与均值 $\\mu$ 的平均距离。例如有三个数值$1, 4, 9$, 均值$\\mu=4$时\\(平均距离 = \\dfrac{(1-4)+(2-4)+(9-4)}{3} = \\dfrac{(-3)+(-2)+5}{3} = 0\\)我们发现如果把直接每个数值与均值相减，得到的正负距离会互相抵消，因为这些距离之和 $\\sum\\limits_{i=1}^n (x_i - \\mu) = \\sum\\limits_{i=1}^n x_i -\\sum\\limits_{i=1}^n\\mu = 0 $ 那么平均距离永远是0，我们无法得到一个有用的统计量。" }, { "title": "Apostol微积分Ⅰ基础篇P3 实数系公理之完备性公理", "url": "/posts/Apostol-calculus1-basics-p3-3/", "categories": "数学, 微积分", "tags": "微积分基础, 实数理论", "date": "2023-10-11 00:03:40 +0800", "snippet": "I 3.6 整数和有理数实数集$R$ 的某些子集具有区别于其他实数的特殊性质。本节讨论整数集和有理数集这两个子集。我们从数1开始引入正整数。数1的存在性由域公理4所保证。数 $1+1$ 用 $2$ 表示，数 $2+1$ 用 $3$ 表示，数 $3+1$ 用 $4$ 表示 $\\cdots$ 以此类推。通过这种重复加1的方法得到的数$1,2,3 \\cdots$ 全都是正的，称为正整数。严格来说，正整数的这种描述并不完整，因为没有详细解释“以此类推”“重复加1”指的是什么。虽然这些表述的直观意义似乎是清楚的，但为了实数系统的严谨性，必须给正整数更准确的定义。定义正整数的方法有很多种，其中一个方便的方法是引入归纳集 (inductive set) 的概念。 归纳集的定义 一个实数的集合如果具有以下两个性质，就被称为归纳集. $(a)$ 数 $1$ 在集合中 $(b)$ 对集合中的任意一个数$x$, 数 $x+1$ 也在集合中.例如，$R$ 是一个归纳集，$R^+$ 也是一个归纳集。现在我们把正整数定义为属于每个归纳集的那些实数。 正整数的定义 如果一个实数属于每一个归纳集，则这个实数叫做正整数. 令$P$ 表示所有正整数的集合。 那么 $P$ 本身是一个归纳集。因为$(a)$ 它包含了$1$. $(b)$ 如果它包含了$x$，则它包含了$x+1$. 因为 $P$ 的元素属于每个归纳集，所以把 $P$ 称为最小归纳集。 集合$P$ 的这个性质，为归纳证法这一类推理提供了逻辑基础。第四节将给出关于归纳证法的详细讨论。 正整数的负值称为负整数。正整数和负整数以及0一起构成一个集合 $Z$, 称为整数集。若是实数系统的详尽论述，到了这个阶段有必要证明关于整数的某些定理。例如，两个整数的和，差或积是一个整数，但两个整数的商不一定是整数。然而我们不在这里详述这些证明。 整数的商$\\dfrac{a}{b}$ 称为有理数，用 $Q$ 表示。有理数集$Q$包含了整数集$Z$作为一个子集。有理数集$Q$满足所有域公理和序公理，是一个有序域。不在$Q$中的实数称为无理数。I 3.7 实数作为直线上的点的几何解释1902年，希尔伯特《几何基础》发表，5组数学公理确立了欧几里德直线上的点与实数的一一对应关系，是数学发展史上的里程碑事件。直线通常叫做实线或实轴。而且习惯上可互换使用实数和点这两个词。于是我们经常讲点$x$而不说对应于实数$x$的点。如图，我们选择直线上一点表示$0$，在 $0$ 右边的某一点表示 $1$。这个选择确定了尺度。实数中的序关系有一个简单的几何解释。如图。如果$x&amp;lt;y$，则点$x$位于点$y$的左边。正数位于$0$的右边而负数位于$0$的左边。如果$a&amp;lt;b$，当且仅当点$x$位于$a$和$b$之间时$x$满足不等式$a&amp;lt;x&amp;lt;b$.I 3.8 集合的上界，最大元，最小上界 (上确界)前面列出的9条公理包含了初等代数中通常论述的实数的性质。在微积分中，还有一个在初等代数中不讨论的重要公理，这个公理 (或与之等价的性质) 被用来证明无理数的存在。 在初等代数中，当我们尝试解某些二次方程时就会出现无理数。例如求一个实数满足$x^2=2$. 由前9条公理我们不能证明 $R$ 中存在这样一个$x$. 因为$Q$ 也满足所有域公理和序公理，但不存在平方为$2$的有理数。 公理10使我们能在实数系中引进无理数，并给出了实数系的连续性。这个性质是微积分学的逻辑结构的基石。 为了方便叙述公理10，我们先引入一些专有名词和记号。有序集的概念 某个集合上定义了一种序，便是一个有序集。例如，如果对任意两个有理数$a$和$b$, 规定 $a&amp;lt;b$ 即 $b-a$ 是正有理数，则有理数集 $Q$ 是一个有序集。 上界的概念 上界是一个与有序集有关的特殊元素，指的是有序集中大于或等于它的子集中一切元素的元素。设$U$是一个有序集，若存在$y \\in U$, 对任意$x \\in S \\subseteq U$ 都有 $x \\le y$ . 则称 $y$ 是子集$S$ 的一个上界。上界在实数集R上的定义 假定$S$是一个非空实数集，并假定对$S$中的每个$x$, 存在一个数$B$, 使得\\[\\begin{align}x \\le B\\end{align}\\]那么就说$x$是以 $B$ 为上界的 ($S$ is bounded above by $B$) 。数 $B$ 称为 $S$ 的一个上界。 我们说$B$ 是一个上界，因为每个大于$B$ 的数也都是上界。如果上界 $B$ 也是$S$ 中的数，则称$B$ 为$S$ 的最大元. 至多可能存在一个这样的$B$. 如果存在，记作$B = max\\ S$. 于是，如果$B \\in S$ 且 $x \\le B$，$\\forall x \\in S$, 则 $B= max \\ S$ . 一个没有上界的集合称为是无上界的 (unbounded above). 以下例子用来说明这些术语的意义.例1 令 $S$ 是所有正实数的集合，这个集合是无上界的。它没有上界也没有最大元。 例2 令 $S$ 是所有满足 $0\\le x \\le 1$ 的实数 $x$ 的集合。这个集合以 $1$ 为上界。$1$ 也是最大元。 例3 令 $T$ 是所有满足 $0\\le x \\lt 1$ 的实数 $x$ 的集合。这个集合以1为上界，但没有最大元。 某些集合 (如例3中的集合) 有上界, 但没有最大元。对这些集合，有一个取代最大元的概念，这个概念称为最小上界，其定义如下： 最小上界的定义 如果数$B$ 具有以下两个性质，则称$B$是非空集合$S$ 的最小上界. $(a)$ $B$ 是$S$ 的一个上界. $(b)$ 小于$B$ 的数不是 $S$ 的上界. 如果$S$有最大元，这个最大元也是最小上界。但如果$S$没有最大元，它仍然可以有一个最小上界。在例3中，$T$虽然没有最大元，但数$1$是 $T$ 的最小上界。最小上界的唯一性 两个不同的数不可能是同一集合的最小上界. 证明: 假设$B$和$C$都是集合$S$的最小上界，因为$B$是最小上界，由性质$(b)$有$C\\ge B$. 类似地，因为$C$是最小上界, 有$B \\ge C$. 所以$B=C$. 即最小上界是唯一的. $#$ 这个定理告诉我们，一个集合如果有最小上界，那么这个最小上界是唯一的。因为我们可以只说“最小上界”，而不必说”一个最小上界”。 通常用更简明的术语上确界来指一个集合的最小上界，缩写为$\\sup$. 用$B = \\sup S$ 表示$B$ 是$S$的最小上界/上确界.I 3.9 最小上界公理 (完备性公理)现在我们来叙述实数系的最小上界公理。 公理10   非空有上界的实数集$S$必有上确界. 即存在一个实数$B$ 使得$B = \\sup S$. 再次强调，$S$的上确界不必是$S$的一个元素，事实上，当且仅当$S$存在最大元时$\\sup S \\in S$. 这种情况下$\\max S = \\sup S$. 类似地，我们可以给出下界，有下界，最小元的定义，这里不一一写出。最小元记作 $\\min S$. 一个数$L$如果满足$(a)$ $L$ 是$S$的一个下界 $(b)$ 大于$L$的数不是$S$的下界. 则数$L$叫做$S$的 最大下界 (下确界). 下确界存在时也是唯一确定的，记作 $\\inf S$. 如果$S$存在最小元，则 $\\min S = \\inf S$. 利用公理10可以证明以下定理：下确界定理 非空有下界的实数集$S$必有下确界. 即存在一个实数$L$ 使得$L=\\inf S$. 证明： 令$-S$ 表示$S$ 中数的负值的集合. 则$-S$非空且有上界. 由公理10存在一个实数$B$, 这个$B$ 是$-S$ 的上确界. $S$中每个元素$x$取负值后对应$-S$ 中的$-x$. 由上确界性质$(a)$ $B$ 是一个上界，则对$\\forall x \\in S$ 有 $-x \\le B$ 即$x \\ge -B$. 所以$-B$是$S$的一个下界. 由上确界性质$(b)$ 小于$B$ 的数都不是$-S$ 的上界，对任意$B’&amp;lt;B$, 存在$-x \\in -S$, 使得$-x&amp;gt;B’$. 即对任意$-B’&amp;gt;-B$, 都存在$x \\in S$, 使得$x&amp;lt;-B’$. 所以$-B$ 是$S$的最大下界. 即$-B=\\inf S$. $#$再看前面的例子，例1中所有正实数的集合，数$0$是集合的下确界，这个集合没有最小元. 例2和例3中数$0$是最小元. 这些例子都容易确定集合$S$是否有上界或下界，也容易确定上确界$\\sup S$ 和下确界$\\inf S$. 下面的例子说明确定上界或下界是否存在有时是困难的.例4$\\quad$令 $S$ 是形如$(1+1/n)^n$ 的所有数的集合，其中$n=1,2,3,\\cdots$ . 例如，取$n=1,2$和$3$我们得到$S$中的数$2,\\dfrac{9}{4}$和$\\dfrac{64}{27}$.集合中的每个数都大于1，因此集合$S$是有下界的.\\[\\begin{align}\\hspace{-2em}\\dfrac{(1+\\dfrac{1}{n+1})^{n+1}}{(1+\\dfrac{1}{n})^n} &amp;amp;= \\dfrac{(1+\\dfrac{1}{n+1})^{n+1}}{(1+\\dfrac{1}{n})^{n}\\cdot (1+\\dfrac{1}{n})} \\cdot (1+\\dfrac{1}{n}) \\\\&amp;amp;= (1+\\dfrac{1}{n}) \\left(\\frac{1+\\frac{1}{n+1}}{1+\\frac{1}{n}}\\right)^{n+1} \\\\&amp;amp;= (1+\\dfrac{1}{n})\\left(\\frac{\\frac{n+2}{n+1}}{\\frac{n+1}{n}}\\right)^{n+1} \\\\&amp;amp;= (1+\\dfrac{1}{n})\\left(\\dfrac{n^2+2n}{(n+1)^2}\\right)^{n+1} \\\\&amp;amp;= (1+\\dfrac{1}{n})\\left(1-\\dfrac{1}{(n+1)^2}\\right)^{n+1} \\\\&amp;amp;\\ge (1+\\frac{1}{n})(1+(n+1)\\left(-\\frac{1}{(n+1)^2}\\right)) (伯努利不等式(1+x)^n\\ge 1+nx) \\\\&amp;amp;= (1+\\frac{1}{n})(1-\\dfrac{1}{n+1}) \\\\&amp;amp;= \\dfrac{n+1}{n} \\cdot \\dfrac{n}{n+1} = 1\\end{align}\\]所以数列$(1+1/n)^n$ 是单调递增的，$n=1$时取得最小值$2$. 所以集合$S$的下确界$\\sup S = \\min S = 2$. 下面来证明集合$S$ 有上界，只须证单调递增数列$(1+1/n)^n$ 有上界. \\(\\begin{align}(1+\\dfrac{1}{n})^n &amp;amp;= \\sum_{k=0}^n C_n^k(\\dfrac{1}{n})^k \\quad (二项式定理) \\\\&amp;amp;= \\sum_{k=0}^n \\dfrac{n!}{k!(n-k)!} (\\dfrac{1}{n})^k \\\\&amp;amp;= 1+1+\\sum_{k=2}^n\\dfrac{n(n-1)\\cdots (n-(k-1))}{k!}\\dfrac{1}{n^k} \\\\&amp;amp;= 1+1+\\sum_{k=2}^n\\dfrac{1(1-\\frac{1}{n})\\cdots (1-\\frac{k-1}{n})}{k!} \\\\&amp;amp;\\lt 2+\\sum_{k=2}^n\\dfrac{1}{k!} \\\\&amp;amp;= 2+(\\dfrac{1}{2!}+\\dfrac{1}{3!}+\\cdots +\\dfrac{1}{n!}) \\\\&amp;amp;\\lt 2+(\\dfrac{1}{2 \\times 1}+\\dfrac{1}{3 \\times 2}+\\cdots +\\dfrac{1}{n\\times (n-1)}) \\quad (放缩)\\\\&amp;amp;= 2+(\\dfrac{1}{1}-\\dfrac{1}{2})+(\\dfrac{1}{2}-\\dfrac{1}{3})+\\cdots ++(\\dfrac{1}{n-1}-\\dfrac{1}{n}) \\quad(裂项求和)\\\\&amp;amp;= 2+(1-\\dfrac{1}{n}) \\lt 3 \\quad \\#\\end{align}\\)所以集合$S$有上界. 公理10告诉我们$S$必有上确界。这种情况下不容易通过$S$的表达式来确定上确界$\\sup S$的值。后面有一章我们将了解到$\\sup S$是一个近似等于$2.718$的无理数。这是微积分中一个重要的数，称为欧拉数$e$.I 3.10 实数系的阿基米德性质本节包含了实数系的若干重要性质，这些性质是最小上界公理的结果。 定理I.28   正整数$1,2,3,\\cdots $ 的集合$P$ 是没有上界的. 证明： 假设集合$P$ 有上界. 因为$P$是非空的，由公理10知$P$必有最小上界 (整数集也有最小上界性，有理数集则没有)，设$P$ 的最小上界是$b$, 则由最小上界的定义，$b-1$ 不是$P$ 的上界，即存在正整数$n$, 使得$n&amp;gt;b-1$. 对这个$n$，我们有$n+1 &amp;gt; b$. 由正整数的最小归纳集定义，$n+1$ 也在$P$ 中，这与$b$ 是$P$ 的上界矛盾，所以$P$ 是没有上界的. $#$ 作为定理I.28的推论，我们有以下结论： 定理I.29 对任意实数$x$, 存在正整数$n$，使得$n&amp;gt;x$. 证明： 原命题的否定表述为：存在某个实数$x$，对任意的正整数都有$n &amp;lt;= x$. 即正整数集$P$ 存在一个上界$x$，这与定理I.28矛盾，故原命题的否定为假，则原命题得证。 定理I.30 (阿基米德性质) 如果$x&amp;gt;0$ 且 $y$ 是任意实数，则存在正整数$n$, 使得$nx&amp;gt;y$. 证明： 把定理I.29中的$x$ 替换为 $y/x$ 即得证. 阿基米德性质的几何意义是：一条线段无论有多长，都可以用给定任意短的线段的有限倍数来覆盖。换句话说，一根小直尺只要使用足够多次就能度量任意大的距离。当年阿基米德意识到这是直线的一个基本性质并把它明确地列为几何公理之一。在19至20世纪创立的非阿基米德几何中这条公理被去掉了。 由阿基米德性质，我们能证明以下定理。这个定理在积分学的讨论中非常有用。 定理I.31 如果对每个整数$n \\ge 1$, 实数$a, x, y$ 满足不等式\\[\\begin{align}a \\le x \\le a + \\dfrac{y}{n}\\end{align}\\] 则 $x=a$.证明： 如果$x&amp;gt;a$, 则有$x-a &amp;gt;0$. 由阿基米德性质，存在正整数$n$, 使得$n(x-a)&amp;gt;y$ 即$x&amp;gt; a+\\dfrac{y}{n}$ ，这与不等式$x \\le a+\\dfrac{y}{n}$ 矛盾，因此不能有$x&amp;gt;a$, 于是必须有$x=a$.3.11 上确界和下确界的基本性质这节讨论上确界和下确界的三个基本性质，这些性质在微积分中将会用到。第一个性质指出，任何有上确界的实数集包含任意接近它的上确界的点。类似地，任何有下确界的实数集包含任意接近它的下确界的点。定理I.32 $S$ 是一个实数集，$h$ 是任意给定的正数 $(a)$ 如果$S$有上确界，则存在$x \\in S$, 使得 $x &amp;gt; \\sup S-h$. $(b)$ 如果$S$有下确界，则存在$x \\in S$, 使得$x &amp;lt; \\inf S+h$. 证明：命题$(a)$ 中，如果对$\\forall x \\in S$ 都有$x \\le \\sup S-h$, 则$\\sup S-h$ 是比$\\sup S$ 更小的小界，与$\\sup S$ 是最小上界矛盾，所以至少存在一个$x \\in S$ 满足$x &amp;gt; \\sup S -h$. $(b)$ 的证明同理, 如果对$\\forall x \\in S$ 都有$x \\ge \\inf S+h$，则$\\inf S+h$ 是一个比$\\inf S$更大的下界，与$\\inf S$ 是最大下界矛盾.定理I.33 可加性 给定$\\mathbb{R}$ 的非空子集$A$和$B$, 令$C$表示集合\\[C = \\left\\{\\ a+b\\hspace{0.4em}|\\hspace{0.4em}a\\in A, b\\in B\\ \\right\\}\\]$(a)$ 如果$A$和$B$每一个都有上确界，则$C$有上确界，而且\\[\\sup C = \\sup A + \\sup B\\]$(b)$ 如果$A$和$B$每一个都有下确界，则$C$有下确界, 而且\\[\\hspace{-3em} \\inf C = \\inf A + \\inf B\\]证明： $(a)$ 根据集合$C$的定义，对$\\forall c \\in C$ 有 $c = a+b$, 其中$a \\in A$, $b \\in B$. 因为$A$和$B$ 都有上确界，分别记为$\\sup A$ 和$\\sup B$, 则有$c \\le \\sup A + \\sup B$, 故 $\\sup A+\\sup B$ 是集合$C$的一个上界，根据最小上界公理$C$必有上确界，则有\\[\\hspace{-3em} \\sup C \\le \\sup A + \\sup B\\]令$h = \\dfrac{1}{n}$ , 其中$n$为任意正整数. 根据上确界的第一个基本性质(定理I.32), 存在$a \\in A$ 使得$a &amp;gt; \\sup A - \\dfrac{1}{n}$ ；存在$b \\in B$ 使得$b &amp;gt; \\sup B - \\dfrac{1}{n}$. 两不等式相加得：\\[\\hspace{-3em}a+b \\gt \\sup A + \\sup B - \\dfrac{2}{n} \\quad即\\quad \\sup A +\\sup B &amp;lt; a+b+\\dfrac{2}{n}\\]由于$a+b \\in C$, 有 $a+b \\le \\sup C$，则 $\\sup A+\\sup B \\lt \\sup C + \\dfrac{2}{n}$ 成立. 综上有\\[\\hspace{-3em}\\sup C \\le \\sup A + \\sup B \\lt \\sup C + \\dfrac{2}{n}\\]对每个整数$n \\ge1$ 都成立。根据阿基米德性质的推论(定理I.31) 必有 $\\sup C = \\sup A + \\sup B$. 命题$(a)$ 得证. 同理可证命题$(b)$.定理I.34 给定$\\mathbb{R}$ 的非空子集$S$和$T$, 使得对$\\forall s \\in S$, $\\forall t \\in T$ 有\\[\\hspace{-5em} s \\le t\\]则$S$有上确界，而$T$有下确界，而且满足不等式\\[\\hspace{-5em} \\sup S \\le \\inf T\\]证明： $T$中任意$t$ 都是$S$ 的上界，由最小上界公理，非空实数集$S$必有上确界 $\\sup S$. 由上确界的定义有 $\\sup S \\le t$ 对任意$t \\in T$ 都成立. 由下确界定义知 $\\sup S$ 是$T$ 的一个下界，由最小上界公理的直接推论(下确界定理)，非空实数集$T$必有下确界 $\\inf T$. 由下确界 (最大下界) 的定义有 $\\sup S \\le \\inf T$ 成立.3.13 非负实数平方根的存在平方根的定义：如果$x^2=a$, 则称实数$x$ 是实数$a$ 的一个平方根. $a$存在平方根等价于方程$x^2=a$ 有实数解。方程的每个解 $x$ 称为实数$a$ 的一个平方根。前面提到过方程$x^2=2$在有理数中无解。借助公理10，我们可以证明: 当$a \\ge 0$ 时方程$x^2 = a$ 有实数解，即证明非负实数都存在平方根。 如果不借助公理10，我们先来看看，仅由前9条实数公理能推出哪些关于平方根的结论。首先，负数不存在平方根，因为如果$x^2=a$, $a$ 作为一个平方的结果必须是非负的。根据序公理7的推论定理I.20 ( 如果$x\\ne 0$ 则$x^2&amp;gt;0$ ) 和域公理的推论定理I.6 ( $0 \\cdot x =0$ ) 中$x$ = $0$ 的情形，可证$x^2$ 是非负的，所以当$a&amp;lt;0$ 时 $x^2=a$ 没有实数解。当$a\\ge0$ 时假设$x^2=a$ 有实数解，当$a=0$ 时，$x=0$ 是唯一的平方根，即$0$有且仅有$0$这一个平方根：$\\sqrt{0}=0$。这由域公理的推论定理I.11 (如果$ab=0$ 则$a=0$或$b=0$) 取$a=b=x$ 可以证明；当$a&amp;gt;0$时，方程 $x^2=a$ 的解$x\\ne 0$ 且有 $(-x)^2=x^2=a$ 即$-x$也是$a$ 的一个平方根。这由域公理的推论定理I.12: $(-a)(-b)=ab$ 中取$a=b=x$ 可证。也就是说，假如正数$a$存在平方根，则至少有一正一负互为相反数的两个平方根。而且它至多有两个平方根: 假设$x$和$y$ 是$a$的两个不同的平方根，即$x^2=a$ 且 $y^2=a$ 成立，则有$x^2=y^2$ 即$(x+y)(x-y)=0$，再次由定理I.11有$x+y=0$ 或 $x-y=0$, 即$x=-y$ 或 $x=y$. 所以必有$x=-y$. 两个不同的平方根必互为相反数，所以最多有两个。综上，假如正数$a$存在平方根， 则恰有一正一负互为相反数的两个平方根。微积分中，连续函数的中值定理也能推出非负实数至少存在一个平方根，但了解一下平方根的存在性怎么由公理10直接证明是有启发性的。定理I.35 非负实数$a$存在唯一的非负平方根. 注：如果$a \\ge 0$, $a$ 的非负平方根记为$\\sqrt{a}$ 或 $a^{\\frac{1}{2}}$. 如果$a \\gt 0$, $a$ 的负平方根记为$-\\sqrt{a}$ 或 $-a^{\\frac{1}{2}}$.证明：$1)$ 如果$a=0$, 由域公理的推论定理I.11可知，$0$ 是唯一的平方根. $2)$ 如果 $a &amp;gt; 0$, 令$S$ 是所有满足$x^2 \\le a$ 的正实数$x$ 构成的集合。(思路：证明非空实数集$S$ 的上确界$b$ 是方程$x^2=a$ 的解，即$b^2=a$. 即证明了$a$存在非负平方根$b$. 借助最小上界公理，用反证法排除$b^2&amp;gt;a$ 和 $b^2&amp;lt;a$ 的情况) 由不等式 $(1+a)^2 &amp;gt; a$ 恒成立可知 $1+a$ 是$S$的一个上界. 下面证明$S$ 是非空集合.不等式两边乘$a$得 $a^2 &amp;lt; a(1+a)^2$ 再变形得 $(\\dfrac{a}{1+a})^2 &amp;lt; a$. 则存在正实数$x=\\dfrac{a}{1+a}$ 满足 $x^2\\le a$. 即$S$包含了正实数$\\dfrac{a}{1+a}$, 这就证明了$S$ 是非空实数集. 由最小上界公理可知 $S$ 必有上确界，记作$b$. 由上界定义有 $\\dfrac{a}{1+a}\\le b$. 故$b&amp;gt;0$. 猜想$b$ 是方程$x^2=a$ 的正实数解，分别讨论$b^2&amp;gt;a$ , $b^2&amp;lt;a$ 和 $b^2=a$ 这三种仅有的可能性.假设$b^2&amp;gt;a$成立. 则$b^2-a&amp;gt;0$. 令$c = b - \\dfrac{b^2-a}{2b} = \\dfrac{1}{2}(b+\\dfrac{a}{b})$. 则$0&amp;lt;c&amp;lt;b$.$c^2=b^2-(b^2-a)+\\dfrac{(b^2-a)^2}{4b^2}=a+\\dfrac{(b^2-a)^2}{4b^2}&amp;gt;a$ . 则对$\\forall x \\in S$ 有 $x^2 \\le a &amp;lt; c^2$ 则 $x^2 &amp;lt; c^2$ 即 $(c+x)(c-x) &amp;gt;0$ 对 $\\forall x \\in S$ 都成立，由序公理推论定理I.24, 如果$ab&amp;gt;0$ 则$a$和$b$ 都为正或都为负, $c+x&amp;gt;0$ 所以 $c-x$ 也为正，即 $x &amp;lt; c$ 对 $\\forall x \\in S$ 都成立. 故$c$ 是$S$的一个上界，则 $c &amp;lt; b$ 与 $b$ 是$S$的最小上界矛盾。所以$b^2&amp;gt;a$ 不可能成立. 假设 $b^2&amp;lt;a$ 成立. 则$a-b^2&amp;gt;0$. 令正实数$c$满足$c&amp;lt;b$ 且 $c &amp;lt; \\dfrac{a-b^2}{3b}$ 则有$(b+c)^2 = b^2 + 2bc + c^2 &amp;lt; b^2 + 2bc + bc = b^2 + 3bc&amp;lt;b^2 + (a-b^2)=a$. 则正实数 $b+c \\in S$ 且有 $b+c&amp;gt;b$ . 这与$b$ 是$S$ 的上界矛盾，所以$b^2&amp;lt;a$ 也不可能成立. 所以只剩唯一的可能性 $b^2 = a$. 这就证明了$a&amp;gt;0$时方程$x^2=a$ 有正实数解$b$. 即正数$a$存在平方根. 由前面推理的结论知正数$a$恰有一正一负互为相反数的两个平方根。所以正数$a$ 存在唯一的正平方根. 综合1)和2) 定理I.35得证.I 3.14 高阶根. 有理幂最小上界公理也能用来证明高阶根的存在. 例如，如果$n$是正的奇数，则对每一个实数 $x$ ，恰好存在一个实数$y$ , 使得$y^n=x$. 这个$y$ 被称为$x$ 的$n$ 次方根 (nth root of x)，记为$y=\\sqrt[n]{x}$ 或 $y=x^{1/n}$ . 当$n$ 是偶数时，如果x是负数则不存在偶数次方根，因为$y^n \\ge0$, 任何实数的偶数次方都是非负的。如果$x$为正数则存在偶数次方根，可以证明存在唯一的正实数$y$使得 $y^n=x$. 这个$y$称为$x$的正$n$次方根, 记号也是$\\sqrt[n]{x}$ 或 $x^{1/n}$ . 因为$(-y)^n=y^n$, 正数$x$存在一正一负两个偶数次方根. 注意当$n$ 是偶数时，$\\sqrt[n]{x}$ 仅表示正n次方根。这些结论的证明这里不讨论，它们将由连续函数的中值定理推出. (见3.10) 用高阶根定义有理指数幂：如果$r$是正有理数，记作$r = m/n$, 其中$m$和$n$是正整数，我们把有理幂$x^r $ 即$x^{\\frac{m}{n}}$定义为$x^m$ 的$n$次方根 (只要$n$次方根存在) 或 $x$的$n$次方根的$m$次幂, 即定义$x^{\\frac{m}{n}}=(x^m)^{\\frac{1}{n}}=(x^{\\frac{1}{n}})^m$. 如果$x \\ne 0$ ,当$x^r$ 存在时, 我们定义$x^{-r}=\\dfrac{1}{x^r}$ . 根据这些定义，不难验证常见的整数指数运算定律对有理指数也是成立的：$x^r \\cdot x^s = x^{r+s}$ , $(x^r)^s = x^{rs}$ 以及 $(xy)^r = x^ry^r$.证明： $(x^r)^s = x^{rs}$ , $r \\in \\mathbb{Q}$令$r = \\dfrac{a}{b}$, $s=\\dfrac{c}{d}$ , $a,b,c,d \\in \\mathbb{Z}$. 根据有理指数幂的定义有\\[\\begin{align}(x^{\\frac{a}{b}})^{\\frac{c}{d}} &amp;amp;= \\biggl(\\bigl((x^a)^{\\frac{1}{b}}\\bigr)^c\\bigg)^{\\frac{1}{d}}\\\\&amp;amp;=\\biggl(\\bigl((x^a)^c\\bigr)^{\\frac{1}{b}}\\bigg)^{\\frac{1}{d}} \\\\&amp;amp;=\\biggl(\\bigl(x^{ac}\\bigr)^{\\frac{1}{b}}\\bigg)^{\\frac{1}{d}} \\quad(运用整数指数幂运算定律)\\\\&amp;amp;=\\biggl(x^{\\frac{ac}{b}}\\bigg)^{\\frac{1}{d}} \\\\&amp;amp;= x^{\\frac{ac}{bd}} \\quad(\\frac{ac}{b}看成整体，根据定义可得) \\\\&amp;amp;=x^{\\frac{a}{b}\\cdot \\frac{c}{d}}\\end{align}\\]证明： $(xy)^r = x^r y^r$ , $r \\in \\mathbb{Q}$令 $r= \\dfrac{m}{n}, m, n \\in \\mathbb{Z}$ , 等式右边取$n$次幂，即可运用整数指数运算定律：\\[\\begin{align}\\left( x^{\\frac{m}{n}} y^{\\frac{m}{n}} \\right)^n &amp;amp;= ( x^{\\frac{m}{n}})^n (y^{\\frac{m}{n}})^n \\\\&amp;amp;= x^{\\frac{m}{n}\\cdot n} y^{\\frac{m}{n}\\cdot n} \\quad(根据(x^r)^s = x^{rs})\\\\ &amp;amp;= x^m y^m \\\\&amp;amp;=(xy)^m\\end{align}\\]根据$n$次方根定义有 $\\biggl((xy)^{m}\\biggr)^{\\frac{1}{n}}=(xy)^{\\frac{m}{n}} = x^{\\frac{m}{n}}y^{\\frac{m}{n}}$ 即$(xy)^r = x^r y^r$, $r \\in \\mathbb{Q}$ 得证.证明： $x^r \\cdot x^s = x^{r+s}$ ， $r, s \\in \\mathbb{Q}$令$r = \\dfrac{a}{b}$, $s=\\dfrac{c}{d}$ , $a,b,c,d \\in \\mathbb{Z}$. 应用两个已证明的有理指数幂运算律和整数指数幂运算律：$(x^{\\frac{a}{b}}x^{\\frac{c}{d}})^{bd}=x^{ad}x^{bc}=x^{ad+bc}$根据$n$次方根定义有 $x^{\\frac{ad+bc}{bd}}=x^{\\frac{a}{b}}x^{\\frac{c}{d}}$ 即 $x^{\\frac{a}{b}+\\frac{c}{d}}=x^{\\frac{a}{b}}x^{\\frac{c}{d}}$ 命题得证.I 3.15 实数的十进制小数表示形如 $r= a_0 + \\dfrac{a_1}{10}+\\dfrac{a_2}{10^2}+\\cdots + \\dfrac{a_n}{10^n}$ (I.16) 的实数，通常记为更简短的形式：$r = a_0.a_1a_2\\cdots a_n$ 其中$a_0$是一个非负整数，$a_1,a_2,a_3,\\cdots a_n$ 是满足 $0\\le a_i \\le 9$ 的整数. 此表达式称为实数$r$ 的有尽小数表示 (finite decimal representation). 例如，$\\dfrac{1}{2}=\\dfrac{5}{10}=0.5\\ ,\\quad \\dfrac{1}{50}=\\dfrac{2}{10^2}=0.02\\ ,\\quad \\dfrac{29}{4}=7+\\dfrac{2}{10}+\\dfrac{5}{10^2}=7.25$像这样能用有尽小数表示的实数一定是有理数，实际上它们都能化为分数形式$\\dfrac{a}{10^n}$ , 其中$a$ 是一个整数. 然而不是所有的有理数都能用有尽小数来表示，例如$\\dfrac{1}{3}$如果能用有尽小数表示，则对某个整数$a$有$\\dfrac{1}{3}=\\dfrac{a}{10^n}$ 即 $3a=10^n$ . 但因为$3$不是10的任何次幂的因数，所以这表达式不可能存在.然而如果$n$取足够大，就能通过I.16 和的形式把任意正实数$x$近似到所希望的任意精度。原因可从以下几何论证看出：如果$x$不是一个整数，那么必然位于两个连续的整数之间，比方说 $a_0 &amp;lt; x &amp;lt; a_0+1$ . 可以把连接$a_0$和$a_0+1$的线段细分成十等份。如果$x$不是分点，则$x$必然位于两个连续的分点之间，表示这个更缩小范围的不等式是：$a_0+\\dfrac{a_1}{10} &amp;lt; x &amp;lt; a_0+\\dfrac{a_1+1}{10}$ , 其中$a_1$ 是一个非负整数 ( $0 \\le a_1 \\le 9$ ) .接下来我们把连接 $a_0+\\dfrac{a_1}{10}$ 和 $a_0+\\dfrac{a_1+1}{10}$ 的线段也分成十等份 ( 每段长$10^{-2}$ ) 并继续这个过程进一步缩小区间。如果有限步之后$x$恰好落在分点上，那么$x$ 是一个有尽小数 (形如I.16), 否则这种逼近过程可以无限进行下去，产生整数$a_1$, $a_2$, $a_3$, $\\cdots$ 的无限序列。这种情况下我们称$x$ 的无尽小数表示是 $x = a_0.a_1a_2a_3\\cdots$ . 在第$n$步，$x$满足不等式：\\[a_0+\\dfrac{a_1}{10}+\\cdots+\\dfrac{a_n}{10^n} &amp;lt; x &amp;lt; a_0+\\dfrac{a_1}{10}+\\cdots +\\dfrac{a_n+1}{10^n}\\]这给出$x$的两个有尽小数近似值，一个从上逼近，一个从下逼近。它们相差$10^{-n}$ ，所以只要$n$取足够大我们就能达到任何想要的精度。 $#$当$x=\\dfrac{1}{3}$ 时，不难论证 $a_0=0$ 且对所有$n\\ge1$都有$a_n=3$. 因此对应的无尽小数展开式是\\[\\dfrac{1}{3}=0.333\\cdots\\]每个无理数都有一个无尽小数表示。例如，当$x=\\sqrt{2}$ 时，我们可以通过试错法逐步逼近，计算出任意多位小数的近似值展开式。因为$(1.4)^2 &amp;lt; 2 &amp;lt; (1.5)^2$ ，所以$\\sqrt{2}$ 落在$1.4$ 和$1.5$ 之间。类似地，通过平方并与$2$ 比较，我们可以得到更好的近似值：\\[1.41 &amp;lt; \\sqrt{2} &amp;lt; 1.42, \\quad 1.414 &amp;lt; \\sqrt{2} &amp;lt; 1.415,\\quad 1.4142 &amp;lt; \\sqrt{2} &amp;lt; 1.4143\\]注意上述过程生成了长度为$10^{-1}, 10^{-2},10^{-3},\\cdots$ 的一系列区间，每个区间包含在前面一个区间之中，这是一个被称为区间套序列 (sequence of nested intervals) 的例子。这个概念可以作为从有理数构造无理数的基础。本书只叙述实数的小数展开式如何借助最小上界公理分析地确定，不讨论小数的其他性质。如果$x$是一个给定的正实数，令$a_0$表示$\\le x$的最大整数。选定$a_0$之后，我们令$a_1$表示满足\\[a_0 + \\dfrac{a_1}{10} \\le x\\]的最大整数。更一般地，选定$a_0, a_1,a_2,\\cdots a_{n-1}$ 之后，我们令$a_n$ 表示满足\\[a_0 + \\dfrac{a_1}{10} + \\dfrac{a_2}{10^2} +\\cdots+\\dfrac{a_n}{10^n} \\le x \\tag{I.17}\\]的最大整数。令$S$ 表示通过这种方法在$n=0, 1, 2, \\cdots$ 时定义的\\[a_0 + \\dfrac{a_1}{10} + \\dfrac{a_2}{10^2} +\\cdots+\\dfrac{a_n}{10^n} \\tag{I.18}\\]所有数的集合。则$S$是非空实数集且有上界$x$。由最小上界公理知$S$必有最小上界。容易证明$x$就是$S$的最小上界。设$S$的最小上界为$x’$, 由最小上界定义有$x’ \\le x$. 如果$x’&amp;lt;x$, 记$\\epsilon = x - x’$. 由前面几何论证知，只要$n$取足够大，有尽小数近似值就能与$x$任意接近，即存在正整数$n$使得\\[\\begin{align}x - (a_0+\\dfrac{a_1}{10}+\\dfrac{a_2}{10^2}+\\cdots \\dfrac{a_n}{n}) &amp;lt; \\epsilon \\quad 即\\\\\\dfrac{a_1}{10}+\\dfrac{a_2}{10^2}+\\cdots \\dfrac{a_n}{n} &amp;gt; x&#39;\\end{align}\\]这与$x’$ 是$S$的最小上界矛盾，所以只有$x’=x$ 这种可能性，即 $x$ 就是最小上界。如此获得的$a_0, a_1,a_2,\\cdots $可以用来定义$x$的小数展开式，我们用\\[x = a_0.a_1a_2a_3\\cdots\\]表示第$n$位数$a_n$是满足不等式I.17的最大整数。例如，如果$x=\\frac{1}{8}$ ，我们选定$a_0=0$, $a_1=1$, $a_2=2$, $a_3=5$，对所有$n \\ge 4$ $a_n=0$. 则$\\frac{1}{8}$ 的小数展开式可以写成\\[\\dfrac{1}{8}= 0.125000\\cdots\\]如果我们用$&amp;lt;$ 代替 (I.17) 中的不等号$\\le$ ，就得到小数展开式的一个稍微不同的定义。虽然按这个定义获得的整数$a_0, a_1, a_2,\\cdots$ 可能与$\\le$不同，但形如(I.18) 的所有近似值的集合$S$ 的最小上界仍然是$x$. 例如，如果对$x=\\frac{1}{8}$ 应用第二个定义，我们选定$a_0=0,a_1=1,a_2=2,a_3=4$, 对所有$n\\ge 4$ $a_n=9$. 这就得到了$\\frac{1}{8}$ 的无尽小数展开式\\[\\dfrac{1}{8} = 0.124999\\cdots\\]一个实数能有两个不同的小数表示，只是因为对小数展开式的定义不同，反映了“两个不同的实数集可以有相同的上确界”这样一个事实。" }, { "title": "Apostol微积分Ⅰ基础篇P3 实数系公理之序公理", "url": "/posts/Apostol-calculus1-basics-p3-2/", "categories": "数学, 微积分", "tags": "微积分基础, 实数理论", "date": "2023-09-24 04:46:23 +0800", "snippet": "I 3.4 序公理这组公理在实数中建立了次序，使我们能断言一个实数比另一个实数大还是小。我们通过一组关于“正数性”概念的公理来引入次序性质，根据正数性定义“大于”或“小于”这样一些术语。假定有一个称为正数集合的子集 $R^{+}\\subset R$ , 满足以下三条序公理： 公理7   如果 $x$ 和 $y$ 在$R^{+}$ 中，则$x+y$ 和 $xy$ 也在$R^{+}$ 中. 公理8   对任意实数$x \\neq 0$, 不是$x \\in R^{+}$ 就是 $-x \\in R^{+}$, 但两者不会同时成立. （非零实数非正即负）公理9    $0 \\notin R^{+}$. 我们现在可以定义符号$\\lt , \\gt , \\le$ 和$\\ge$ 如下：\\[\\begin{align}x&amp;lt;y \\quad &amp;amp;\\mathsf{即} \\quad y-x \\ \\mathsf{是正的}; \\quad(\\mathsf{用差的正数性来定义实数的大小关系})\\\\y&amp;gt;x \\quad &amp;amp;\\mathsf{即} \\quad x&amp;lt;y; \\\\x\\le y \\quad &amp;amp;\\mathsf{即}\\quad \\mathsf{不是}\\ x &amp;lt; y \\ \\mathsf{就是}\\ x=y; \\\\ y \\ge x \\quad &amp;amp;\\mathsf{即} \\quad x \\le y.\\end{align}\\]​于是，当且仅当$x$是正的时我们有$x&amp;gt;0$. (代入以上定义$x&amp;gt;0$即$0&amp;lt;x$即$x-0$是正的，由定理I.3有$x-0=x+(-0)$. 由定理I.2有$0+(-0)=0$, 由公理4有 $0+0=0$, 所以由定理I.1加法消去律有$-0 = 0$, 则$x-0=x+(-0)=x+0=x$ .即$x$是正的 ). 如果$x&amp;lt;0$ 我们说$x$ 是负的. (代入定义$x&amp;lt;0$即$0-x$是正的即$-x$是正的, 由公理8知$x$是负的). 如果$x\\ge0$，我们说$x$是非负的.(代入定义$x\\ge 0$ 即$0 \\le x$ 即不是$0&amp;lt;x$ 就是$0=x$此时$x$是正的或者$x=0$即$x$是非负的). 例如$x&amp;lt;y,\\ y&amp;lt;z$ 这样的联立不等式经常简写为$x&amp;lt;y&amp;lt;z$. 对于复合不等式$x\\le y&amp;lt;z,\\ x&amp;lt;y\\le z,\\ x\\le y \\le z$ 也可以类似地解释为联立不等式的简写形式。 由次序公理我们可以推出计算不等式的所有常用规则，最重要的规则作为定理列出如下。定理I.16  三歧性定律 (Trichotomy Law) 对任意实数$a$和$b$，有且仅有$a &amp;lt; b,\\ b&amp;lt;a,\\ a=b$ 三个关系中的一个成立.定理I.17  传递律 (Transitive Law) 如果$a&amp;lt;b,\\ b&amp;lt;c$ ，则 $a&amp;lt;c$. 定理I.18  如果$a&amp;lt;b$，则$a+c&amp;lt;b+c$. 定理I.19  如果$a&amp;lt;b$ 且 $c&amp;gt;0$，则$ac&amp;lt;bc$. 定理I.20  如果$a\\ne0$，则$a^2&amp;gt;0$. 定理I.21   $1&amp;gt;0$.定理I.22  如果$a&amp;lt;b$ 且 $c &amp;lt; 0$, 则$ac&amp;gt;bc$. 定理I.23  如果$a&amp;lt;b$，则$-a&amp;gt;-b$. 特别地，如果$a&amp;lt;0$，则$-a&amp;gt;0$. 定理I.24  如果$ab&amp;gt;0$，则$a$ 和 $ b$ 都为正或者都为负.定理I.25  如果$a&amp;lt;b$ 且$c&amp;lt;d$, 则$a+c&amp;lt;b+d$.定理I.16证明： 令$x=b-a$. 如果$x=0$，则$b-a=0=-0=-(b-a)=a-b$. ( $b-a$加$-(b-a)$等于$0$, $b-a$ 加$a-b$ 也等于$0$, 由差的唯一性知两者相等) 由公理9，$b-a$ 不是正的，$a-b$ 也不是正的，所以不能有$a&amp;lt;b$ 或 $b&amp;lt;a$；等式 $b-a=0$ 两边加$a$得$b+(-a)+a=0+a$ 即此时只有 $a=b$ 成立. 如果$x \\ne 0$，由公理8，不是$b-a$ 为正，就是$a-b$ 为正，但两者不会同时成立，由符号定义即 $a&amp;lt;b$, $b&amp;lt;a$ 两者有且仅有一个成立.综上，$a &amp;lt; b,\\ b&amp;lt;a,\\ a=b$ 三个关系中有且仅有一个成立. $#$ 定理I.17证明： 如果$a&amp;lt;b$ 且 $b&amp;lt;c$ 即 $b-a&amp;gt;0$ 且 $c-b&amp;gt;0$. 由公理7, 两式相加有$(b-a)+(c-b)&amp;gt;0$ 即$c-a&amp;gt;0$. 由符号定义有$a&amp;lt;c$. $#$ 定理I.18证明： 令$y=b+c,x=a+c$. 则$y-x=(b+c)-(a+c)=b+c-a-c=b-a$ . 如果$a&amp;lt;b$ 由符号定义即$b-a&amp;gt;0$ 即 $y-x&amp;gt;0$ 即 $x&amp;lt;y$ 则 $a+c&amp;lt;b+c$. $#$ 定理I.19证明： 由符号定义，$a&amp;lt;b$ 即 $b-a&amp;gt;0$. 如果$c&amp;gt;0$, 由序公理7有$(b-a)c&amp;gt;0$. 由定理I.5减法分配律有$bc-ac&amp;gt;0$ 即 $ac &amp;lt; bc$. $#$ 定理I.20证明： 如果$a&amp;gt;0$, 由公理7有 $a \\cdot a&amp;gt; 0$ 即$a^2&amp;gt;0$. 如果$a&amp;lt;0$, 即$0-a&amp;gt;0$. 则$-a&amp;gt;0$. 由公理7有$(-a)(-a)&amp;gt;0$. 由定理I.12知$(-a)(-a)=a \\cdot a=a^2$. 则 $a^2&amp;gt;0$ 也成立. $#$ 定理I.21证明： 已知$1\\ne0$, 应用定理I.20, 取$a=1$， 则$1^2 = 1\\cdot1 &amp;gt;0$ 即$1&amp;gt;0$. $#$ 定理I.22证明： 如果$c&amp;lt;0$ 即$0-c=-c&amp;gt;0$ . 由定理I.19有$a(-c) &amp;lt; b(-c)$. 由定理I.12知$-ac&amp;lt;-bc$ 即 $-bc-(-ac)&amp;gt;0$. 由定理I.4知$-bc+ac&amp;gt;0$ 即 $ac-bc&amp;gt;0$ 由符号定义即$bc&amp;lt;ac$ 即$ac&amp;gt;bc$. $#$ 定理I.23证明：如果$a&amp;lt;b$, 即 $b-a&amp;gt;0$, 则 $-a-(-b)=b-a$ &amp;gt; 0. 由符号定义$-b&amp;lt;-a$ 即$-a&amp;gt;-b$ 得证. 特别地，取$b=0$. 如果$a&amp;lt;0$, 则$-a&amp;gt;0$. $#$ 定理I.24证明：由定理I.6知 $0$乘任意实数都得$0$, 如果$a=0$ 或 $b=0$ 则$ab=0$ 由公理9知$ab$ 不是正数，与$ab&amp;gt;0$ 矛盾. 因此$a$和$b$ 都不为0. 当 $a&amp;gt;0$ 时，如果$b&amp;lt;0$, 由定理I.23知$-b&amp;gt;0$. 则由公理7知$a(-b)&amp;gt;0$ 即$-ab&amp;gt;0$. 由公理8推出$ab$ 是负数，与$ab&amp;gt;0$矛盾. 所以$a&amp;gt;0$时必有 $b&amp;gt;0$. 当 $a&amp;lt;0$ 时，由定理I.23知$-a&amp;gt;0$. 如果$b&amp;gt;0$, 由公理7知$(-a)b&amp;gt;0$ 即$-ab&amp;gt;0$, 与$ab&amp;gt;0$ 矛盾. 所以$a&amp;lt;0$时必有 $b&amp;lt;0$. 所以$ab&amp;gt;0$ 时$a$ 和 $ b$ 都为正或者都为负. $#$ 定理I.25证明： 如果$a&amp;lt;b$ 且$c&amp;lt;d$, 由符号定义有 $b-a&amp;gt;0$ 且$d-c&amp;gt;0$. 则由公理7有 $(b-a)+(d-c)=b+d-a-c=(b+d)-(a+c)&amp;gt;0$. 即 $a+c&amp;lt;b+d$. $#$" }, { "title": "Apostol微积分Ⅰ基础篇P3 实数系公理之域公理", "url": "/posts/Apostol-calculus1-basics-p3-1/", "categories": "数学, 微积分", "tags": "微积分基础, 实数理论", "date": "2023-07-01 02:15:35 +0800", "snippet": "I 3.1 实数公理系统的意义利用有理数构造实数的工作完成之后，我们就可以反过来，看能不能先定义实数，再把有理数、整数等概念当成「特殊情况」来处理。这样可以把实数集从繁杂的构造理论中解脱出来，让我们更好的把握实数集的性质。1899 年，Hilbert（1862-1943）提出了实数公理系统，直接用「数」这个概念对实数集进行了定义。「数」可看成是存在着四则运算和序关系的集合中的元素。实数公理系统的意义，就是描述我们心目中认为的实数集合的模样。本书用10条公理把实数集定义为完备有序域 (complete ordered field) 。实数的所有性质都可以从10条公理推导出来。若采用构造方法来定义实数，10条公理所描述的性质必须作为定理予以证明。I 3.2 域公理我们假定实数集$R$上存在加法和乘法两种运算，使得对每对实数$x$和$y$, 我们能做出$x$和$y$的和，以及x和y的积。这个和是用$x+y$表示的另一个实数，这个积是由$xy$或$x \\cdot y$表示的另一个实数。假定和$x+y$及积$xy$是由$x$及$y$唯一确定的。换句话说，给定$x$与$y$，恰存在一个实数$x+y$，也恰存在另一个实数$xy$。符号$+$和$\\cdot$ 除了在公理中表示运算以外，我们不附加任何特殊的含义。公理1    交换律. $x + y = y + x, xy = yx$ 公理2    结合律. $x+(y+z)=(x+y)+z, x(yz) = (xy)z$公理3    分配律. $x(y+z)=xy+xz$ 公理4    单位元(Identity Elements)的存在. 存在$0$和$1$表示的两个不同实数，使得对于每个实数$x$我们有$x+0=x$ 和$1*x=x$. 公理5    负数(相反数,加法逆元) 的存在. 对每个实数$x$, 存在一个实数$y$，使得$x+y=0$.公理6    倒数的存在. 对每个实数$x \\ne 0$, 存在一个实数$y$，使得$xy=1$.注：公理5和6中的数0和1就是公理4中的单位元。由这6条域公理可以导出初等代数所有常见的定律。最重要的定律作为定理列在下面。符号$a,b,c,d$ 表示任意实数。 定理I.1    加法消去律. 如果$a+b=a+c$，则$b = c$. (这表明公理4中的0是唯一的) 定理I.2    减法的可能性. 给定$a$和$b$，恰好存在一个$x$使得$a+x=b$. 这个$x$ 用$b-a$表示. 特别地，$0-a$被简写成$-a$，称为$a$ 的负数(相反数,加法逆元) .定理I.3    $b-a=b+(-a)$定理I.4    $-(-a)=a$定理I.5    $a(b-c)=ab-ac$ 定理I.6    $0 \\cdot a = a \\cdot 0 = 0$ 定理I.7    乘法消去律. 如果 $ab=ac$ 且 $a \\neq 0$, 则$b=c$. (这表明公理4中的1是唯一的) 定理I.8    除法的可能性. 给定$a$和$b$ 且$a \\neq 0$, 恰好存在一个$x$使得$ax=b$, 这个$x$用$b/a$ 或$\\dfrac{b}{a}$ 表示，称为$b$与$a$的商。特别地$1/a$（或$a^{-1}$） 称为$a$的倒数. 定理I.9    如果$a \\neq 0$, 则$b/a = b \\cdot a^{-1}$. 定理I.10    如果$a \\neq 0$, 则$(a^{-1})^{-1}=a$. 定理I.11    如果$ab=0$，则 $a=0$ 或 $b=0$. 定理I.12    $(-a)b=-(ab)$，以及$(-a)(-b)=ab$. 定理I.13    如果$b\\neq0$ 且$d\\neq0$，则有$\\dfrac{a}{b}+\\dfrac{c}{d}=\\dfrac{ad+bc}{bd}$.定理I.14    如果$b\\neq0$ 且$d\\neq0$，则有$\\dfrac{a}{b}\\cdot\\dfrac{c}{d}=\\dfrac{ac}{bd}$.定理I.15    如果$b\\neq0, c\\neq0$和$d\\neq0$，则有$\\dfrac{a/b}{c/d}=\\dfrac{ad}{bc}$.定理I.1证明： 给定$a+b=a+c$ ，由公理5和1，存在实数$y$ 使得$y+a = 0$. 因为和是唯一确定的，有$y+(a+b)=y+(a+c)$ . 由公理2结合律有$(y+a)+b=(y+a)+c$ 即$0+b=0+c$. 由公理4有 $0+b=b$ 及$0+c=c$, 所以$b=c$得证. 加法消去律表明了只有一个实数具有公理4中单位元0的性质。假设存在$0’$也具有单位元性质，则有$0+0’=0$ 和$0+0=0$ 同时成立，即$0+0’=0+0$ , 由加法消去律有$0’=0$, 得证. 定理I.2证明： 给定$a$和$b$, 由公理5负数的存在，存在一个实数$y$ 使得$a+y=0$. 令$x = y+b$, 则$a+x=a+(y+b)=(a+y)+b=0+b=b$. 所以至少存在一个$x$，使得$a+x=b$. 假设存在另一实数$x’$ 使得$a+x’=b$，则$a+x=a+x’$. 由定理I.1知$x=x’$，故这样的$x$至多只有一个。所以恰好存在一个$x$使得$a+x=b$. 定理I.3证明： 令$x=b-a$, $y=b+(-a)$, 要证$x=y$. 由定理I.2中$b-a$的定义有$x+a=b$. $y+a=b+(-a)+a=b+[(-a)+a]=b+0=b$. 所以$x+a=y+a$. 由定理I.1加法消去律$x=y$得证. 定理I.4证明： 根据定理I.2, 恰好存在一个$x$, 使得$(-a)+x=0$. 这个$x$用$0-(-a)$表示. 由定理I.3有$0-(-a)=0+[-(-a)]=-(-a)$, 即$x=-(-a)$. $(-a)+x=0$ 两边加$a$得$a+(-a)+x=a+0$. 由定理I.2知$-a$是$a$的负数，$a+(-a)=0$, 所以有$0+x=a+0$ 即$x=a$. 所以$-(-a)=a$ 得证. 定理I.5证明: 由定理I.2 $ab-ac$ 是唯一使得 $ac+x=ab$ 的实数$x$. 又因为\\[\\begin{align}ac + a(b-c) &amp;amp;= ac + a(b+(-c)) \\\\&amp;amp;= ac + ab + a(-c) \\\\ &amp;amp;= ac + a(-c) + ab \\\\&amp;amp;= a[c+(-c)] + ab \\\\&amp;amp;= a \\cdot 0 + ab \\\\&amp;amp;= a(0+b) \\\\&amp;amp;= ab\\end{align}\\]所以 $a(b-c)$ 就是 $ab-ac$，得证. 定理I.6证明： 由公理4知0是加法单位元，则有\\[\\begin{align}0 \\cdot a &amp;amp;= (0+0) \\cdot a \\\\&amp;amp;= 0 \\cdot a + 0 \\cdot a \\hspace{2em}(公理3分配律) \\end{align}\\]等式左边 $0 \\cdot a = 0 \\cdot a +0$ , 所以有 $0 \\cdot a + 0 = 0 \\cdot a + 0 \\cdot a $ 由定理I.7加法消去律可得 $0 \\cdot a = 0$ 又因公理1乘法满足交换律，有 $0 \\cdot a = a \\cdot 0 = 0$ 得证. 定理I.7证明： 给定$ab=ac$ 且 $a \\neq 0$，由公理6 (倒数的存在) 和公理1 (乘法满足交换律)，存在实数 $y$ 使得$ya =1$. 根据乘法运算的定义积是唯一的，有$y(ab) = y(ac)$ 由公理2乘法满足结合律，有$(ya)b=(ya)c$ 即$1 \\cdot b = 1 \\cdot c$ 由公理4知1是乘法单位元，即$1 \\cdot b = b\\text{, } 1 \\cdot c = c$ 所以 $b=c$ 得证. 乘法消去律表明仅存在一个实数具有公理4中单位元的性质。假设存在另一实数$1’$也是乘法单位元，则有 $1 \\cdot 1’ = 1$ 和$1 \\cdot 1 = 1$ 即 $1 \\cdot 1’ = 1 \\cdot 1$ 又由公理4有$1’ = 1$ 乘法单位元的唯一性得证. 定理I.8证明： 给定$a$和$b$ 且$a \\neq 0$，由公理6 (倒数的存在)，存在一个实数 $y$ 使得 $ay=1$. 令$x=yb$, 则$ax=a(yb)=(ay)b = 1 \\cdot b = b$. 所以至少存在一个 $x$ 使得$ax=b$. 假设存在另一实数$x’$ 使得$ax’=b$, 则有$ax’=ax$. 由定理I.7乘法消去律有$x’=x$. 故这样的$x$至多只有一个。所以恰好存在一个$x$使得$ax=b$.即商的唯一性得证. 定理I.9证明： 令$x=b/a, y=b \\cdot a^{-1}$，要证$x=y$. 由定理I.8中商的定义有$xa=b$. $ya=(b \\cdot a^{-1}) \\cdot a = b \\cdot (a^{-1} \\cdot a)=b \\cdot 1 = b$. 所以有$xa = ya$. 由定理I.7乘法消去律有$x=y$ 得证.定理I.10证明： 根据定理I.8，恰好存在一个$x$ 使得$a^{-1}x=1$, $x$用$1/a^{-1}$ 表示. 由定理I.9有$1/a^{-1}=1 \\cdot (a^{-1})^{-1} = (a^{-1})^{-1}$, 即$x=(a^{-1})^{-1}$. 又由倒数的定义有$a^{-1}a=aa^{-1} =1$ . 因为$x$是唯一的，所以$x=a$.所以 $(a^{-1})^{-1}=a$ 得证. 定理I.11证明： 只须证明逆否命题“如果$a\\neq0$且$b\\neq0$, 则$ab\\neq0$.”。给定$a\\neq0$且$b\\neq0$, 假设$ab=0$成立. 由公理6和定理I.8倒数的定义, 存在唯一的$b^{-1}$ 使得$b \\cdot b^{-1}$= 1. 等式两边同乘$b^{-1}$有 $abb^{-1} = 0 \\cdot b^{-1}$ 即$a \\cdot 1 = 0 \\cdot b^{-1}$ 由定理I.6知$0 \\cdot b^{-1}=0$ 由公理4知1是加法单位元$a\\cdot1=a$ 从而推出$a=0$ 与给定$a\\neq0$矛盾，故假设不成立，所以$ab\\neq0$, 逆否命题为真，原命题得证.定理I.12证明： 先证$(-a)b=-(ab)$.\\[\\begin{align}0 \\cdot b = 0 \\quad (\\mathsf{定理I.6}) \\hspace{-12em}\\\\&amp;amp;\\Longrightarrow \\quad [a+(-a)]\\cdot b = 0 \\quad (\\mathsf{定理I.2相反数的定义})\\\\&amp;amp;\\Longrightarrow \\quad ab +(-a)b = 0 \\quad(\\mathsf{公理3分配律}) 　\\\\&amp;amp;\\Longrightarrow \\quad (-a)b = -(ab) \\quad(\\mathsf{定理I.2相反数的定义}) \\quad\\#\\end{align}\\]​再证$(-a)(-b)=ab$.\\[\\begin{align}(-a) \\cdot 0 = 0 \\quad (\\mathsf{定理I.6}) \\hspace{-11.8em}\\\\&amp;amp;\\Longrightarrow (-a)\\cdot[b+(-b)] = 0 \\quad(\\mathsf{定理I.2相反数的定义}) \\\\&amp;amp;\\Longrightarrow (-a)b + (-a)(-b) = 0 \\quad(\\mathsf{公理3分配律}) \\\\&amp;amp;\\Longrightarrow -(ab) + (-a)(-b) = 0 \\quad(\\mathsf{已证结论}\\mathsf{(-a)b=-(ab)}) \\\\&amp;amp;\\Longrightarrow (-a)(-b) = ab \\quad(\\mathsf{定理I.2相反数的定义}) \\quad\\#\\end{align}\\]​定理I.13证明：\\[\\begin{align}\\dfrac{a}{b}+\\dfrac{c}{d} \\hspace{-4.5em}\\\\&amp;amp;= a \\cdot b^{-1} + c \\cdot d^{-1} \\quad (\\mathsf{定理I.9}) \\\\ &amp;amp;= a \\cdot b^{-1}\\cdot 1+ c \\cdot d^{-1}\\cdot 1 \\quad (\\mathsf{公理4}) \\\\ &amp;amp;= a \\cdot b^{-1} \\cdot(d\\cdot d^{-1})+ c \\cdot d^{-1}\\cdot(b\\cdot b^{-1}) \\quad (\\mathsf{定理I.8}) \\\\ &amp;amp;= ad \\cdot(b^{-1} \\cdot d^{-1})+ bc \\cdot (b^{-1}\\cdot d^{-1}) \\quad (\\mathsf{公理1和2交换律和结合律}) \\\\&amp;amp;= (ad+bc)(b^{-1}d^{-1}) \\quad (\\mathsf{公理3分配律}) \\quad \\#\\end{align}\\]下面证明$b^{-1}d^{-1}= (bd)^{-1}$ (逆元的乘积等于乘积的逆元). 由定理I.8倒数的定义有$b\\cdot b^{-1}=d\\cdot d^{-1} =1$ 则$(b\\cdot b^{-1}) \\cdot (d\\cdot d^{-1}) =1 \\cdot1 = 1$ 由公理1-2乘法交换律和结合律有$bd \\cdot (b^{-1}d^{-1})=1$ 由定理I.8倒数的定义知$b^{-1}d^{-1}$就是 $bd$ 的倒数$(bd)^{-1}$. 命题得证. 又由定理I.9有$(ad+bc)(b^{-1}d^{-1})=(ad+bc)(bd)^{-1}=\\dfrac{ad+bc}{bd} \\ \\text{#}$.定理I.14证明：\\[\\begin{align}\\dfrac{a}{b}\\cdot \\dfrac{c}{d} \\hspace{-3.7em}\\\\&amp;amp;= a \\cdot b^{-1} \\cdot c \\cdot d^{-1} \\quad (\\mathsf{定理I.9}) \\\\ &amp;amp;= (ac) \\cdot (b^{-1} d^{-1}) \\quad (\\mathsf{公理1,2交换律和结合律})\\\\&amp;amp;= (ac) \\cdot (bd)^{-1} \\quad (\\mathsf{定理I.13已证结论})\\\\&amp;amp; = \\dfrac{ac}{bd} \\quad (\\mathsf{定理I.9}) \\quad \\#\\end{align}\\]定理I.15证明：\\[\\begin{align}\\dfrac{a/b}{c/d} \\hspace{-3.4em}\\\\&amp;amp;= \\dfrac{a \\cdot b^{-1}}{c \\cdot d^{-1}} \\quad (\\mathsf{定理I.9})\\\\&amp;amp;= a \\cdot b^{-1} \\cdot (c \\cdot d^{-1})^{-1} \\quad (\\mathsf{定理I.9}) \\\\&amp;amp;= a \\cdot b^{-1} \\cdot [c^{-1} \\cdot (d^{-1})^{-1}] \\quad (\\mathsf{定理I.13已证结论}) \\\\&amp;amp; = a \\cdot b^{-1} \\cdot (c^{-1} \\cdot d) \\quad (\\mathsf{定理I.10}) \\\\ &amp;amp; = ad \\cdot (b^{-1}c^{-1}) \\quad (\\mathsf{公理1,2交换律和结合律}) \\\\&amp;amp; = ad \\cdot (bc)^{-1} \\quad(\\mathsf{定理I.13已证结论}) \\\\&amp;amp; = \\dfrac{ad}{bc} \\quad (\\mathsf{定理I.9}) \\quad \\#\\end{align}\\]" }, { "title": "Apostol微积分Ⅰ基础篇P3 实数系的一组公理(引论)", "url": "/posts/Apostol-calculus1-basics-p3/", "categories": "数学, 微积分", "tags": "微积分基础, 实数理论", "date": "2023-01-26 06:46:44 +0800", "snippet": "引论数学分析这门课的基础是 实数系的定义与性质，工科学生的高等数学课本往往没有这部分更基础的内容，而是从极限的定义或者数列开始。只有更深入地理解实数的性质，才能真正掌握极限这个既抽象又需要高度严谨性的概念。实数的特殊之处回顾我们从小到大学习数学的经历，可以发现我们所已知的「数」的范畴，是逐渐扩张与复杂化的。从幼儿园掰着指头数的$1,2,3$（自然数集 $N$), 到小学认识了分数与负数（扩张为有理数集Q）到第一次认识「无限不循环」的无理数$\\pi$（扩张为实数$R$），以至于虚数单位的引入（扩张为复数$C$）…… 我们所认知到的数的形式越来越复杂，也越来越完善。这种从简到繁的认识过程，似乎十分符合自然规律。数学家 Kronecker（1823-1891）曾说过：「上帝创造了整数，其余的一切都是人为的。」自然数或者整数的概念，对于我们而言似乎是浑然天成的，几乎曾在地球上出现过的大多数重要文明都独立自主的掌握了关于自然数的概念；有理数略显复杂，但若是把所有有理数都看成两个整数之比$\\frac{p}{q}$，则其也无非是自然数这一概念的延伸罢了。唯独由之更进一步的实数（更本质的说是实数中不是有理数的那一部分，即无理数），却并不那样显然；尽管我们可以举出像$\\sqrt{2}$、$\\pi$、$e$ 之类的数确实不能表示成两个整数之比，但对于是否有更多这样的数，它们又具有怎样的特性，我们并不清楚。 实数系特殊在哪里呢？它恰就特殊在其中出现了一种新的数: 无理数，而这一类数与「上帝创造的」整数之间的关系并不显然。特殊之处主要体现在以下几方面。第一点，实数是不可列的。可数集的概念：首先有限集合必然是可数集。无穷集合如果能与自然数一一对应 (用自然数一一标识)，则为可数集，如果不能则为不可数集。部分与整体可以一一匹配，这正是无穷集的特性之一。例如自然数n可以通过2n这个公式与偶数集建立一一映射(双射)。再比如自然数(正整数$n$)能与整数集建立双射，其中自然数的奇数集通过公式$2n-1\\leftrightarrow -n$ 与负整数建立，偶数集则通过公式$2n \\leftrightarrow n-1$ 与0和正整数集建立双射. 无穷集合可分为可数无穷 (countable infinity)和不可数无穷，自然数集、整数集、有理数集都是可数的无穷集合。有理数是可列的 (可数集)，有理数能与自然数建立双射。按照集合论，有理数集和自然数集是等势的 (基数相等)。将有理数逐个列出的方法如下。有理数可以写成两个整数之比，分别以行和列将正整数排开，形成一个方阵的行标和列标，方阵的每个元素是行标与列标之比，表示一个正有理数，从1,1开始以对角线遍历方式即可遍历全部格点。说明有理数可以和整数能形成一一映射，是「一样多」的。实数是不可列(不可数)的。 可通过康托对角线法反证得出。说明无理数比有理数要「多得多」。考虑区间$[0, 1)$，假设它是可数的，用二进制表示来列出所有的数。此时构造一个数 $x$，它的第$i$位小数与$a_i$的第 $i$ 位小数相反，则 $x$ 不能被数到，矛盾。第二点，实数比有理数更加「稠密」，实数具有「连续性」(没有空隙)。不妨想一想，整数和有理数谁更稠密？答案当然是有理数，因为你可以挑出两个相邻的整数（如$n$ 与$n+1$），在它们之间找不出另一个整数；而在有理数中做不到，任何两个有理数之间都还存在着有理数，如果$a &amp;lt; b$是两个有理数，那么显然在它们之间的 $\\frac{a+b}{2}$ 也是一个有理数。实数与有理数相比，谁更加「稠密」呢？显然实数集也满足所谓「稠密」的定义（毕竟有$Q \\subset R$）；甚至我们把所有的有理数从实数集合中排除掉，只剩下无理数，也是满足这一「稠密」的要求的: 任意两个不同的无理数之间都还可以再找到一个无理数。（无理数集是稠密的）证明： 取两个不相等的无理数$a &amp;lt; b$ , 它们的平均数 $\\dfrac{a+b}{2}$ 显然在两数之间，但不一定是无理数。如果$\\dfrac{a+b}{2}$ 是无理数，命题显然成立。如果是一个有理数，即$\\dfrac{a+b}{2} \\in Q$ , 则$b$可以表示成 $r-a$ 的形式，其中$r$ 是一个有理数。 在a和b之间的线段上取右侧第一个四等分点, $a + \\dfrac{3(b-a)}{4} = \\dfrac{a}{4}+\\dfrac{3b}{4} = \\dfrac{a}{4}+\\dfrac{3}{4}(r-a)=\\dfrac{3}{4}r -\\dfrac{a}{2} $ , 一定是无理数，因为这个数是有理数和无理数的和差形式。故任意两个不同无理数之间总能找到一个无理数，不是取中点，就是取四等分点。$#$ 有理数集和实数集是不是同等稠密呢？显然不是。像我们之前所提到的$\\sqrt{2}$、$\\pi$、$e$ 等无理数，并不被「稠密」的有理数集所囊括 —— 换句话说，有理数这张「渔网」是有洞的，而且处处有洞。 如果把有理数集看成一个直线上的点集，为了补上这个点集中到处存在着的空隙，我们能不能通过添加更多的点来把空隙补满呢？答案是否定的，因为无理数集是不可数的, 不能与自然数集一一对应；我无法将其中的点一个一个列出来，自然也不可能通过向有理数集中一个一个「修修补补」的方法，把这些空隙填上。我们可以看到，有理数集向实数集拓张的过程中，发生了巨大的「转变」，这种转变比下图展示的还要剧烈。实际上，无理数 (无限不循环小数)比有理数要多得多，因为假如随机生成一个小数位序列，小数位出现“不循环”的概率比“循环”要大得多。与实数集比起来，有理数集并没有那样稠密。实数集似乎有着比「每两个点中都有无穷多个点」更深刻、更高级的性质，使得它成为了一个连续 (没有空隙) 的点集，实数集的这种没有空隙的性质该如何描述呢？这个问题曾困扰了人类上千年，直到十九世纪末才得到比较圆满的解答。第三点，有理数集对于极限运算是不封闭的，而实数集则对极限运算封闭。当我们说某个数集对于某种运算封闭的时候，是指对于该数集中的任意一些数，经过该运算后得到的数仍在该数集中。例如，自然数集$N$ 对加法运算是封闭的（$\\forall a, b \\in N, a+b \\in N$），而对于减法不封闭（例如$1 \\in N,2 \\in N, 1-2 = -1 \\notin N$）。 有理数集$Q$对加减乘除四则运算都是封闭的，在数学上把具有这种性质的数系（数系包括数集和其上的运算）称为数域。 显然，实数集$R$也是一个数域。 既然有理数集对四则运算都是封闭的，那么无理数是如何由有理数运算得来呢？是天上掉下来的吗？这里可以举一个高等数学中计算「连续复利」的最基础例子：\\(\\begin{align} \\lim_{n \\rightarrow \\infty}(1+\\frac{1}{n})^n = e \\tag{1} \\\\\\end{align}\\)数列$a_n = (1+\\frac{1}{n})^n$ 中的每一项都是有理数，但它却收敛到一个无理数, 或者说，它并不收敛于任何一个有理数。如果我们把极限看成一种对于有理数列的运算，那么这种运算对于有理数集是不封闭的。相反，实数中的任何一个收敛数列，却都一定收敛到实数集以内，不会出现「超实数」之类的更高级的数（也就是空隙）。这是有理数集与实数集最重要的差异之一；换句话说，实数集是完备的。实数的构造理论事实上，实数集所具有的这些特点，也曾经困扰过许多历史上著名的数学家，对于他们而言，自然数、整数、有理数都是十分自然的事物，而横空出世的无理数则令人困惑不已，如同怪物。古希腊的毕达哥拉斯学派则认为数就是有理数， 直到 $\\sqrt{2}$ 被发现。事实上，无理数是不可回避的概念，如同 $\\sqrt{2}$ 这样的无理数之客观存在，表明这些数有它们存在的意义与价值。把实数集看成一根直线，任意取定一个原点和单位长度，上面便会有有理点和无理点的分别。有理数自然十分重要，然而没有无理数，这条直线就是不完整的。如果我们把直线上所有的无理点都刨去，那么一些我们完全可以利用有理点作出来的点竟然会不在这根直线上，这实在是荒谬不已。可以说，只有实数集才能反映我们眼前的真实世界，仅靠自然数、正负号和它们的比值是有缺漏的。 命题：边长为1的正方形的对角线长度不是有理数。证明： 设边长为1的正方形对角线长度为$c$, 由勾股定理 $c^2 = 1^2 +1^2$ 即 $c^2 = 2$ 。下面用反证法证明。假设 $c$ 是有理数，则 $c$ 可以表示为两整数之比$\\dfrac{p}{q}$ , 其中$p$ 与$q$ 互素。须满足 $(\\dfrac{p}{q})^2 = 2$ 即 $p^2 = 2q^2$ 因为奇数的平方不可能是偶数，所以等式左边 $p$ 必为偶数。令$p = 2s$ , $s$ 也为整数，有$(2s)^2 = 2q^2$ 即 $2s^2 = q^2$ 同理，$q$ 也必为偶数。$p$ 和 $q$ 都为偶数，这与$p$ , $q$ 互素是矛盾的。故假设不成立，$c$ 不是有理数。 $#$数学家们很早就意识到无理数是客观存在的数量中不可或缺甚至更加重要的一部分，却难以对无理数下一个清晰的定义。原因在于，无理数难以直接用已经存在的概念（特别是有理数）来定义。为什么一定要用存在的概念来定义呢？因为无理数同样是数，它也具有和当时人们已经基本上弄清楚的有理数相同的性质，比如可以加减乘除，表示直线上的点，等等。所以也理应将无理数看成「数」这个概念中不可分割的一部分。看作客观存在的东西，当然也要由客观存在的概念导出，而自然数的概念和由此推演而来的有理数的概念正是当时的人们所认为的客观成立的概念。所谓实数，正是指能够反映我们所处世界所有事物的数量情况的「数」的集合，这其中既有我们认为十分直观形象的有理数，也有性质非常模糊的无理数。实数是一个比自然数、有理数更高阶的概念，在完全弄清楚实数系所有性质以前，我们只能利用自然数、有理数的概念来定义实数，而绝不可能反过来（反过来是在此之后可以做的事情）。我们可以说自然数是一个我们已知的概念，我们不需要解释自然数究竟是什么（现今的数学家是以比「数」更加基本的概念 — 集合和元素来定义自然数的，详见Peano公理）。利用有理数构造无理数的方法，直到19世纪末才由一批杰出的数学家提出。这些数学家是怎么利用有理数构造整个实数集的呢？不妨结合前文提到过的实数的三个特殊性质，来仔细想想。 实数集是不可数的。实数的不可数性质能不能用来构造实数系呢？似乎不行，毕竟不可数并不是实数集特有的性质。不过，回想康托对角线法的证明过程，你也许会想起中学里面大家的老师曾经教过的一个概念：有理数是有限小数和无限循环小数，而无理数是无限不循环小数。这样解释的原因很简单，因为所有的分数都可以化为有限小数或者无限循环小数（注意分数都可以化为无限循环小数并不是一件显然的事情），而所有的有限小数和无限循环小数又都可以化为分数形式的有理数（这一点则比较显然）命题：有理数就是有限小数或无限循环小数。证明：先证有限小数或无限循环小数都可化为分数形式的有理数。 设一个无限循环小数的小数部分为： \\(\\begin{align}a = 0.a_1a_2\\cdots a_m\\dot{b_1}\\dot{b_2} \\cdots \\dot{b_n} \\tag{*}\\end{align}\\)其中$a_1a_2…a_m$表示不循环的部分，$\\dot{b_1}\\dot{b_2}…\\dot{b_n}$表示循环的部分。只要小数部分能化为分数，无论整数部分是多少都能化为分数。有限小数可以看成循环部分$n = 0$ 的情况。$a$ 分别乘上$10^m$ 和 $10^{m+n}$ 得到：\\[\\hspace{1em}\\left\\{\\begin{array}{}\\hspace{2em}10^m a = a_1a_2 \\cdots a_m.\\dot{b_1}\\dot{b_2} \\cdots \\dot{b_n} \\hspace{6em}(1) \\\\\\hspace{1em}10^{m+n}a = a_1a_2 \\cdots a_mb_1b_2 \\cdots b_n.\\dot{b_1}\\dot{b_2} \\cdots \\dot{b_n} \\hspace{2em}(2)\\\\\\end{array}\\right.\\]此时发现它们的小数部分是一样的，$(2)-(1)$ 再除以系数得：\\(\\begin{align}a = \\frac{a_1a_2 \\cdots a_mb_1b_2 \\cdots b_n-a_1a_2 \\cdots a_m}{10^m(10^n-1)} \\tag{3}\\end{align}\\)分子分母都是整数，从而我们就已经把无限循环小数化成分数，得证。反过来证明逆命题：所有的分数都可以化为有限小数或者无限循环小数, 只要证明所有分数都能通过通分化为分母是$10^m(10^n-1)$的形式，而由之前证明过程可知，这种形式的分数又必然对应着某个循环小数，要证的命题就等价于：命题：对任意的正整数$k$, 至少存在一组正整数$m，n$, 使得$k$ 能整除$10^m(10^n-1)$ 证明： $1, 10, 10^2,\\cdots,10^k$ 这 $k+1$个数除以$k$ 的余数只可能是$0$到 $k-1$ 这 $k$ 个整数，由抽屉原理可知，这组数中必然存在两个不同的数除以$k$ 余数相同，不妨设这两个数为$10^i和10^j$（$i&amp;lt;j$）, 即至少存在一组正整数$i &amp;lt; j$, 使得$10^i\\equiv 10^j \\pmod k$ 。由同余的定义$10^i\\equiv 10^j \\pmod k$ 即 $10^j-10^i$ 能被 $k$ 整除。令$i = m, j-i = n$ , 则有$10^{m+n}-10^m = 10^m(10^n-1)$能被$k$整除。$#$为什么戴德金分割（有理分割）构造出来的实数是连续的 (没有空隙)？戴德金分割定理：对R的任一分割，B中必有最小的数（规定了左集A无最大值）。说明了实数集没有空隙。 戴德金分割定理的证明见知乎杨树森的回答。" }, { "title": "Apostol微积分Ⅰ基础篇P2 集合论的一些基本概念", "url": "/posts/Apostol-calculus1-basics-p2/", "categories": "数学, 微积分", "tags": "微积分基础, 集合论", "date": "2022-08-02 17:25:44 +0800", "snippet": "集合的记号通常用大写字母来表示集合，例如$A, B, C, …,X,Y,Z$； 用小写字母表示集合中的元素，例如 $a,b,c,…x,y,z$. 我们使用$x \\in S$ 这个特殊的记号来表示“$x$是集合$S$中的一个元素”、“$x$属于$S$” 。如果$x$不属于$S$, 记为$x \\notin S$。我们还可以把元素放在花括号中来表示集合，例如小于10的所有正偶数集可记为$\\lbrace2,4,6,8 \\rbrace$ 所有正偶数集可记为$\\lbrace 2,4,6\\dots\\rbrace$ 其中的“$\\cdots$” 是“等等”(and so on) 的意思。 这种把集合的成员列在花括号中的表示方法也称为枚举法 (roster notation) 。第一个集合相关的基本概念是集合的相等：${\\mathbf{集合相等的定义} }$ 如果集合A和集合B所包含的元素完全相同，那么我们称集合A和集合B相等，记为$A=B$。如果其中一个集合包含了另一个集合中不存在的元素，则称两个集合不相等，记为$A \\ne B $ 。${\\mathbf{例子1}\\ }$. 根据这个定义，集合$\\lbrace 2, 4, 6, 8\\rbrace$ 和集合 $\\lbrace 2,8,6,4\\rbrace$ 是相等的，因为它们都包含了2, 4, 6, 8这4个元素。我们用枚举法来描述集合，集合与其中元素的顺序是无关的。${\\mathbf{例子2}\\ }$ 集合 $\\lbrace 2, 4, 6, 8\\rbrace$ 和集合 $\\lbrace 2,2,4,4,6,8\\rbrace$ 是相等的，尽管在第二个集合中元素2和4被列举了两次。两个集合都没有包含除了2, 4, 6, 8之外的元素，根据定义这两个集合也是相等的。这个例子说明我们没有强制要求枚举法表示的集合中元素必须是互异的。另一个类似的例子是单词Mississippi中字母的集合，与集合$\\lbrace M,i,s,p \\rbrace$ 相等，都包含了M, i, s, p这4个不同的字母。子集${\\mathbf{子集的定义}\\ }$ 如果集合A中的任意一个元素都属于B, 那么集合A称为集合B的子集，记为$A \\subseteq B$， 也称“A包含于B”或“B包含A”。二元关系符$\\subseteq$被称为“集包含” (set inclusion)$A \\subseteq B$ 这个命题并没有排除 $B \\subseteq A$ 的可能性，仅当A和B中的元素完全相同时， $A \\subseteq B$ 和 $B \\subseteq A$ 同时成立，即： $\\hspace{10em}$ $A = B$ 当且仅当 $A \\subseteq B$ 且 $B \\subseteq A$ 如果$A \\subseteq B$ 但 $A \\ne B$ ，则我们称$A$ 是 $B$ 的真子集。记为$A \\subset B$ 。 当我们应用集合论时，总是事先给定一个固定的集合S，而我们只关心这个给定集合的子集。集合S可以根据不同的实际应用来确定，在每一段特定的论述中作为全集。 记号 $\\lbrace \\ x \\ | \\ x \\in S \\ 且 \\ x 满足P \\ \\rbrace$ 表示集合S中所有满足性质P的元素$x$ 。当全集$S$ 在上下文中已经明确时，我们可以简写为$\\lbrace\\ x\\ |\\ x 满足 P \\ \\rbrace$ ，读作“所有满足性质P的 $x$ 的集合”。例如，所有正实数的集合可以记为$\\lbrace\\ x \\ |\\ x &amp;gt; 0\\ \\rbrace$ ，这种情形下默认全集S是全体实数。类似地，所有正偶数的集合可以记为$\\lbrace\\ x \\ |\\ x 是一个正偶数\\ \\rbrace$。 当然，这里 $x$ 可以替换为其他方便的记号，比如记为 $\\lbrace\\ x \\ |\\ x &amp;gt; 0\\ \\rbrace =\\lbrace\\ y \\ |\\ y &amp;gt; 0\\ \\rbrace=\\lbrace\\ t \\ |\\ t &amp;gt; 0\\ \\rbrace$。一个集合中可能一个元素也没有，这样的集合称为空集，记为 $ \\emptyset $ 。空集是任何集合的子集。 一些人把集合类比为包含着特定对象的容器 (比如背包或盒子)。 空集可以类比为一个空的容器。为了避免逻辑困难，我们必须区分元素 $x$ 和集合 $\\lbrace\\ x\\ \\rbrace$ 。(装着一顶帽子的盒子和这顶帽子本身在概念上是完全不同的）事实上，空集 $\\emptyset$ 不含有任何元素，集合 $\\lbrace\\ \\emptyset \\ \\rbrace$ 包含了 $\\emptyset$ 这一个元素，(包含了一个空盒子的盒子并不是空的) 由唯一一个元素构成的集合称为单元素集合 (one-element sets)。图解有助于将集合之间的关系可视化。例如，可以把集合S看作平面内的一块区域，集合S中的每一个元素即是一个点。那么S的子集就是区域内某些点的集合。这种图解叫做文氏图 (Venn diagrams) ，在集合论中常用于检验定理的有效性或者为定理的证明方法提供一些启发。当然，证明本身必须完全基于概念的定义而不是图解。并集、交集、补集给定集合$A$ 和 $B$ ，我们可以构造一个新的集合，称为$A$ 和 $B$ 的并集。这个新的集合记为 $A \\cup B$ （读作：$A$ 并 $B$ ）并集就是把两个集合所有元素合并在一起组成的集合，定义为所有属于A或属于B的元素组成的集合， 即 $A \\cup B = \\lbrace x \\ |\\ x \\in A \\ 或\\ x \\in B \\rbrace$ 也就是说$A \\cup B$ 是至少属于A, B其中一个集合的元素的集合。 如图1.6(a)的阴影部分表示$A \\cup B$类似地，$A$ 和 $B$ 的交集记为 $A \\cap B$ （读作：$A$ 交 $B$ ） 定义为所有属于$A$ 且属于$B$ 的元素组成的集合，即 $A \\cap B = \\lbrace\\ x \\ |\\ x \\in A \\ 且\\ x \\in B \\ \\rbrace$ 。 如图1.6(b) 的阴影部分所示。图$1.6(c)$中两个集合$A$ 和 $B$ 没有共同的元素，此时它们的交集是空集 $\\emptyset$ 。 如果$A \\cap B = \\emptyset$，则称集合$A$ 和 $B$ 是互斥 (disjoint) 的。集合 $A$ 和 $B$ 的差集$A-B$ （也称为$B$ 在$A$中的相对补集）定义为属于 $A$ 但不属于 $B$ 的所有元素的集合，即 $A - B = \\lbrace x\\ |\\ x \\in A \\ 且 \\ x \\notin B \\rbrace$。图$1.6(b)$ 中区域$A$的非阴影部分表示$A-B$ ，区域B的非阴影部分表示$B-A$。集合的交和并运算与普通的实数加法和乘法有许多形式上的相似之处，例如根据定义，集合的交和并是顺序无关的，因此集合的交和并运算满足交换律 (commutative)，即 $A \\cup B = B \\cup A$ 以及 $A \\cap B = B \\cap A$。 根据定义交和并运算也满足结合律 (associative), 即 $(A \\cup B) \\cup C = A \\cup (B \\cup C)$ 以及 $(A \\cap B) \\cap C = A \\cap (B \\cap C)$ 集合的交和并运算也满足分配律： 1）$A \\cap(B \\cup C)=(A \\cap B) \\cup (A \\cap C)$ 2）$A \\cup (B \\cap C) = (A \\cup B ) \\cap (A \\cup C)$ 1）证明：先证$A \\cap(B \\cup C) \\subseteq (A \\cap B) \\cup (A \\cap C)$.对任意$x \\in A \\cap(B \\cup C)$, 有 $x \\in A$ 且 $x \\in B \\cup C$, 即： $x \\in A$ 且 ( $x \\in B$ 或$x \\in C$ ) 若$x \\in B$, 则 $x \\in A$ 且 $x \\in B$ 即$x \\in A \\cap B$ 若$x \\in C$, 则 $x \\in A$ 且 $x \\in C$ 即 $x \\in A \\cap C$ $\\therefore$ 有 $x \\in A \\cap B $ 或 $x \\in A \\cap C$ 即 $x \\in (A \\cap B) \\cup (A \\cap C)$ 由子集的定义，$A \\cap(B \\cup C) \\subseteq (A \\cap B) \\cup (A \\cap C)$ 得证.再证$(A \\cap B) \\cup (A \\cap C) \\subseteq A \\cap(B \\cup C)$. 对任意$x \\in (A \\cap B) \\cup (A \\cap C)$, 有$x \\in (A\\cap B)$或$x\\in (A\\cap C)$ , 即: $x \\in A$ 且 ( $x \\in B$ 或 $x \\in C$ ) 即 $x \\in A$ 且 $x \\in B \\cup C$ $\\therefore$ $x \\in A \\cap (B \\cup C)$. 由子集的定义，$A \\cap(B \\cup C) \\subseteq (A \\cap B) \\cup (A \\cap C)$ 也得证. $\\therefore$ 由集合相等的定义，分配律 1) 得证.2）证明: 先证 $A \\cup (B \\cap C) \\subseteq (A \\cup B ) \\cap (A \\cup C)$. 对任意$x \\in A\\cup (B \\cap C)$, 有$x \\in A$ 或 $x \\in B\\cap C$, 即：$x \\in A$ 或 ( $x \\in B$ 且 $x \\in C$ ) 若$x \\in A$, 则有 $x \\in A\\cup B$ 且 $x \\in A\\cup C$ 若$x \\in B$ 且$x\\in C$, 也有 $x \\in A\\cup B$ 且 $x \\in A\\cup C$ $\\therefore$ 有 $x \\in (A\\cup B)\\cap (A\\cup C)$. 由子集的定义，$A \\cup (B \\cap C) \\subseteq (A \\cup B ) \\cap (A \\cup C)$ 得证.再证$(A \\cup B ) \\cap (A \\cup C) \\subseteq A \\cup (B \\cap C)$ . 对任意$x \\in (A \\cup B ) \\cap (A \\cup C)$，有 ( $x \\in A$ 或 $x \\in B$ ) 且 ( $x \\in A$ 或 $x \\in C$ ) 成立, 若$x \\in A$, 命题显然成立. 若$x \\notin A$, 要使合取式的支命题同时为真， 须满足$x\\in B$ 且 $x \\in C$, 即$x \\in B\\cap C$. $\\therefore$ 有 $x \\in A$ 或 $x \\in B\\cap C$ 即 $x \\in A \\cup (B \\cap C)$. 由子集的定义，$(A \\cup B ) \\cap (A \\cup C) \\subseteq A \\cup (B \\cap C)$ 也得证. $\\therefore$ 由集合相等的定义，分配律 2) 得证.集合的集合集合的交和并运算可以推广到有限或无限集族 (Family of sets, 也叫collections of sets) 。 前面交集和并集定义在两个集合A和B之间，集族的交和并则定义在任意个集合之间。 为了简化语言，本书把集族称为类 (class)。设$\\mathscr{F}$ 是一个包含集合的非空类。类是一个比集合更广泛的概念。首先解释一下为什么要引入类。 曾经人们习惯于把满足某种条件的对象的全体定义为集合，直到罗素发现了朴素集合论中的悖论，提出一个由不包含自身的集合所构成的集合$S = \\lbrace X| X \\notin X \\rbrace$ 从中推导出$ S \\in S$当且仅当$S \\notin S$ 的逻辑谬误。为了避免悖论，后来发展的集合论公理系统通过增加分离公理和正则公理，从中可推出罗素集$S$不存在。 另一种解决方案是引入 “类”这个元语言符号来表示满足某条件的对象的全体，有些类是集合有些则不是，像罗素集这种不是集合的类称为真类。可以认为类C和描述性质P的公式是同一个东西，x满足P可记为x属于C。S是一个真类， 用公式表示就是$不存在集合S, 使得\\ \\forall y, y \\in S \\iff P(y)$ ，即满足性质P的所有全体无法用集合来描述。集族 $\\mathscr{F}$ 中所有集合的并集被定义为至少属于其中一个集合的元素的集合，记为\\[\\hspace{2em}\\bigcup_{A \\in \\mathscr{F}}{A}\\]如果 $\\mathscr{F}$ 是一个有限集族，设 $\\mathscr{F} = \\lbrace A_1,\\ A_2,\\ \\cdots A_n \\rbrace$ , 则有${A}$\\[\\bigcup_{A \\in \\mathscr{F}} A = \\bigcup_{k\\ =\\ 1}^{n}A_k = A_1 \\cup A_2 \\cup \\cdots \\cup A_n\\]类似地，集族 $\\mathscr{F}$ 中所有集合的交集被定义为属于其中每一个集合的元素的集合，记为\\[\\bigcap_{A \\in \\mathscr{F}} A\\]同上，对于有限集族 $\\mathscr{F}= \\lbrace A_1, A_2, \\cdots A_n \\rbrace $ 有\\[\\bigcap_{A \\in \\mathscr{F}} A = \\bigcap_{k\\ = 1}^{n} A_k = A_1 \\cap A_2 \\cap \\cdots \\cap \\ A_n\\]根据以上定义，任意个集合之间的交和并运算自动满足结合律。" }, { "title": "Apostol微积分Ⅰ基础篇P1 积分学的历史背景", "url": "/posts/Apostol-calculus1-basics-p1/", "categories": "数学, 微积分", "tags": "微积分基础, 积分学", "date": "2022-07-29 17:32:56 +0800", "snippet": "积分学的历史背景阿基米德 (公元前287-212年) 的穷竭法演变成了今天的积分学。阿基米德曾用穷竭法求出圆的面积。如图是穷竭法的举例，用内接多边形近似半圆的面积。 用穷竭法求抛物线下的面积如图I.3所示，由抛物线$y = x^2$ 和两条直线$y=0, x= b$ 围成的图形称为一个抛物线段 (parabolic segment) , 其面积设为A, 被一个底边长为b高为$b^2$ 矩形所包围。阿基米德发现抛物线下的面积正好是矩形的$1/3$ , 即$A = b^3 /3$ 。我们来看看这个结果是如何推导出来的。穷竭法的思想很简单，如图I.4所示，通过对底边进行划分，可以得到一系列的长条矩形，用矩形 面积之和来近似抛物线段的面积。内接矩形之和是面积A的一个下限，外接矩形之和是面积A的一个 上限。 随着划分越来越细，内接矩形的数量会越来越多，总面积会逐渐增大，外接矩形的数量也会 越来越多，总面积逐渐减小，总面积都会越来越接近抛物线段面积A。如图I.5所示, 简单起见我们把底边n等分，每个长条矩形底边长为$b/n$ , 则等分点的横坐标x分别为：\\[\\begin{align}0, \\frac{b}{n}, \\frac{2b}{n},\\frac{3b}{n},\\cdots,\\frac{(n-1)b}{n},\\frac{nb}{n} = b\\end{align}\\]一般地，$x = \\dfrac{kb}{n}, \\ k= 0,1,2,\\cdots n$ . 则第 $k$ 个矩形的面积为$\\left( \\dfrac{b}{n} \\right)\\left( \\dfrac{kb}{n} \\right)^2=\\dfrac{b^3}{n^3}k^2 $​ 记外接矩形面积之和为$S_n$ ，其高度对应的横坐标 $x = \\dfrac{kb}{n}, \\ k= 1,2,\\cdots n$ . 代入矩形面积表达式得​ \\(\\hspace{-10em}\\begin{align}S_n = \\frac{b^3}{n^3}(1^2 + 2^2 + \\cdots + n^2) \\tag{1}\\end{align}\\)记内接矩形面积之和为$s_n$, 其高度对应的横坐标 $x = \\dfrac{kb}{n}, \\ k= 0,1,2,\\cdots n-1$ . 代入矩形面积表达式得\\(\\hspace{-10em}\\begin{align}s_n = \\frac{b^3}{n^3}[1^2 + 2^2 + \\cdots + (n-1)^2] \\tag{2}\\end{align}\\)下面来推导前n个自然数的平方和$1^2 + 2^2 + \\cdots +n^2$ 的计算公式： \\(\\hspace{-10em}\\begin{align}1^2+2^2+\\cdots+n^2 = \\frac{n^3}{3} + \\frac{n^2}{2} + \\frac{n}{6} \\tag{3}\\end{align}\\)这个公式对所有$n \\ge1$ 均成立。证明过程如下。把等式$(k+1)^3 = k^3+3k^2+3k+1$ 重写为 $3k^2+3k+1 = (k+1)^3-k^3$代入$k=1,2,\\cdots n-1$, 得到$n-1$个等式​ \\(\\begin{align}3 \\cdot 1^2 + 3 \\cdot 1 + 1 = 2^3 - 1^3 \\\\3 \\cdot 2^2 +3 \\cdot2 + 1 = 3^3 - 2^3 \\\\\\vdots \\hspace{7em}\\\\3(n-1)^2 + 3(n-1) + 1 = n^3 - (n-1)^3 \\hspace{-4em} \\\\\\end{align}\\)等号两边分别相加，等号右边消去剩下两项\\[\\begin{align}3[1^2 +2^2 + \\cdots +(n-1)^2] + 3[1+2+\\cdots+(n-1)] + (n-1) = n^3 - 1^3 \\\\3[1^2 +2^2 + \\cdots +(n-1)^2] + 3\\frac{n(n-1)}{2} + (n-1) = n^3 - 1^3 \\\\3[1^2 +2^2 + \\cdots +(n-1)^2] = n^3 - 1^3 - 3\\frac{n(n-1)}{2} - (n-1) \\\\1^2 +2^2 + \\cdots +(n-1)^2 = \\frac{n^3}{3} - \\frac{1^3}{3} - \\frac{n(n-1)}{2} - \\frac{(n-1)}{3} \\\\1^2 +2^2 + \\cdots +(n-1)^2 = \\frac{n^3}{3} - \\frac{n^2}{2} + \\frac{n}{6} \\tag{4} \\\\\\end{align}\\]公式$(4)$ 两边加$n^2$ 就得到前n个自然数的平方和公式$(3)$从公式$(3)$ 和 $(4)$ 可得到不等式 \\(\\begin{align}1^2 +2^2 + \\cdots +(n-1)^2 &amp;lt; \\frac{n^3}{3} &amp;lt; 1^2+2^2+\\cdots+n^2 \\tag{5}\\end{align}\\)对所有正整数$n \\ge 1$ 都成立。两边乘$b^3/n^3$ 由$S_n$ 和$s_n$ 的公式$(1)$ 和 $(2)$ 可得不等式： \\(\\begin{align}s_n &amp;lt; \\frac{b^3}{3} &amp;lt; S_n \\tag{6}\\end{align}\\)对所有正整数$n \\ge 1$ 都成立。 不等式$(6)$ 告诉我们 $b^3/3$ 是抛物线段面积A的下限$s_n$ 和上限$S_n$ 之间的一个数。 下面来证明$b^3/3$是满足这个不等式的唯一数字。也就是说，假设数字 $A$ 满足不等式 \\(\\begin{align}s_n &amp;lt; A &amp;lt; S_n \\tag{7}\\end{align}\\)那么 $A=b^3/3$ 。阿基米德就是据此得到抛物线段面积等于$b^3/3$ 这个结论。在不等式$(5)$ 的左边部分两边加 $n^2$ 得： \\(\\begin{align}1^2 +2^2 + \\cdots +(n-1)^2 + n^2 &amp;lt; \\frac{n^3}{3} + n^2\\end{align}\\)两边同乘$b^3/n^3$, 由$S_n$ 的公式$(1)$ 得： \\(\\begin{align}S_n &amp;lt; \\frac{b^3}{3} + \\frac{b^3}{n} \\tag{8}\\end{align}\\)类似地，在不等式$(5)$ 的右边部分两边减 $n^2$ ，再同乘 $b^3/n^3$ , 由 $s_n$ 的公式 $(2)$ 得：\\[\\begin{align}s_n &amp;gt; \\frac{b^3}{3} - \\frac{b^3}{n} \\tag{9}\\end{align}\\]因此，任何满足不等式 $(7)$ 的数字A也必须满足 $(8)$ 和 $(9)$ , 即 \\(\\begin{align}\\frac{b^3}{3} - \\frac{b^3}{n} &amp;lt; A &amp;lt; \\frac{b^3}{3} + \\frac{b^3}{n} \\tag{10}\\end{align}\\)对所有正整数$n \\ge 1$ 都成立。$A$ 的取值有以下三种可能性：\\[\\begin{align}A &amp;gt; \\dfrac{b^3}{3}, \\ A &amp;lt; \\dfrac{b^3}{3},\\ A = \\dfrac{b^3}{3} \\end{align}\\]下面用反证法排除前两种可能性。 假设 $A &amp;gt; b^3/3$ 成立，由不等式$(10)$ 的右边部分，有\\[\\begin{align}A - \\frac{b^3}{3} &amp;lt; \\frac{b^3}{n} \\tag{11}\\end{align}\\]对所有正整数$n \\ge 1$ 都成立。此时 $A - b^3/3$ 是正的， 不等式$(11)$ 两边同除以 $A - b^3/3$ 再同乘$n$得到：\\[\\begin{align}n &amp;lt; \\frac{b^3}{A - b^3/3} \\end{align}\\]对所有正整数$n \\ge 1$ 都成立这个等价的不等式。当$n &amp;gt; b^3/(A-b^3/3)$ 时这个不等式显然是错误的， 与“所有正整数 $n \\ge 1$ ”的成立条件矛盾，因此假设 $A &amp;gt; b^3/3$ 是不成立的，排除A的第一种可能性。同理，假设 $A &amp;lt; b^3/3$ 成立, 由不等式$(10)$ 的左边部分，有\\[\\begin{align}\\frac{b^3}{3} - A &amp;lt; \\frac{b^3}{n} \\tag{12}\\end{align}\\]两边同除以 $b^3/3-A$ 再同乘$n$得到：\\[\\begin{align}n &amp;lt; \\frac{b^3}{b^3/3-A} \\end{align}\\]对所有正整数$n \\ge 1$ 都成立这个等价的不等式。当$n &amp;gt; b^3/(b^3/3-A)$ 时这个不等式显然是错误的， 与“所有正整数 $n \\ge 1$ ”的成立条件矛盾，因此假设 $A &amp;lt; b^3/3$ 是不成立的，排除A的第二种可能性。 所以 $A = b^3/3$ 原命题得证。" }, { "title": "线性代数第1章：线性方程组", "url": "/posts/LA1%E7%BA%BF%E6%80%A7%E6%96%B9%E7%A8%8B%E7%BB%84/", "categories": "数学, 线性代数", "tags": "线性代数, 线性方程组，高斯消元", "date": "2022-06-08 23:04:53 +0800", "snippet": "线性方程组的几何意义线性方程组就是多元一次方程组，一般形式的线性方程组如下：\\[\\hspace{-1em}\\left\\{\\begin{array}{}a_{11}x_1\\hspace{-.5em} &amp;amp; +\\hspace{.5em}a_{12}x_2 &amp;amp; +\\hspace{.5em}\\cdots\\hspace{-.5em} &amp;amp; +\\hspace{.5em}a_{1n}x_n &amp;amp; =\\hspace{.5em}b_1 \\\\a_{21}x_1\\hspace{-.5em} &amp;amp; +\\hspace{.5em}a_{22}x_2 &amp;amp; +\\hspace{.5em}\\cdots\\hspace{-.5em} &amp;amp; +\\hspace{.5em}a_{2n}x_n &amp;amp; =\\hspace{.5em}b_2 \\\\\\vdots\\hspace{-1em}&amp;amp; \\hspace{1.8em}\\vdots &amp;amp; \\quad &amp;amp; \\hspace{1.8em}\\vdots\\hspace{-.5em} &amp;amp; \\hspace{1.5em}\\vdots\\\\a_{m1}x_1\\hspace{-.5em} &amp;amp; +\\hspace{.5em}a_{m2}x_2 &amp;amp; +\\hspace{.5em}\\cdots\\hspace{-.5em} &amp;amp; +\\hspace{.5em}a_{mn}x_n &amp;amp; =\\hspace{.5em}b_m \\end{array}\\right.\\]这个方程组是由m个n元一次方程组成的。 从解析几何的角度，一个二元一次方程可表示为一条直线，三元一次方程表示一个平面，n元一次方程 ($n &amp;gt; 3$) 表示$n$维空间中的一个$n-1$ 维超平面。每个方程的解都在其对应的直线、平面或超平面上，那么同时满足几个方程的解就在直线的交点、平面或超平面的交线上。 为了引入向量和矩阵这个更有效率的工具解决线性方程组问题，需要引入向量方程和矩阵方程两种表述方式。向量方程从向量的角度研究线性方程组，如果把未知数系数和常数项看成列向量：\\[\\hspace{-1em}a_1 = \\left( \\begin{array}{} a_{11} \\\\ a_{21} \\\\ \\vdots \\\\ a_{n1} \\end{array}\\right),\\,a_2 = \\left( \\begin{array}{} a_{12} \\\\ a_{22} \\\\ \\vdots \\\\ a_{n2} \\end{array}\\right),\\,\\cdots\\,a_n = \\left( \\begin{array}{} a_{1n} \\\\ a_{2n} \\\\ \\vdots \\\\ a_{nn} \\end{array}\\right),\\,b = \\left( \\begin{array}{} b_{1} \\\\ b_{2} \\\\ \\vdots \\\\ b_{n} \\end{array}\\right)\\]原线性方程组改写为向量方程组： $ x_1a_1 + x_2a_2 + \\cdots x_na_n = b$ 从向量组的线性相关性来看，求解向量方程的意义就是求出向量 $b$ 被向量组 ${a_1,a_2,\\cdots a_n}$ 线性表示的系数，向量方程是否有解等价于向量 $b$ 能否被 ${a_1,a_2,\\cdots a_n}$ 所线性表示。方程组有唯一解等价于线性表示系数是唯一的，方程组有无穷多解等价于线性表示系数不是唯一的。用线性表示的几何意义来解释就是，如果向量 $b$ 在系数矩阵的列空间里，那么方程组有解。矩阵方程 进一步从矩阵和线性变换的角度研究方程组，对于向量方程\\(x_1a_1 + x_2a_2 + \\cdots x_na_n = (a_1,a_2,\\cdots a_n){\\left( \\begin{array}{} x_{1} \\\\ x_{2} \\\\ \\vdots \\\\ x_{n} \\end{array}\\right)}= b\\quad\\)分别定义矩阵\\(A = (a_1,a_2,\\cdots a_n) , \\mathrm{定义向量}x = \\begin{pmatrix}x_1\\\\x_2\\\\\\vdots\\\\x_n \\end{pmatrix}\\) , 那么线性方程组可以改写为矩阵方程 $Ax = b$高斯消元用消元法解线性方程组，过程相当于把方程组的系数矩阵A化为上三角矩阵U, 即把对角线下方的系数通过初等行变换 (行向量倍乘和相减) 化为0，相当于消去方程中的未知数。消元的目的是从最后一行开始”回代“，从下往上依次解 出未知数$x_n,x_{n-1},\\cdots x_1$。举个例子：\\[\\hspace{-5em}\\left\\{\\begin{array}{}x + 2y + z = 2 \\\\3x + 8y + z = 12 \\\\\\hspace{1.8em}4y + z = 2 \\\\\\end{array}\\right.\\]\\[{\\normalsize\\hspace{-5em}\\left[ \\begin{array}{c:c}\\begin{matrix}1 &amp;amp; 2 &amp;amp; 1 \\\\3 &amp;amp; 8 &amp;amp; 1 \\\\0 &amp;amp; 4 &amp;amp; 1\\end{matrix} &amp;amp;\\begin{matrix}2 \\\\ 12 \\\\ 2\\end{matrix}\\end{array} \\right]\\xrightarrow[消去a_{21}]{r_2 - 3r_1}\\left[ \\begin{array}{c:c}\\begin{matrix}1 &amp;amp; 2 &amp;amp; 1 \\\\0 &amp;amp; 2 &amp;amp; -2 \\\\0 &amp;amp; 4 &amp;amp; 1 \\end{matrix} &amp;amp;\\begin{matrix}2 \\\\ 6 \\\\ 2\\end{matrix}\\end{array} \\right]\\xrightarrow[a_{31}已是0 \\atop 消去a_{32}]{r_3-2r_2}\\left[ \\begin{array}{c:c}\\begin{matrix}1 &amp;amp; 2 &amp;amp; 1 \\\\0 &amp;amp; 2 &amp;amp; -2 \\\\0 &amp;amp; 0 &amp;amp; 5 \\end{matrix} &amp;amp;\\begin{matrix}2 \\\\ 6 \\\\ -10\\end{matrix}\\end{array} \\right]}\\]" }, { "title": "TCP三次握手和四次挥手的本质", "url": "/posts/TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%E7%9A%84%E6%9C%AC%E8%B4%A8/", "categories": "计算机科学基础, 计算机网络", "tags": "notes, TCP/IP, TCP, 网络协议，三次握手", "date": "2018-11-28 21:12:23 +0800", "snippet": "三次握手connect(&amp;lt;描述符&amp;gt;，&amp;lt;服务器IP地址和端口号&amp;gt;，...) 三次握手的本质是确认通信双方收发数据的能力。 第一次握手，服务器确认了：客户端的发送能力和服务器的接收能力； 第二次握手，客户端确认了通信双方的收发能力，此时客户端套接字中连接状态改为ESTABLISHED； 第三次握手，服务器也确认了自己的发送能力和客户端的接收能力， 通信双方的收发能力都得到确认； 此时服务器套接字中连接状态改为ESTABLISHED。​四次挥手断开TCP连接TIME_WAIT状态也称为2MSL等待状态。 每个具体TCP实现必须选择一个报文段最大生存时间MSL（Maximum Segment Lifetime)， 它是任何报文段被丢弃前停留在网络内的最长时间。 因为TCP报文段以IP数据包在网络内传输，而IP数据包则有限制其生存时间的TTL字段。常见问题什么是SYN攻击？服务器端必须收到第三次握手时客户端的ACK报文才能建立连接，所以服务器容易受到SYN洪泛攻击。 SYN攻击就是Client在短时间内伪造大量不存在的IP地址，并向Server不断地发送SYN包， Server则回复SYN+ACK包，并等待Client第三次握手确认，由于源地址不存在，Server会不断重传直至超时， 这些伪造的SYN包将长时间占用未连接队列，导致正常的SYN请求因为队列满而被丢弃，从而引起网络拥塞甚至系统瘫痪。 SYN攻击是一种典型的DoS/DDoS攻击。 当你在服务器上看到大量的半连接状态的套接字时，特别是源IP地址是随机的， 基本上可以断定这是一次SYN攻击。在Linux/Unix上可以使用系统自带的netstats命令来检测SYN攻击：netstat -n -p TCP | grep SYN_RECV 如果已经建立了连接，但是客户端突然出现故障了(不发数据了）怎么办？TCP设有一个保活计时器(keepalive timer)，客户端如果出现故障， 服务器不能一直等下去，白白浪费资源。 服务器每收到一次客户端的数据后都会重新复位这个计时器，时间通常是设置为2小时， 若两小时还没有收到客户端的任何数据，服务器就会发送一个探测报文段，以后每隔75秒钟发送一次。 若一连发送10个探测报文仍然没反应，服务器就认为客户端出了故障，接着就关闭连接。为什么客户端发出第四次挥手的确认报文后要等2MSL的时间才能释放连接？这里同样是要考虑丢包的问题，如果第四次挥手的报文丢失， 服务端没收到确认ack报文就会重发FIN报文，这样报文一去一回最长时间就是2MSL， 所以需要等这么长时间来确认服务端确实已经收到了。一些流程图TCP头部格式​TCP序号和ACK号的交互​TCP整体流程​应用程序委托协议栈收发数据的过程​参考资料$[1]$ 户根勤. 网络是怎样连接的 人民邮电出版社. [2017-1-1] $[2]$ James F. Kurose; Keith W. Ross Computer Networking: A Top-Down Approach Pearson. [2012-3-5]" }, { "title": "Crash Course Computer Science学习笔记：CPU篇", "url": "/posts/Crash-Course-Computer-Science-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-CPU%E7%AF%87/", "categories": "计算机科学基础, 计算机组成与体系结构", "tags": "notes, cs, cpu, 学习笔记，视频课程", "date": "2018-11-01 12:09:58 +0800", "snippet": "7 CPU (中央处理器）程序是一条条指令组成的；内存中既可以存放数据，也可以存放指令。​指令表：前4位是操作码，后4位是内存地址或寄存器，表示数据来自哪里。​解码阶段(Decode Phase)：指令由控制单元内的逻辑电路进行解码执行：把检查指令的电路输出连到RAM的RE线，把指令后4位发送到地址线，读出数据到寄存器A ​加载数据到A后指令完成，关闭所有线路，准备取下一条指令；IAR+1, 执行阶段就此结束。 由于解码电路太繁琐，进一步抽象控制单元： ​ADD B, A指令: B + A → TR → A 相加的结果不能直接写入寄存器A, 因为A连着ALU的输入，会导致新的sum不断进入ALU相加形成死循环； 需要一个临时寄存器TR保存相加的结果，关闭ALU, 然后把TR的值写入目标寄存器A​STORE A 1101 指令：把地址1101传给RAM, 打开WE线，同时打开寄存器A的RE线​CPU需要一个时钟来自动切换“取指-解码-执行”的各个阶段， 使CPU按照指令周期的时序方式来工作(tick along) 时钟以精准的间隔触发电信号，控制单元利用时钟信号来推进CPU的内部操作，使一切保持同步进行 时钟的比喻：罗马帆船的船头负责按节奏击鼓的人，像节拍器一样使所有划船的人动作同步 Clock Speed 时钟速度又叫时钟频率: CPU“取指-解码-执行”的速度，单位是Hz，1Hz即1秒1次 (1个指令周期） 1971年第一个单芯片CPU英特尔4004 每秒740k赫兹，即每秒74万次 (74万个指令周期） 现代的计算机时钟频率能达到几G赫兹 (giga Hz = 几千兆Hz = 几十亿Hz) 即每秒10亿个以上的时钟周期 超频 overclocking：意思就是修改时钟频率，加快CPU速度 (比喻: 罗马船头加快击鼓) 芯片制造商经常给CPU留一点余地，可以接受一点超频，但超频太多会让CPU过热或产生乱码，因为信号跟不上时钟 降频 underclocking 有时没必要让CPU全速运行，可能用户走开了或者在跑一个性能要求较低的程序，降频可以省电 省电对使用电池的设备很重要，比如笔记本电脑和手机，很多现代处理器可以按需加快或减慢时钟速度，称为 动态频率调整Dynamic Frequency Scaling​8 指令和程序 (Instructions &amp;amp; Programs)CPU之所以强大，因为它是可编程的，如果写入不同序列的指令就会执行不同的任务。 CPU is a piece of hardware controlled by easy-to-mofidy software. 添加JUMP和条件JUMP实现循环 SUB B A := A - B → A​这实际上是一个计算余数(11 mod 5)的除法程序, 如果多加几行指令，还可以跟踪循环了多少次，得到商 = 2 这段代码对任意两个数都成立，这就是软件的强大之处，让我们做到了硬件做不到的事。例子中的ALU并没有 除法功能，是程序给了这个功能，其他的程序也可以调用这段除法程序来做其他事情，这又是一层新的抽象。9 高级CPU设计 (Advanced CPU Designs)现代处理器有专门的电路来处理图形操作、解码压缩视频、加密文件等，如果用标准操作来实现要很多时钟周期 SIMD全称Single Instruction Multiple Data，单指令多数据流。以加法指令为例，单指令单数据（SISD）CPU对加法指令译码后，执行部件先访问内存取得第一个操作数；之后再一次访问内存取得第二个操作数；随后才能进行求和运算。而在SIMD型的CPU中，指令译码后几个执行部件同时访问内存，一次性获得所有操作数进行运算。这个特点使SIMD特别适合于多媒体应用等数据密集型运算。 MMX: MultiMedia eXtensions（多媒体扩展）的缩写，1996年Intel公司推出。MMX技术是在CPU中加入了特地为视频信号(Video Signal)、音频信号(Audio Signal)以及图像处理(Graphical Manipulation)而设计的57条指令。 3DNow! 指令集: 1998年AMD开发的一种3D加速指令集,支持单精度浮点数的矢量运算，包含21条指令，用于增强x86架构计算机在三维图像处理上的性能。 SSE（Streaming SIMD Extensions）是英特尔在AMD的3D Now!发布一年之后在Pentium III中引入的指令集，是继MMX的扩展指令集。SSE指令集提供了70条新指令。AMD后来在Athlon XP中加入了对这个新指令集的支持。 第一个集成CPU英特尔4004只有46条指令，而现代处理器有上千条指令，使用各种巧妙复杂的电路。 超高的时钟速度带来一个问题：如何快速传递数据给CPU? 就像有强大的蒸汽机，但无法快速加煤。RAM成了瓶颈，RAM是CPU之外的独立部件，数据要通过总线(Bus)来传输，尽管总线可能只有几厘米，电信号接近光速，但CPU每秒要处理上亿条指令(GHz), 很小的延迟也会造成问题，RAM还需要时间查地址，取数，配置输出，所以一条从内存读数据的load指令可能要花多个时钟周期，此时CPU空转等待数据，解决方法之一是给CPU加一点SRAM，即缓存(Cache)通常只有KB和MB。​缓存(Cache)程序的局部性：实际应用中数据通常在空间上连续存放，程序按顺序处理。 把数据块复制到Cache中，离CPU很近，取下一条数据时发现已在Cache中， 不用反复访问RAM, 一个时钟周期就能给数据，CPU不用空等。 如果请求的数据已在缓存中，称为缓存命中(Cache Hit) 不在缓存称为Cache Miss 缓存也可以当作临时空间 (Scratch Space) 为较长较复杂的运算存一些中间值。 例如CPU算完了一天的销售额，可以先把结果存在Cache, 不但存起来快一些，如果要取值也快一些。 这带来一个新的问题：缓存的copy和RAM的数据不一致了。这种不一致mismatch必须记录下来，之后要同步。 因此Cache中的每块空间都有一个特殊标记(flag) , 叫做脏位(Dirty Bit)。 同步经常发生在缓存已满而CPU又请求一块新内存的时候。在清除旧缓存腾出空间之前，会先检查脏位： ​流水线设计(Pipeline)酒店洗床单的例子：1台洗衣机和1台干燥机， 利用“并行处理”提高效率（parallelize your operation）：吞吐量 x 2 一个任务的不同阶段由不同部件完成， 当一个任务进入下个阶段时，上个阶段的部件不再空转，而是用来执行下一个任务的相应阶段 CPU指令处理也可采用流水线，之前按序执行1条指令需3个时钟周期。 “取指-解码-执行”三个阶段由不同部件完成，意味着可以并行处理parallelize： execute一条指令的同时decode下一条指令，再下条则可以开始取指。任一时刻CPU所有部件都没有空转。 每个时钟周期都能完成原本1条指令的工作量，吞吐量 X 3, 流水线过程中，每过1个时钟周期就有一条指令执行完成。​流水线的并行方式也会带来一些问题。首先是指令之间的依赖关系 举个例子，按照指令的顺序，有一条指令需要读取前一条指令修改后的数据，但因为流水线的安排， 前一条指令还没开始修改(刚完成解码阶段）这条指令就已经在读取修改前的数据，也就是说读到的是旧数据！ 因此流水线处理器要提前弄清(look ahead) 数据的依赖性，必要时停止流水线(stall pipelines)，避免出现错误 高端CPU, 手机和笔记本里那种，会更进一步，动态重排序 (dynamically reorder)有依赖关系的指令， 以最小化流水线的停工时间（minimize stalls and keep the pipeline moving) 这叫做“乱序执行”(out-of-order execution) 比如例子中改数据的指令可以适当往前排以避开冲突，保证后面能读到修改好的数据。 实现的电路非常复杂，但因为非常高效，几乎所有现代处理器都有流水线。 第二问题是“条件跳转”(conditional jump) 例如上节的JUMP NEGATIVE, 条件jump指令会根据实际的条件值改变程序的固定执行流， 简单的流水线处理器看到条件jump指令会先停一会儿，等待条件值确定下来 ，jump结果出了再继续流水线，但这样会增加延迟，高端cpu会采用一些技巧来减少线的停工时间。 Imagine an upcoming jump instruction as a fork in the road - a branch. 可以把jump指令想象成岔路口，即分支，高端CPU会猜哪条分支的可能性大一些， 然后提前把该分支的指令放进流水线，这种技巧叫做“预测执行”(speculative execution) jump结果出来如果CPU猜对了，那流水线已塞满正确的指令，可以毫无延迟地马上运行; 如果猜错了就清空流水线（pipeline flush）就像走错路掉头回到正轨一样。 为了尽可能减少清空流水线的次数，CPU厂商开发了复杂的方法 来预测哪条分支可能性更大，叫做“分支预测”(branch prediction) 现代CPU的预测正确率超过90%！超标量 (superscalar)理想情况下，流水线1个时钟周期能完成1条指令。然后超标量处理器(superscalar processors)出现了 一个时钟周期能完成多条指令。 即便有流水线设计，在指令执行阶段，处理器内有些区域还是可能会空闲。 例如执行一个从内存取值的指令期间，ALU会闲置。所以一次性处理(取指+解码)多条指令会更好， 如果多条指令刚好需要CPU的不同部件，那就多条同时执行。 可以再进一步，多加几个相同的电路来执行频次很高的指令。 例如很多处理器有4-8个甚至更多完全相同的ALU, 可以并行执行多个数学运算。多核 (multi-core)​很像是有多个独立的CPU, 但因为它们紧密整合，可以共享一些资源，比如缓存，使得多核可以合作运算。 多核如果还不够，可以使用多CPU, 例如Youtube服务器这种高端计算机，需要更多马力让上百人能同时流畅观看视频。 2-4个CPU的服务器是最常见的。超级计算机堆砌CPU。更高的性能要求：如果需要做怪兽级的运算，比如模拟宇宙的形成，需要强大的算力。 世界上最快的计算机：神威-太湖之光，在中国无锡的国家超算中心​我们的使命是利用这些运算能力，去做又酷又实用的事。​​" }, { "title": "Crash Course Computer Science学习笔记：逻辑门、ALU、寄存器、内存", "url": "/posts/Crash-Course-Computer-Science-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/", "categories": "计算机科学基础, 计算机组成与体系结构", "tags": "notes, cs, cpu, ALU, 寄存器，内存，学习笔记，视频课程", "date": "2018-11-01 00:09:45 +0800", "snippet": "Morse利用继电器的原理发明了电报，实现了人类世界范围内长距离的、即时的通讯 —— 《Code》 晶体管(transistor) 有两个电极，中间用半导体隔开，控制线连到“门”电极，通过改变“门”的电荷来控制半导体的导电性。 如今计算机里的晶体管小于50纳米，作为对比，一张纸的厚度大约是10万纳米。 很多晶体管和半导体的开发在“圣克拉拉谷”（Santa Clara Valley) 在加州的旧金山和圣荷西之间， 生产半导体最常见的材料是硅(silicon), 所以这个地区被称为“硅谷”(Silicon Valley)3 Bolean Logic &amp;amp; logic gates 布尔逻辑和逻辑门开始抽象之旅：不管底层细节，把精力用来构建更复杂的系统 用晶体管可以轻松实现真值表的布尔逻辑。 一个晶体管本身只是控制电的开关，水龙头的比喻： ​把控制线当作输入，底部电极当作输出，一个晶体管对应的真值表是 稍加修改，实现NOT 输入1输出0的原理比喻: 家里的水都从一个大管子排走了，所以打开淋浴头一点水压也没有了 当输入是0，电流没法接地，只能从输出流出去，实现了输出1。至此只用一个晶体管实现了非门 串联两个晶体管，实现AND 与门 并联两个晶体管，实现OR 或门 XOR与OR的不同：两输入都为true时输出是false，因此需要先用AND门筛选出输出全1的情况， 再用NOT门变为false，最后和OR的输出一起连到第二个AND门，强行使最终输出为false； 其他情况下NOT门输出均为true，连到AND不影响OR门的输出结果，最终输出与OR一致。 再次向上抽象 ​4 二进制硬盘厂商说的8T是指8000000000000字节，但是计算机对硬盘容量的计算方式不同，采用二进制，每1024进一个单位， 所以有8000000000000b≈7812500000K≈7629395M≈7504G≈7.32T 补码(时钟、模的概念）移码 IEEE754浮点数等知识5 ALU How Computers Calculate用布尔逻辑门做一个简单的ALU电路，功能和Intel 74181一样。 最简单的加法电路，AB两个bit输入和一个bit输出，共有4种输入情况。 前三种情况和XOR门的逻辑完全一样。 输入是1，1时输出10用一个bit存不下，需要一根额外的输出线代表“进位”(carry) AND门刚好能做这个事！ 根据AB的输入表示进位情况。 XOR门计算sum, AND门输出carry, 从而组成“半加器” 进一步抽象，把半加器封装成一个单独的组件： 处理超过1+1的运算时，需要全加器，要接收前一列进位，需要三个输入A + B + C A + B相加进位C1, AB之和S + 与前一列的进位C产生C2, C1和C2不可能同时为1, 因为若C1是1 =&amp;gt; AB都是1 =&amp;gt; S是0 =&amp;gt; S + C的进位C2必为0 C1和C2只要有一个是1都会向下一列进位，所以OR门连接C1C2正好实现了全加器的进位。 用两个半加器和一个OR门组成全加器 进一步抽象，把全加器封装成一个单独的组件 ​制作8位加法器最低位A0+B0没有前一列的进位，只需一个半加器，其余列相加用全加器 前一个全加器的进位连到下一个全加器的输入，所以叫8位行波进位加法器(8-bit ripple carry adder) 如果想避免溢出(overflows) 可以增加更多全加器来操作16、32位乃至更多位的数字，代价是更多逻辑门， 另一个缺点是，每次行波进位都要多消耗一点时间，如今的运算都是每秒几十亿次的量级，行波进位的电路性能不够， 现代计算机的加法电路采用“超前进位加法器”（carry-look-ahead adder) ALU的算术单元通常会支持这8种操作： 简单的ALU没有专门的电路来处理乘法和除法，乘法用多次加法来实现，例如12 x 5就是把12加5次。 许多简单处理器，比如恒温器 (thermostat)、电视遥控器(TV remote)和微波炉 (microwave) 都这样做； 笔记本电脑和手机有更好的处理器，算术单元有专门的乘法电路，there’s no magic 乘法电路只是有更多逻辑门逻辑单元 Logic Unit执行AND, OR, NOT等逻辑操作，也能做简单的数值测试，比如判断一个数是不是负数。 例如，检测ALU输出是否为0的电路：一堆OR门最后加个NOT门 ALU抽象：一个V符号。高级ALU有更多Flag标志，但这3个flag是普遍的。 ​6 寄存器和内存 Registers and RAM存储1的电路：把OR门的输出连到其中一个输入；存储0的电路：把AND门的输出连到其中一个输入 SET和RESET都为0，输出上次保存的结果，不受输入影响（OR的输出取决于OUTPUT, AND的输出取决于OR) RESET为1，相当于把输出置为0 SET = 1, RESET = 0, 相当于把输出置为1 加一段逻辑门，使得: 关闭写入时，相当于RS都为0（通过把RS连接到两个AND门，由WRITE ENABLE线控制，WE=0时，输出不受影响） 允许写入WE=1时， 数据输入1相当于SET = 1, RESET = 0，即RS锁存器把输出置为1 数据输入0相当于RESET = 1, 即RS锁存器把输出置为0 再提升一层抽象：门锁（Gated Latch)并排放8个锁存器，可以存8位信息，一组这样的锁存器称为寄存器 (register), 寄存器能存数字的位数称为位宽。 早期电脑用8位寄存器，然后16位、32位，如今很多计算机都有64位宽的寄存器。 写入寄存器前，要先ENABLE所有的锁存器，可以只用一根线连接所有的WE输入1，用8根线发完数据后把WE设回0 如果只需存很少的位，锁存器排成一列放置就够用了。 64位寄存器需要64根数据输入线，64根连到输出端，1根WE线，共129根线。 如果存256位需要513根，每增加一个位，输入输出端都要多浪费两根线，解决方法是矩阵。 如何只选中并启用行列交叉处的某一个锁存器？用AND门！ 每次只能访问一个锁存器，只有一个被启用来存取数据，故可以用一根数据输入线连接所有256个锁存器， 可以多加一根READ ENABLE线来允许读出，采用WE前面相同的AND门控制，数据读出和数据输入共享一根线传输。 矩阵方式只需16+16根地址线、1根数据输入/输出线，WE和RE线各1根，加起来仅需35根，节省了很多数据线； 将n位地址转成2^n行和列选中（例如16x16内存表示行列只需4位，共8位地址）需要多路复用器（multiplexer) 这里MUX指的是n to 2ⁿ 译码器，2 to 4 Line Decoder门电路实现原理如图。 根据真值表，哪条线输出为1，连接电路使得对应输入下该条线的AND门输入全为1即可 16x16内存模块抽象： 相比8位寄存器，这种串行方式读取一个字节太耗时，解决方式是把8个矩阵排列的内存模块并成一行， 分别寻址同时访问1位锁存器，实现8位并行读写 存储器抽象： 8位只能寻址256个字节，32位地址可以寻址约42亿字节（4GB)SRAM一个位的电路包含不少晶体管，速度快但造价昂贵，一般用来做CPU芯片中的高速缓存。 DRAM存储一个位只需要一个电容和一个晶体管，数据存在电容里，电容会有电的泄露、 损失状态， 故需要对电容状态进行保持和动态刷新，因此速度慢，但造价便宜，容量也大得多，常用来做内存。 1980年代的RAM 每个芯片有32个方格，所以每个芯片约有100万位。80年代的RAM只能存储约104万字节，仅1MB内存。 计算机底层的组成大多很简单，精妙之处是一层层的抽象。" }, { "title": "线性代数的本质6：基变换", "url": "/posts/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E7%9A%84%E6%9C%AC%E8%B4%A86/", "categories": "数学, 线性代数", "tags": "notes, 线性代数, 基变换, 相似矩阵, 特征值", "date": "2017-10-21 05:25:17 +0800", "snippet": "基变换不同视角下的同一个线性变换特征值与特征向量" }, { "title": "线性代数的本质5：叉积", "url": "/posts/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E7%9A%84%E6%9C%AC%E8%B4%A85/", "categories": "数学, 线性代数", "tags": "notes, 线性代数, 叉积, 对偶向量", "date": "2017-10-20 04:38:48 +0800", "snippet": "向量的叉积又称向量积/外积/矢积（区别于向量的点积/内积/标积）叉积的标准介绍可以把二维向量的叉积定义为一个标量，表示两向量所围成平行四边形的有向面积。叉积的正负由基向量$\\hat{i} \\times \\hat{j} = +1$ 定义，运算符X左边的向量居右时为正。 则单位基向量之间的叉积运算有以下结果：$ \\hat{i} \\times \\hat{i} = \\hat{j} \\times \\hat{j} = 0 \\quad \\hat{i} \\times \\hat{j} = -\\,\\hat{j} \\times \\hat{i}$ 可以证明，叉积运算满足分配律，即$\\vec{a} \\times (\\vec{b}+\\vec{c}) = \\vec{a} \\times \\vec{b} + \\vec{a} \\times \\vec{c}$ 二维向量叉积的计算公式：只需把叉积的两个向量写为矩阵的列， 然后再求这个矩阵的行列式，即可得到所要求的平行四边形面积。 写为矩阵的行也可以，因为根据行列式的性质6，矩阵转置，行列式的值不变。 用矩阵行向量的叉积定义行列式，证明行列式性质6：\\(\\begin{vmatrix}a_x &amp;amp; a_y \\\\ b_x &amp;amp; b_y\\end{vmatrix} = \\begin{vmatrix}a_x &amp;amp; b_x \\\\ a_y &amp;amp; b_y\\end{vmatrix}\\)Proof. 左边矩阵行向量 $a = (a_x, a_y) \\quad b = (b_x, b_y)$ \\(\\begin{align} \\begin{vmatrix}a_x &amp;amp; a_y \\\\ b_x &amp;amp; b_y\\end{vmatrix}= a \\times b &amp;amp;= (a_x\\hat{i}+a_y\\hat{j}) \\times (b_x\\hat{i}+b_y\\hat{j})\\\\ &amp;amp;=a_x\\hat{i} \\times b_x\\hat{i} + a_x\\hat{i} \\times b_y\\hat{j}+ a_y\\hat{j} \\times b_x\\hat{i} + a_y\\hat{j}\\times b_y\\hat{j} \\\\ &amp;amp;= a_xb_x(\\hat{i}\\times\\hat{i}) +a_xb_y(\\hat{i}\\times \\hat{j}) + a_yb_x(\\hat{j}\\times \\hat{i}) + a_yb_y(\\hat{j}\\times\\hat{j}) \\\\ &amp;amp;=a_xb_y -a_yb_x \\end{align}\\)右边矩阵行向量 $a’ = (a_x, b_x) \\quad b’ = (a_y, b_y)$\\(\\begin{align} \\begin{vmatrix}a_x &amp;amp; b_x \\\\ a_y &amp;amp; b_y\\end{vmatrix}= a&#39; \\times b&#39; &amp;amp;= (a_x\\hat{i}+b_x\\hat{j}) \\times (a_y\\hat{i}+b_y\\hat{j})\\\\ &amp;amp;=a_x\\hat{i} \\times a_y\\hat{i} + a_x\\hat{i} \\times b_y\\hat{j}+ b_x\\hat{j} \\times a_y\\hat{i} + b_x\\hat{j}\\times b_y\\hat{j} \\\\ &amp;amp;= a_xa_y(\\hat{i}\\times\\hat{i}) +a_xb_y(\\hat{i}\\times \\hat{j}) + b_xa_y(\\hat{j}\\times \\hat{i}) + b_xb_y(\\hat{j}\\times\\hat{j}) \\\\ &amp;amp;=a_xb_y -a_yb_x \\\\ &amp;amp;= \\left|\\begin{matrix} a_x &amp;amp; a_y \\\\ b_x &amp;amp; b_y \\end{matrix}\\right| \\quad \\# \\end{align}\\)性质6的几何解释：两个向量的叉积等于这两个向量各垂直分量的叉积之和，即叉积所得的有向面积之和。二阶行列式几何直观如图3-10(a)，行列式等于大四方形的面积减去小四方形的面积 转置后垂直分量 $a_x\\hat{i} \\times b_y\\hat{j}$ 所得的正向面积 (图中的大四方形）不变，都为$a_1b_2$ ； 转置后另一对垂直分量从$a_y\\hat{j} \\times b_x\\hat{i}$ 变为$b_x\\hat{j} \\times a_y\\hat{i}$ 所得的小四方形进行了关于 y = x对称的镜像变化，所得的负向面积也不变, 都为$-a_2b_1$如果v在w的左侧，也就是变换后orientation改变了，那么行列式为负，叉积也为负。两向量越接近垂直（夹角越接近90度) 叉积越大，两向量越接近同向(夹角越小)，叉积越小，因为两条边越接近垂直，平行四边形的面积$|a||b|sin\\langle a, b\\rangle$越大。 如果放大其中一个向量，比如把 $\\vec{v}$ 放大为3倍，平行四边形的面积也同时放大3倍, 即$(3v) \\times \\vec{w} = 3(\\vec{v} \\times \\vec{w}) $ 真正的叉积只能定义在三维空间中，计算结果不是一个数，而是一个向量。 三维向量的叉积是通过两个三维向量生成一个新的三维向量， 其模长是两向量所夹平行四边形的面积，方向垂直于两向量所在平面。垂直于给定平面的向量有两个，具体是哪一个由右手定则确定。例如 $\\vec{v}=(0, 0, 2) \\quad \\vec{w} = (0, 2,0)$ 则 $\\vec{v} \\times \\vec{w} = (-4, 0, 0)$ 长度为4，方向为x轴负方向。三维向量叉积的计算公式。结果是一个向量，表示为$i$, $j$, $k$的线性组合。 叉积的几何定义和几何解释设三维空间中的两个向量$a = (a_x, a_y, a_z)$，$b = (b_x, b_y, b_z)$，则\\(\\begin{align} a \\times b &amp;amp;= |a||b|\\sin{\\theta}\\,n_0 \\quad 叉积的几何定义式,\\,其中n_0是垂直于a和b展成平面的单位法向量 \\\\ a \\times b &amp;amp;= (a_yb_z-a_zb_y,\\ a_zb_x-a_xb_z,\\ a_xb_y-a_yb_x) \\quad 叉积的坐标公式\\end{align}\\) 两个三维向量$a$ 和 $b$ 在空间中张成一个平行四边形面积块，叉积坐标公式中的三个分量 就是这个平行四边形分别在yOz、xOz和xOy平面上的投影。这三个坐标数字的几何意义就是 $a$ 和 $b$ 在三个坐标平面上投影向量所夹的有向面积，由两个投影向量的叉积计算得出。例如第三个分量$a_xb_y -a_yb_x$就是在xOy平面上的投影，计算两个投影向量$(a_x,\\,a_y)$和$(b_x,\\,b_y)$的叉积 $(a_x,\\,a_y) \\times (b_x,\\,b_y)$ 即行列式 \\(\\left|\\begin{matrix} a_x &amp;amp; a_y \\\\ b_x &amp;amp; b_y \\end{matrix}\\right|\\) 可得到投影的有向面积。再如第二个分量是在xOz平面上的投影，因为投影变换后的基向量 $\\hat{i}$ 在x轴方向上, $\\hat{k}$在z轴方面上，$\\hat{i}$在$\\hat{k}$的左侧而不在右侧，根据右手定则，$\\hat{i} \\times \\hat{k} = -1$，则投影向量的叉积表示的是负向面积， $(a_x,\\, a_z) \\times (b_x,\\,b_z) = (a_x\\hat{i} +a_z\\hat{k}) \\times (b_x\\hat{i}+b_z\\hat{k}) = a_xb_z(\\hat{i} \\times \\hat{k}) + a_zb_x(\\hat{k} \\times \\hat{i}) $ 也就是$a_zb_x - a_xb_z$ 即\\((-1)\\left|\\begin{matrix} a_x &amp;amp; a_z \\\\ b_x &amp;amp; b_z \\end{matrix}\\right|\\)以线性变换的眼光看叉积回顾线性变换与向量的对偶关系：任何n到1维的线性变换，都对应n维空间中唯一一个向量， 称为对偶向量，对输入向量应用变换 $\\iff$ 对偶向量与输入向量作点积。这是因为这类线性变换可由一个只有一行的矩阵描述，每一列给出了变换后基向量的位置。 将1xn矩阵与输入的n维向量相乘， 计算上与转置矩阵所得向量与n维向量点乘完全相同。结论是每当你看到一个从n维空间到数轴的线性变换，都能找到唯一的对偶向量来作等价的点积运算。仿照线性变换与点积的对偶关系，尝试定义一个3d-to-1d的变换， 找到它的对偶向量，并证明这个对偶向量就是叉积。理解了这个线性变换就理解了叉积的行列式计算公式所代表的几何意义先来回顾二维向量的叉积，$v \\times w$是以$v$和$w$为列（行）的行列式，表示两向量张成的 平行四边形有向面积， 符号由$v$和$w$相对位置决定。（右手定则，v在w右侧时为正）仿照二维向量叉积的概念推广到三维的情况， $u \\times v \\times w= det\\left(\\left[\\begin{matrix}u &amp;amp; v &amp;amp; w\\end{matrix}\\right]\\right)$ 表示三个向量张成的平行六面体的有向体积。真正的叉乘运算接收两个向量输出一个向量，而不是接收三个向量输出一个数。将第一个向量u看成可变向量$(x, y, z)$，其他两向量不变, 就有了一个从三维空间到一维数轴的函数，这函数的几何意义是，对任意输入的向量$(x, y, z)$, 考虑它与常向量v和w张成的平行六面体体积。 这个函数最重要的性质是它是线性的。 根据行列式的性质3可证$f(x,y,z)$是线性的。性质3a     行列式对单独任一行（列）满足线性关系： \\(\\left|\\begin{matrix} ta &amp;amp; tb \\\\ c &amp;amp; d \\end{matrix}\\right| = t\\left|\\begin{matrix} a &amp;amp; b \\\\ c &amp;amp; d \\end{matrix}\\right|\\ , \\quad \\forall \\,t \\in \\mathbb{R}\\) 几何解释就是将一行或列向量缩放t倍，其他向量不变，张成的面积块也缩放缩放为原来的t倍。性质3b    加法可拆性： \\(\\left|\\begin{matrix} a+a&#39; &amp;amp; b+b&#39; \\\\ c &amp;amp; d \\end{matrix}\\right| = \\left|\\begin{matrix} a &amp;amp; b \\\\ c &amp;amp; d \\end{matrix}\\right|+ \\left|\\begin{matrix} a&#39; &amp;amp; b&#39; \\\\ c &amp;amp; d \\end{matrix}\\right|\\)所以该变换满足$L(v+w) = L(v)+L(w)$ 和$L(cv) = cL(v) $的严格线性性质，是一个线性变换。一旦确定它是线性的，就可以用矩阵乘法来描述这个函数。因为这个变换输入3D向量输出1D数字，表示变换的是1x3矩阵。 矩阵立起来得到的向量，就是线性变换的对偶向量，应用变换可看成与对偶向量作点积我们要找的就是这个对偶向量$p = (p1,\\,p2,\\,p3) $使得它与$(x, y, z)$的点积等于定义的三阶行列式。 从代数的角度来找对偶向量$p$，右边行列式展开得到的$v$和$w$在各个坐标轴方向分量坐标的特定组合，就是对偶向量p的坐标。无论第一列是$(x,\\,y,\\,z)$还是$(\\hat{i},\\,\\hat{j},\\,\\hat{k})$，展开行列式再合并各项得到向量坐标的运算过程都没有区别。代入$\\hat{i}，\\hat{j}，\\hat{k}$ 表示为基向量的线性组合只是一种计算技巧，强调结果是一个对偶向量，权重系数$v_yw_z-v_zw_y$, $v_zw_x-v_xw_z$和$v_xw_y-v_yw_x$就是对偶向量的坐标。如果换成$x, y, z$即可得到平行六面体的体积。只要找到了对偶向量的坐标，对任意输入的三维向量$(x, y, z)$，只要与对偶向量作点积，马上可算出所生成的平行六面体的体积。下面从几何的角度来找出对偶向量$p$$p$与$(x, y, z)$点积的几何意义是将$(x, y, z)$投影到p上，然后将投影长度与p的长度相乘。再联系一下等式右边行列式的几何意义，即三向量张成的平行六面体的体积。右边线性函数要与左边点积等价，必是一个3维到1维的投影变换，作用是把(x, y, z) 投影到p所在直线上， 再将投影长度与p长度相乘恰好得到行列式表示的体积。 所以当向量p的长度恰好等于v和w张成的平行四边形面积、p的方向垂直于v和w且满足右手定则时，以上等价关系成立，此时p是对偶向量。这就得到了叉积$v \\times w$的几何解释。叉积实际上是一个对偶向量，它和输入向量做点积运算，就是在计算输入向量和两常向量张成的平行六面体体积，这个平行六面体的有向体积也就是混合积$(v \\times w) \\cdot (x,y,z) $的几何意义。" }, { "title": "线性代数的本质4：点积与对偶性", "url": "/posts/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E7%9A%84%E6%9C%AC%E8%B4%A84/", "categories": "数学, 线性代数", "tags": "notes, 线性代数, 点积, 对偶性, 余弦定理, 正交", "date": "2017-10-19 22:00:22 +0800", "snippet": "向量的点积又称数量积、内积。点积有两种定义方式：代数方式和几何方式。向量的点积既可以由向量坐标的代数运算得出，也可以引入向量的长度和夹角的几何概念来求解。二维向量的点积 $a \\cdot b = x_1x_2 + y_1y_2 = | a | | b |\\cos{\\theta}$ 无论根据哪一种定义都容易证明点积运算满足交换律和分配律 (不满足结合律)。下面证明两个定义的等价性。从几何定义推导坐标公式设$a = (x_1, y_1)$, $b = (x_2, y_2)$, $\\hat{i}$, $\\hat{j}$为单位基向量，由点积的几何定义 $\\hat{i} · \\hat{i} = | \\hat{i} || \\hat{i} | \\cos{0} = 1, \\quad \\hat{j} · \\hat{j} = | \\hat{j} | | \\hat{j} | \\cos{0} = 1$，$\\hat{i} · \\hat{j} = | \\hat{i} | | \\hat{j} | \\cos{\\dfrac{\\pi}{2}} = 0$，由向量坐标的定义，$a = x_1\\hat{i} + y_1\\hat{j}, \\quad b= x_2\\hat{i} + y_2\\hat{j} $ ,$\\because$ 点积满足分配率\\(\\begin{align} \\therefore a \\cdot b &amp;amp;= (x_1\\hat{i}+y_1\\hat{j})\\cdot(x_2\\hat{i}+y_2\\hat{j}) \\\\ &amp;amp;=x_1x_2(\\hat{i}\\cdot\\hat{i})+x_1y_2(\\hat{i}\\cdot\\hat{j})+x_2y_1(\\hat{i}\\cdot\\hat{j})+y_1y_2(\\hat{j}\\cdot\\hat{j}) \\\\ &amp;amp;= x_1x_2 + y_1y_2 \\end{align}\\)从坐标定义推导几何公式 （推广到n维）n维向量夹角的定义设$a$和$b$为两个任意非零n维向量，以$a$，$b$，$a-b$ 三向量的模长为边可构成三角形。(利用三角不等式$|x + y| \\le |x| + |y|$证明任意两边之和大于等于第三边，即可证能构成三角形)向量$a$和$b$的夹角定义为这个三角形中长为$|a|$和$|b|$的两邻边夹角$\\theta$。由余弦定理，$|a-b|^2 = |a|^2 + |b|^2 - 2|a||b|\\cos{\\theta}$由点积的坐标定义，\\(\\begin{align}|a - b|^2 &amp;amp;= (a - b) \\cdot (a - b) \\\\ &amp;amp;= a \\cdot a - a \\cdot b - b \\cdot a + (-b) \\cdot (-b) \\quad (点积满足乘法分配律)\\\\ &amp;amp;= |a|^2 - 2(a \\cdot b) + |b|^2 \\qquad (1) \\\\ &amp;amp;= |a|^2 + |b|^2 - 2|a||b|\\cos{\\theta} \\qquad (2) \\end{align}\\) 等式$(1)(2)$两边消去得：$a \\cdot b = |a|\\,|b|\\cos{\\theta}$补充1：n维向量正交的概念基于n维向量夹角的定义，定义n维向量垂直的概念： 若两非零向量$a$和$b$夹角为90度则称$a$和$b$互相垂直。 由点积的几何公式有$a \\cdot b = 0$ 即 两向量垂直 $\\iff$ 两向量点积为0 零向量与任何向量正交。补充2：余弦定理的证明如图，由勾股定理：\\(\\begin{align} c^2 &amp;amp;= (a\\sin{\\theta})^2 + (b-a\\cos{\\theta})^2 \\\\ &amp;amp;= a^2\\sin^2\\theta + b^2 - 2ab\\cos\\theta + a^2\\cos^2\\theta \\\\ &amp;amp;= a^2(\\sin^2\\theta + \\cos^2\\theta) + b^2 - 2ab\\cos\\theta \\\\ &amp;amp;=a^2 + b^2 - 2ab\\cos\\theta \\end{align}\\)补充3: Cauchy-Schwarz不等式不等式$|x \\cdot y | \\le |x|\\,|y|$ 对$\\forall$ 非零向量$x,y \\in \\mathbb{R}$都成立，当且仅当$x = cy$时，即$x,y$共线时等号成立。证明： 根据点积的性质 (向量自身的点积等于模长的平方），注意到$\\forall \\,t \\in \\mathbb{R}$ 都有 $(x+ty)\\cdot(x+ty) = |x+ty|^2 \\ge 0$ $(x+ty)\\cdot(x+ty)=x\\cdot x+x\\cdot ty+ty\\cdot x +ty \\cdot ty$ $= |x|^2 + 2t(x\\cdot y) + t^2|y|^2 \\ge 0$ 以$t$为自变量变形为二次不等式：$p(t) = |y|^2t^2 +2(x\\cdot y)t + |x|^2 \\ge 0$ 令$a = |y|^2,\\,b = 2(x \\cdot y),c=|x|^2$ $\\because y$是非零向量 $\\therefore a = |y|^2 &amp;gt; 0$ $p(t)$开口向上$\\because p(t) \\ge 0 $ $\\therefore$ 一元二次方程根的判别式$\\,\\Delta = b^2-4ac \\le 0$ 代入得：$[2(x \\cdot y)]^2 -4|y|^2|x|^2 \\le 0$ $4(x \\cdot y)^2 - 4|x|^2|y|^2 \\le 0$ 即 $|x \\cdot y| \\le |x|\\,|y|$ 恒成立。(根据点积的几何定义也可证明)补充4：三角不等式三角不等式： $|\\vec{v}+\\vec{w}| \\le |\\vec{v}|+|\\vec{w}|$ 等号成立当且仅当其中一向量为另一向量的非负倍数。\\(\\begin{align}\\textbf{证明：}|\\vec{v}+\\vec{w}|^2 &amp;amp;= (\\vec{v}+\\vec{w})\\cdot(\\vec{v}+\\vec{w})=|\\vec{v}|^2+2\\underline{\\vec{v}\\cdot\\vec{w}}+|\\vec{w}|^2 \\hspace{50em} \\\\&amp;amp;\\le |\\vec{v}|^2+|\\vec{w}|^2+2|\\vec{v}\\cdot\\vec{w}| \\\\ &amp;amp;\\le |\\vec{v}|^2+|\\vec{w}|^2+2|\\vec{v}||\\vec{w}| \\quad (\\text{Cachy-Schwarz}不等式)\\\\ &amp;amp;=(|\\vec{v}|+|\\vec{w}|)^2\\end{align}\\)$\\therefore |\\vec{v}+\\vec{w}| \\le |\\vec{v}|+|\\vec{w}|$ 等号成立当且仅当$\\vec{v}\\cdot\\vec{w}=|\\vec{v}||\\vec{w}|$, 这等价于$\\vec{v},\\vec{w}$其中一向量是另一向量的非负倍数。注：基于Cauchy-Schwarz不等式可证明三角不等式，基于三角不等式可定义n维向量夹角，从而推出向量点积的几何公式。向量点积的几何直观向量长度和另一向量投影长度之积投影方向与被投影向量相反时，即两向量夹角大于90度时，点积为负值当两向量互相垂直时，投影为零向量，点积为0用投影解释向量点积的几何公式显得很”不对称”，因为$a$投影到$b$还是$b$投影到$a$都不影响计算结果。为什么点积的结果与投影的方式无关呢？ 先来看两向量等长的情况，沿着夹角平分线作对称轴，分别画出两向量之间的投影，根据三角形全等的条件(两角一边)，发现两种投影方式互为镜像，这种情况显然不影响结果。 现在把其中一个向量缩放若干倍。如下图，把短的向量投影到长的向量上，此时$(k\\vec{v})\\cdot \\vec{w} = k(\\vec{v} \\cdot \\vec{w})$，因为缩放一个向量k倍并不会改变另一个向量的投影长度, 相当于把原来对称情况下的点积乘以k倍。反过来把长向量投影到短向量上，根据相似三角形，$\\vec{v}$ 在 $\\vec{w}$上的投影被放大了2倍，对短向量长度仍不变，相比镜像对称的情况，效果仍然是把原来的点积放大了2倍。因此，无论哪种投影方式，缩放向量（破坏对称）对点积结果的影响都一样，也就是说即使向量不等长，投影方式不同也不影响点积的结果。直观理解坐标公式与几何投影的联系假设我们不知道点积的几何定义，仅知道点积的坐标公式。为什么将对应坐标相乘再将结果相加的计算过程，与投影有联系？最令人满意的答案来自对偶性(duality)。 这种点积与投影（线性变换）的关系在于将其中一向量倾倒，就得到对另一向量作投影变换的$1 \\times n$矩阵。首先来看多维空间到一维空间（数轴）的线性变换。不少函数都能接收2维向量并输出一个数，但线性变换的要求更加严格，需满足性质$L(\\vec{v}+\\vec{w}) = L(\\vec{v})+L(\\vec{w})$和$L(c\\vec{v}) = cL(\\vec{v})$ 本篇仅考虑与之等价的直观特性，即“保持原点不变且网格线平行等距分布”，二维到一维的变换情况就是任意二维向量所在直线上等距分布的点，经过线性变换后也等距分布于数轴上。 变换后的基向量落在数轴上变成一个数，用一个$1 \\times 2$矩阵描述。$\\mathbb{R}^2 \\rightarrow \\mathbb{R}$的线性变换用$1 \\times 2$矩阵与向量的乘法描述，其运算方法(列的线性组合)看起来就和点积的坐标公式一样。$1 \\times 2$矩阵看起来正像一个倾倒的向量。通过以上观察发现，点积的坐标公式与$\\mathbb{R}^2 \\rightarrow \\mathbb{R}$变换的$1 \\times 2$矩阵向量乘法运算具有相同的形式。下面我们从几何直观上验证一下2D投影矩阵左乘2D向量其实就是2D投影矩阵的行向量与这个向量的对应坐标相乘再相加，从而确定点积的几何解释就是投影长度与向量模长之积。假定你还不知道点积与投影有关，考虑0在原点斜放的数轴上一个单位向量(模长为1的向量）$\\hat{u}$如果我们把二维向量投影到这条数轴上，就定义了一个从二维向量到数字的变换，通过视觉上的检验，发现这个投影变换是线性的。（直线上等距分布的点投影到数轴上仍保持等距） 注意u帽是输入空间中一个二维向量，只是刚好让它落在输出空间数轴上。 下面我们来找出这个投影变换对应的投影矩阵。考虑变换后单位基向量$i$帽和$j$帽的位置，它们将分别变成矩阵的两列（两个数）。因为$\\hat{i}$ 和 $\\hat{u}$都是单位向量，它们之间的互相投影存在之前提到过的镜像对称关系，$\\hat{i}$在$\\hat{u}$上的投影长度其实就是$\\hat{u}$的横坐标$u_x$，同理，$\\hat{j}$ 在$\\hat{u}$上的投影长度等于$\\hat{u}$的纵坐标$u_y$ 因此投影变换矩阵就是$\\bigl[\\begin{matrix} u_x &amp;amp; u_y \\end{matrix}\\bigr]$，所以任意二维向量与单位向量的点积，都可解释为将向量投影到单位向量所在直线上所得到的投影长度（可正可负）如果是与“非单位向量”的点积，对偶的变换是$\\bigl[\\begin{matrix} ku_x &amp;amp; ku_y \\end{matrix}\\bigr]$，即基向量的投影长度分别是$u_x$和$u_y$的$k$倍。因为变换是线性的，即$\\bigl[\\begin{matrix} ku_x &amp;amp; ku_y \\end{matrix}\\bigr] = k\\bigl[\\begin{matrix} u_x &amp;amp; u_y \\end{matrix}\\bigr]$, 这个变换等价于先将二维向量投影到单位向量，再把投影长度乘上k倍。单位向量的缩放倍数k即“非单位向量”的模长，所以任意两个向量点积的几何解释就是投影长度与向量长度的乘积，从而得到点积的几何公式$|a||b|\\cos{\\theta}$ 对点积的直观几何解释用到了对偶性的思想。对偶性是两个数学事物之间存在的自然而又出乎意料的对应关系。两个向量的点积，利用向量与线性变换的对偶关系，相当于把其中一个向量看作是投影变换矩阵。 于是，我们可以进一步地理解向量的本质是“线性变换的物质载体”。（as the physical embodiment of a linear transformation”） 向量就像一个特定变换的概念性记号，例如本节中转置成$1 \\times 2$矩阵的二维向量就是投影变换的记号。 一个2d-to-1d的线性变换，必存在一个唯一的向量，输入向量与这个对偶向量点积与应用变换的效果是一样的。duality 这个概念在数学和物理的许多地方都有分布，而没有一个统一的定义。我熟悉的 duality 大部分都是把两个显然相对应的东西联系起来，有时这两个东西在某种程度上甚至是等价的（比如在同构意义上）。 因为一旦有了对偶性，每证明一个定理都能通过对偶的操作自动免费得到另一个（可以理解为镜像）。数学的布尔代数和集合论中的对偶概念可能是最平易近人的。 物理中常翻译为二象性，例如波粒二象性 (Wave–particle duality)。" }, { "title": "线性代数的本质3：逆矩阵、列空间、秩和零空间", "url": "/posts/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E7%9A%84%E6%9C%AC%E8%B4%A83/", "categories": "数学, 线性代数", "tags": "notes, 线性代数, 逆矩阵, 列空间, 零空间", "date": "2017-10-19 03:39:57 +0800", "snippet": "这个系列课程旨在透过直观的线性变换来理解矩阵与向量运算，并不打算讨论计算方法，高斯消元、行阶梯型等求解线性方程组的方法都没有提到，实践中通常交给软件来计算。主要应用之一是解求线性方程组。求解$\\mathbf{A}x = \\mathbf{v}$意味着寻找一个向量$\\mathbf{x}$, 经过线性变换$\\mathbf{A}$后与向量$\\mathbf{v}$重合。逆矩阵、秩旋转、剪切等变换可以复原，降维了无法复原，一条直线不能变换回一个平面， 一个向量无法映射为多个向量，因为不符合函数的定义（一对一或多对一，不能一对多）所以$D = 0$的矩阵不存在逆矩阵。即使逆变换不存在($D = 0$)，方程组的解x仍可能存在，此时输出向量v恰好落在降维后的空间内，例如$A$将二维空间压缩成一条直线，v恰好落在直线上， 即使$D$都为0, 解存在的条件 (输出向量v的范围）也不同，变换后空间的维度不同，解集的大小也不同。例如$A$是三维矩阵，当它把空间压缩为一条直线，与压缩为平面相比，存在解的概率更小了。行列式$D$是否为0提供的关于变换的信息还不够，为了具体描述$A$中基向量线性无关程度， 引入矩阵的秩（rank) 的概念。$\\mathrm{2 x 2}$ 矩阵最大的秩为2，满秩$r = 2$意味着基向量能张成整个二维空间且$D \\ne 0$。 对于$\\mathrm{3 x 3}$矩阵，\\(r = 2\\) 意味着空间被压缩了，但与$r = 1$ 的情况相比没那么严重。$D \\ne 0$的方阵一定满秩，反之非满秩方阵D必为0。列空间列空间是所有可能输出向量$\\mathbf{Ax}$的集合，几何直观上就是矩阵的列向量张成的空间，即变换后基向量张成的空间，秩的定义就是列空间的维数，当$r = n$即秩等于列数时称为满秩。零向量一定在列空间中，因为线性变换必须保持原点不变。对一个满秩变换来说，唯一能在变换后落在原点的向量只有零向量。 (满秩变换是一对一映射，例如$\\mathrm{2x2}$矩阵两列向量不共线，仅当输入是0输出才是0)但对于非满秩矩阵，它将空间压缩到更小的维度，就是说有一系列的向量变换后变成零向量。（列空间的正交分量投影为0）举个例子，如果一个二维线性变换将空间压缩到一条直线上，那么垂直方向的直线上所有向量就会被压缩到原点。如果一个三维线性变换将空间压缩到一个平面上，同样会有一条直线（法线）上的向量被压缩到原点 （同样都降秩了1个维度$n - r = 1$) 如果一个三维线性变换将空间压缩到一条直线上，那么会有一整个二维平面（法平面）的向量被压缩到原点（$n - r = 2$) 此时引入零空间的概念，就是这些变换后落在原点的向量集合。 $n - r$就是零空间的维度。零空间也译作“化零”空间。零空间 Null Space = Kernel即解空间，一个算子$A$ 的零空间是齐次线性方程组$\\mathbf{Ax}=\\mathbf{0}$的所有解x的集合。零空间也叫做 A的核（kernel) 。$A$的零空间可以用来找到方程$\\mathbf{Ax}=\\mathbf{b}$的所有解(完全解)。如果$x_1$是这个方程的一个解，叫做特定解，那么方程的完全解 = 特定解 + 来自零空间的任何向量。特定解依$\\mathbf{b}$而变化，而零空间的向量不变。从几何角度的high level视角理解线性方程的解，把线性方程看成向量方程，每个方程组对应一个线性变换(常系数构成的矩阵)， 当逆变换存在时，就能用$\\mathbf{x} = \\mathbf{A}^{-1}\\mathbf{b}$求解。当逆变换不存在（$D = 0$)，列空间的概念让我们清楚解什么时候存在（$\\mathbf{b}$落在降维后的空间时）零空间的概念则有助于我们理解$Ax = b$的解集（写成特解$x_1$ + 零空间中任意向量）​" }, { "title": "线性代数的本质2：复合变换、矩阵相乘和行列式的几何意义", "url": "/posts/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E7%9A%84%E6%9C%AC%E8%B4%A82/", "categories": "数学, 线性代数", "tags": "notes, 线性代数, 线性变换复合, 线性无关, 矩阵相乘, 行列式", "date": "2017-10-18 05:37:30 +0800", "snippet": "P5 矩阵乘法与线性变换复合线性变换$L(\\vec{\\mathbf{v}})$是将向量作为输入和输出的一类函数，线性变换“保持网格线平行且等距分布”的性质有个绝妙的推论：$\\vec{\\mathbf{v}} = (x, y) \\qquad L(\\vec{\\mathbf{v}}) = xL(\\hat{\\mathbf{i}}) + yL(\\hat{\\mathbf{j}})$即线性变换完全由变换后的基向量决定。 在新的坐标系中， 变换后的向量与变换后的基向量仍然满足相同的线性关系。Proof. 已知 $\\vec{v} = x\\hat{i}+y\\hat{j}$ ，$L(x)$ 是线性函数，由线性函数的可加性和比例性 （和的函数的函数的和，比例的函数等于函数的比例）: \\(\\hspace{5em}L(\\vec{v}) = L(x\\hat{i}+y\\hat{j}) =L(x\\hat{i})+L(y\\hat{j})=xL(\\hat{i})+yL(\\hat{j})\\)习惯上，将变换后的基向量$\\hat{\\mathbf{i}}$ 和 $\\hat{\\mathbf{j}}$ 作为矩阵的列 $[L(\\hat{\\mathbf{i}})\\quad L(\\hat{\\mathbf{j}}) ]$ 并将$xL(\\hat{\\mathbf{i}}) + yL(\\hat{\\mathbf{j}})$定义为矩阵向量乘法。这样，矩阵就代表了一个特定的线性变换，矩阵乘上一个向量，意味着将线性变换作用于那个向量。复合变换的例子：先旋转后剪切两个矩阵相乘的几何意义，就是两个线性变换相继作用。两个独立变换相继作用 $\\Longleftrightarrow$ 一个复合变换 ​矩阵相乘数值计算的几何直观：基向量最终落在了哪里？第一个变换的基向量($\\mathbf{M}_1$的列向量) 在第二个变换M2的作用下, 最终得到复合变换的基向量 (复合矩阵的列) 把右边的矩阵看成输入向量（基向量），左边矩阵看成一个线性变换， 相乘结果矩阵每一列是输出向量（最终变换后的基向量） 矩阵乘法不满足交换律： $\\mathbf{M}_1\\mathbf{M}_2 \\ne \\mathbf{M}_2\\mathbf{M}_1$ (想象i帽和j帽 “先旋转后剪切”和“先剪切后旋转”最终基向量的明显不同) 矩阵乘法满足结合率：$(\\mathbf{AB})\\mathbf{C} = \\mathbf{A}(\\mathbf{BC})$ (用数值方法证明太麻烦，符号证明即可，从几何意义的角度看，结论是trivial的。 括号不影响结果，无论先算哪个乘积， 实际上都是从右向左依次进行C, B, A变换, 等式两边的变换是等效的)P6 补充：三维空间中的线性变换三维矩阵相乘在计算机图形学、机器人学等领域有重要应用，因为三维空间中的复杂旋转等变换可以分解成简单旋转变换的复合。​P7 行列式 determinant问题：如何测量一个变换对空间的拉伸/挤压程度？更具体地说，就是测量一个给定区域的面积被缩放的比例。 二维行列式的几何直观是面积，看变换后的基向量所夹面积 / 单位向量所夹正方形面积(=1)即矩阵各列向量所夹面积只要知道单位正方形面积变化的比例，就能知道其他任意区域的面积变化比例因为一个方格面积缩放多少倍，其他大小的方格也会跟着缩放多少倍， 这是由“线性变换保持网格线平行且等距分布”这一性质推断出的。 ​ 对不是方格的形状，可以用多个方格近似。因为所有小方格都进行了同样比例的缩放， 所以整个不规则图形也进行了一样比例的缩放。一个变换的determinant $\\Longleftrightarrow$ 一个矩阵的行列式 行列式为0的几何意义意味着矩阵表示的变换将空间压缩到更小的维度。（二维的情况是压缩到一条直线或原点)因此，只要检验矩阵的行列式是否为0，就能知道矩阵代表的变换是否将空间压缩到更小的维度。​行列式为负值的几何直观想象把一张纸翻转到另一面。基向量$\\hat{j}$变换到了基向量$\\hat{i}$的右侧， 即$L(\\hat{j})$在$L(\\hat{i})$右侧, 视觉上就是把整个平面空间翻转过来 (invert the orientation of space) 例如$Det(\\mathbf{A}) = -5$的几何解释： 变换后空间被翻转，且面积扩大为原来的5倍。 i帽逐渐靠近j帽，面积变为0，然后i帽继续移动，orientation改变，面积变为负。 ​三维行列式的几何直观：Parallelepiped变换后基向量$L(\\hat{i})$ $L(\\hat{j})$ $L(\\hat{k})$所夹平行六面体的体积因为立方体的初始体积为1，行列式给出的是体积缩放比例。可以把行列式看作平行六面体的体积。 ​三维行列式为0的几何意义意味着整个空间被压缩为零体积的东西。 例子：矩阵的列线性相关$L(\\hat{k}) = L(\\hat{i}) + L(\\hat{j})$，行列式为0， 产生降维作用. D= 0时矩阵的列向量必然线性相关. ​三维行列式负值的几何直观描述三维空间的定向(Orientation): i j k满足右手定则为正，满足左手定则为负。 ​二维行列式计算公式的几何直观即便b，c其中一个为0 当bc都是不为0的一般情况，bc项实际上表示的是平行四边形在对角方向上压缩了多少。 ad - bc的可视化 3阶行列式的计算方法参考其他教材（例如GS的I2AL提到的先消元再算pivot之积、big formula和cofactor） 证明$|M_1M_2 | = | M_1 | | M_2 |$用数值计算比较麻烦， 用行列式的几何意义来看则是trivial的结论。 行列式是线性变换对空间的缩放系数。" }, { "title": "线性代数的本质1：理解线性变换", "url": "/posts/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0%E7%9A%84%E6%9C%AC%E8%B4%A81/", "categories": "数学, 线性代数", "tags": "notes, 线性代数, 线性变换, 向量空间, 基向量, 线性无关, 矩阵乘法", "date": "2017-10-17 21:36:48 +0800", "snippet": "P2 向量究竟是什么？物理观点：向量是空间中的箭头，只要长度和方向不变，自由移动后仍是同一个向量。 CS观点：vector &amp;lt;=&amp;gt; list of numbers 向量就是有序的数字列表, 例如用向量对房屋建模， 需要房屋面积和价格两个feature。数学家试图推广这两种观点，只要保证两向量相加和数字与向量数乘有意义即可。线代中的向量通常以原点为起点，向量的坐标是一组数，指导你如何从起点到达终点 (尖端) ​线性代数围绕着两种基本运算：向量相加和向量数乘。线性代数为大量数据列表提供了概念化、可视化的渠道，使数据的pattern变得更清晰，也给物理学家和计算机图形学程序员提供了描述和操纵空间的语言。P3 线性组合、张成的空间与基 Linear combinations, span and bases把每个向量的坐标(x,y)看成scalar作用于xy坐标系的基向量$\\hat{\\mathbf{i}}$, $\\hat{\\mathbf{j}}$， 这个向量实际上就是两个缩放后的基向量之和 $x\\hat{\\mathbf{i}}+y\\hat{\\mathbf{j}}$基向量用于构建坐标系。如果换一对基向量(不是标准的单位向量), 得到这同一向量所需的scalar完全不同，从而意识到一个事实： 我们描述向量所用的坐标数字，都依赖于所使用的基。任意两个不共线的非零向量，所张成的空间是整个二维平面。 (平面上画两条不平行的相交直线，由平行四边形法则，可以到达平面上任意一点) 如果共线，张成的空间就是一条直线；如果都是零向量，只能固定在原点。 因此换一对不共线的新的基向量，仍然能得到任意一个二维向量，同样允许我们在坐标数字和二维向量之间自由转化。 两个向量张成的空间(span)实际上是在问：仅通过向量加法和向量数乘两种基本运算，能得到的所有可能向量的集合是什么？ ​线性相关： 为了描述一组向量中至少有一个是多余的(二维向量共线，3个三维向量共面等情况)没有对张成空间的增大做出任何贡献，移除其中一个不会减小张成空间。多余的向量可以表示为其他向量的线性组合，因为多余的向量就落在已张成的空间中。相反地，如果每个向量都给张成空间增添了新的维度，则称为线性无关 基的严格定义：向量空间的一组基是张成该空间的一个线性无关向量集。P4 矩阵与线性变换 Linear transformation变换transformation实际上是function，可理解为向量的函数。 何谓线性变换: 一是直线在变换后仍为直线，不能有所弯曲；二是原点不能移动。 线性变换就是保持原点不动、保持网格线平行且等距的变换。 保持直线但原点移动是仿射变换 (Affine Transformation) “网格线不等距”的变换举例：对角线被弯曲了 线性变换应看成“保持网格线平行且等距分布“ 的变换 （keeping grid lines parallel and evenly spaced)问题：如何用数值来描述线性变换？使得输入一个向量的坐标，输出一个线性变换后的向量坐标。由上节知识，输入向量可看成是单位基向量一个线性组合(以xy放缩再相加)，又因为线性变换保持网格线平行且等距，经过变换后的向量，即输出向量和变换后的基向量也满足相同的关系（与变换前的线性组合，即输入向量的坐标相同) ​只要记录了变换后的基向量i帽和j帽，就能推出任意向量变换后的位置，而不必去具体研究变换本身。 因此，一个二维线性变换仅用四个数字（变换后基向量的坐标）就可以完全描述。 矩阵实际上就是变换后的基向量列表，打包了描述线性变换的信息。 矩阵左乘输入向量可以看成列向量的线性组合 (以输入向量的坐标为scalar) 矩阵描述线性变换的实例1：逆时针旋转90度 实例2：shear 从矩阵提供的信息出发，想象线性变换的过程。 例子：变换后的基向量线性相关，则这个线性变换把整个二维空间挤压到一条直线上。 \\​ 总结：线性变换就是以一种“保持网格线平行且等距”的方式扭曲空间， 变换后基向量构成的矩阵，提供了一种描述线性变换的语言， 矩阵左乘向量就像函数f(x)一样，输出变换后的向量坐标。 以后每当你看到一个矩阵，都可以把它解释成一种对空间的特定变换。" }, { "title": "微积分预备：三维空间中的直线、平面和二次曲面", "url": "/posts/%E4%B8%89%E7%BB%B4%E7%A9%BA%E9%97%B4%E7%9B%B4%E7%BA%BF%E5%B9%B3%E9%9D%A2%E4%BA%8C%E6%AC%A1%E6%9B%B2%E9%9D%A2/", "categories": "数学, 微积分", "tags": "直线方程，二次曲面，空间解析几何", "date": "2016-06-03 01:52:27 +0800", "snippet": "三维空间中的直线方程在平面解析几何中，直线方程是形如$ax+by+c=0$ 的二元一次方程。然而在三维空间中一次方程表示的却是一个平面，例如$x - y = 0$ 表示的是垂直于 xOy平面且相交于直线 $y=x$ 的平面，方程 $y = 0$ 表示的则是xOz平面。一个方程无法表示空间中的直线，三维空间中的直线需要用两个平面方程联立来表示：\\[\\left\\{ \\begin{matrix} A_1x+B_1y+C_1z+D_1=0 \\\\ A_2x+B_2y+C_2z+D_2=0 \\end{matrix}\\right.\\]设L是空间中一条直线，L过给定点$P_0=(x_0, y_0, z_0)$ 且平行于给定非零向量$\\vec{V}= a\\hat{i}+b\\hat{j}+c\\hat{k}$ 在直线L上取一点$P=(x, y, z)$ 则 $P$在直线L上 $\\iff$ $\\overrightarrow{PP_0}$ 是$\\overrightarrow{V}$ 的倍数即 $\\exist \\,t \\in \\mathbb{R},\\,s.t. \\overrightarrow{P_0P} = t \\overrightarrow{V} \\quad (1)$ 记$\\ \\overrightarrow{R} = \\overrightarrow{OP},\\,\\overrightarrow{R_0} = \\overrightarrow{OP_0}$， 则$\\overrightarrow{P_0P}=\\overrightarrow{OP}-\\overrightarrow{OP_0}=\\overrightarrow{R}-\\overrightarrow{R_0}$ $\\therefore\\(\\overrightarrow{R}=\\overrightarrow{R_0}+t\\overrightarrow{V} \\quad (2)$ 即$x\\vec{i}+y\\vec{j}+z\\vec{k}=x_0\\vec{i}+y_0\\vec{j}+z_0\\vec{k} + t(a\\vec{i}+b\\vec{j}+c\\vec{k})$ 等式两边的权重系数相等：\\)\\begin{align}x &amp;amp;= x_0+at y &amp;amp;= y_0+bt \\tag{3}z &amp;amp;= z_0+ct\\end{align}$$这就是过点$(x_0, y_0,z_0)$且平行于向量$(a,b,c)$的直线L的参数方程。注意一条直线的参数方程是不唯一的，$x_0,y_0,z_0$可以替换为直线L上任何一点的坐标，$a,b,c$ 也可替换为任何平行于L的非零向量的坐标。这些参数方程描述的同一条直线，从这个意义上看是等价的。 参数方程消去t即可得到三维空间直线L的对称式方程：\\[\\frac{x-x_0}{a}=\\frac{y-y_0}{b}=\\frac{z-z_0}{c} \\tag{4}\\]如果（4）中作为分母的常数$a,b,c$ 有任何一个为0，那相应的分子也为0。这不难从参数方程（3）中看出，例如当 $a=0$ 时 $x=x_0$圆柱体与旋转曲面" }, { "title": "微积分预备：三角学回顾", "url": "/posts/%E4%B8%89%E8%A7%92%E5%AD%A6%E5%9B%9E%E9%A1%BE/", "categories": "数学, 初等数学", "tags": "三角学，三角函数", "date": "2016-06-01 05:36:23 +0800", "snippet": "三角函数诱导公式：奇变偶不变，符号看象限三角函数诱导公式的一般形式是：\\(\\begin{align*}\\hspace{8em} \\sin / \\cos / \\tan / \\cot \\left(\\dfrac{k\\pi}{2}\\pm\\alpha\\right) &amp;amp;=\\ ?,\\ k \\in Z \\\\\\end{align*}\\) “奇变偶不变”说的是如果参数 $k$ 是奇数（$\\dfrac{\\pi}{2}$的奇数倍），则正弦变余弦 $(\\sin \\rightarrow \\cos)$，余弦变正弦 $(\\cos \\rightarrow \\sin)$，正切变余切 $(\\tan \\rightarrow \\cot)$，余切变正切 $(\\cot \\rightarrow \\tan)$，即函数名变为原来的余函数。如果参数 $k$ 是偶数，则保持原式的函数名不变。 符号看象限指的是假设 $\\alpha$ 为锐角，根据 $\\dfrac{k\\pi}{2}\\pm\\alpha$ 所在象限判断原式的符号，若原式为负则最终式子前面要加符号；若原式为正则最终式子也为正。三角函数符号象限图如下。记忆口诀：一全正，二正弦，三正切，四余弦。现在我们可以化简任意一个三角诱导公式，例如： $ \\sin(\\dfrac{3\\pi}{2}-\\alpha) = \\ ?$这里 $k = 3$ 是 $\\dfrac{\\pi}{2}$ 的奇数倍，所以函数名要变为 $\\cos$ , 然后把 $\\alpha$ 看成锐角，则 $\\dfrac{3\\pi}{2}-\\alpha$ 的终边落在第三象限，原式$\\sin$ 值为负，所以$\\cos$ 前面加符号得$-\\cos{\\alpha}$。其他例子比如 $\\cos(\\pi-\\alpha) = -\\cos\\alpha$, $\\sin(\\pi-\\alpha)=\\sin\\alpha$差角公式\\[\\begin{align}\\cos(\\alpha-\\beta)=\\cos\\alpha \\cos\\beta +\\sin\\alpha\\sin\\beta \\tag{1} \\label{差角余弦}\\\\\\sin(\\alpha-\\beta) = \\sin\\alpha\\cos\\beta - \\cos\\alpha\\sin\\beta \\tag{2} \\label{差角正弦}\\\\\\tan(\\alpha-\\beta) = \\dfrac{\\tan\\alpha-\\tan\\beta}{1+\\tan\\alpha\\tan\\beta} \\tag{3}\\label{差角正切}\\end{align}\\]Proof. 可用向量点积的定义证明公式(1)，二维向量叉积定义证明公式(2)，(1)/(2)推出公式(3)。如图，取单位圆上的半径向量$\\overrightarrow{OA}=(\\cos\\alpha,\\cos\\alpha)$，$\\overrightarrow{OB}=(\\cos\\beta,\\sin\\beta)$由点积的定义,\\(\\overrightarrow{OA} \\cdot \\overrightarrow{OB} = |\\overrightarrow{OA}| |\\overrightarrow{OB}|\\cos(\\beta-\\alpha)= \\cos\\alpha\\cos\\beta +\\sin\\alpha\\sin\\beta\\)$\\because |\\overrightarrow{OA}|=|\\overrightarrow{OB}|=1$ , $\\,\\cos(\\beta-\\alpha)=\\cos(\\alpha-\\beta)$ $\\therefore \\cos(\\alpha-\\beta)=\\cos\\alpha\\cos\\beta +\\sin\\alpha\\sin\\beta \\qquad$ 公式（1）得证由二维向量叉积的行列式定义， \\(\\begin{align}\\overrightarrow{OA} \\times \\overrightarrow{OB} &amp;amp;= |\\overrightarrow{OA}| |\\overrightarrow{OB}|\\sin(\\beta-\\alpha) = \\begin{vmatrix} \\cos\\alpha &amp;amp; \\sin\\alpha \\\\ \\cos\\beta &amp;amp; \\sin\\beta\\end{vmatrix}\\\\&amp;amp; = \\cos\\alpha\\sin\\beta -\\sin\\alpha\\cos\\beta\\end{align}\\)$\\because |\\overrightarrow{OA}|=|\\overrightarrow{OB}|=1$, $\\therefore \\sin(\\alpha-\\beta)=-\\sin(\\beta-\\alpha)= \\sin\\alpha\\cos\\beta -\\cos\\alpha\\sin\\beta \\qquad$公式（2）得证\\(\\begin{align}\\tan(\\alpha-\\beta)&amp;amp;=\\dfrac{\\sin(\\alpha-\\beta)}{\\cos(\\alpha-\\beta)} \\\\&amp;amp;= \\dfrac{\\sin\\alpha\\cos\\beta-\\cos\\alpha\\sin\\beta}{\\underline{\\cos\\alpha\\cos\\beta}+\\sin\\alpha\\sin\\beta} = \\dfrac{\\frac{\\sin\\alpha\\cos\\beta}{\\cos\\alpha\\cos\\beta}-\\frac{\\cos\\alpha\\sin\\beta}{\\cos\\alpha\\cos\\beta}}{1+\\frac{\\sin\\alpha\\sin\\beta}{\\cos\\alpha\\cos\\beta}} \\\\&amp;amp;= \\dfrac{\\tan\\alpha-tan\\beta}{1+tan\\alpha\\tan\\beta} \\qquad \\text{公式（3）得证}\\end{align}\\)和角公式\\[\\begin{align}\\cos(\\alpha+\\beta)=\\cos\\alpha \\cos\\beta -\\sin\\alpha\\sin\\beta \\tag{4} \\\\\\sin(\\alpha+\\beta) = \\sin\\alpha\\cos\\beta + \\cos\\alpha\\sin\\beta \\tag{5} \\\\\\tan(\\alpha+ \\beta) = \\dfrac{\\tan\\alpha+\\tan\\beta}{1-\\tan\\alpha\\tan\\beta} \\tag{6}\\end{align}\\]Proof. 把差角公式(1)(2)(3)中的$\\beta$ 替换为$-\\beta$ 即可得到和角公式(4)(5)(6)倍角公式\\[\\begin{align}\\cos2\\alpha &amp;amp;=\\cos^2\\alpha -\\sin^2\\alpha = 1-2\\sin^2\\alpha= 2\\cos^2\\alpha-1 \\tag{7} \\\\\\sin2\\alpha &amp;amp;= 2\\sin\\alpha\\cos\\alpha \\tag{8} \\\\\\tan2\\alpha &amp;amp;= \\dfrac{2\\tan\\alpha}{1-\\tan^2\\alpha} \\tag{9}\\end{align}\\]Proof. 在和角公式(4)(5)(6)中令$\\beta = \\alpha $ 即可得到倍角公式(7)(8)(9)半角公式\\[\\begin{align}\\sin\\frac{\\theta}{2}&amp;amp;= \\pm\\sqrt{\\dfrac{1-\\cos\\theta}{2}} \\tag{10} \\\\\\cos\\frac{\\theta}{2}&amp;amp;=\\pm\\sqrt{\\dfrac{1+\\cos\\theta}{2}} \\tag{11}\\\\\\tan\\frac{\\theta}{2}&amp;amp;=\\pm\\sqrt{\\dfrac{1-\\cos\\theta}{1+\\cos\\theta}}=\\dfrac{\\sin\\theta}{1+\\cos\\theta}=\\dfrac{1-\\cos\\theta}{\\sin\\theta} \\tag{12}\\end{align}\\]Proof. 把$\\alpha=\\dfrac{\\theta}{2}$ 代入二倍角公式(7) $\\cos2\\alpha = 1-2\\sin^2\\alpha $ 得$\\cos\\theta=1-2\\sin^2\\dfrac{\\theta}{2},\\quad \\sin^2\\dfrac{\\theta}{2}=\\dfrac{1-\\cos\\theta}{2},\\quad $$\\sin\\dfrac{\\theta}{2}=\\pm\\sqrt{\\dfrac{1-\\cos\\theta}{2}}\\quad$ 公式（10）得证。把 $\\alpha=\\dfrac{\\theta}{2}$代入二倍角公式(7) $\\cos2\\alpha=2\\cos^2\\alpha -1$ 得$\\cos\\theta = 2\\cos^2\\dfrac{\\theta}{2}-1,\\quad$$\\cos^2\\dfrac{\\theta}{2}=\\dfrac{1+\\cos\\theta}{2},$$\\cos\\dfrac{\\theta}{2}=\\pm\\sqrt{\\dfrac{1+\\cos\\theta}{2}}\\quad$公式（11）得证。\\(\\begin{align}\\tan\\dfrac{\\theta}{2}=\\dfrac{\\sin\\frac{\\theta}{2}}{\\cos\\frac{\\theta}{2}}&amp;amp;=\\pm\\sqrt{\\dfrac{1-\\cos\\theta}{1+\\cos\\theta}} \\\\&amp;amp;=\\pm\\sqrt{\\dfrac{(1-\\cos\\theta)(1+\\cos\\theta)}{(1+\\cos\\theta)(1+\\cos\\theta)}}=\\pm\\sqrt{\\dfrac{1-\\cos^2\\theta}{(1+\\cos\\theta)^2}}=\\pm\\sqrt{\\dfrac{\\sin^2\\theta}{(1+\\cos\\theta)^2}}\\\\&amp;amp;=\\pm\\sqrt{\\dfrac{(1-\\cos\\theta)(1-\\cos\\theta)}{(1+\\cos\\theta)(1-\\cos\\theta)}}=\\pm\\sqrt{\\dfrac{(1-\\cos\\theta)^2}{1-\\cos^2\\theta}}=\\pm\\sqrt{\\dfrac{(1-\\cos\\theta)^2}{\\sin^2\\theta}}\\end{align}\\)$\\tan\\dfrac{\\theta}{2}\\,\\sin\\theta=\\dfrac{\\sin\\frac{\\theta}{2}}{\\cos\\frac{\\theta}{2}}\\cdot2\\sin\\dfrac{\\theta}{2}\\cos\\dfrac{\\theta}{2}=2\\sin^2\\dfrac{\\theta}{2} \\ge 0$ 当 $2\\sin^2\\dfrac{\\theta}{2} = 0,$ 即 $\\sin\\dfrac{\\theta}{2}=0$，则此时 $\\tan\\dfrac{\\theta}{2}$ 和 $\\sin\\theta$ 都为0$\\therefore \\tan\\dfrac{\\theta}{2}$和 $\\sin\\theta $ 总是同号又$\\because 1\\pm\\cos\\theta $ 总是非负，所以等式右边的$\\pm$号是多余的。$\\therefore \\tan\\dfrac{\\theta}{2} = \\dfrac{\\sin\\theta}{1+\\cos\\theta}=\\dfrac{1-\\cos\\theta}{\\sin\\theta}\\quad$ 公式（12）得证。积化和差公式\\[\\begin{align}\\sin\\alpha\\cos\\beta = \\dfrac{\\sin(\\alpha+\\beta)+\\sin(\\alpha-\\beta)}{2} \\tag{13}\\\\\\cos\\alpha\\sin\\beta=\\dfrac{\\sin(\\alpha+\\beta)-\\sin(\\alpha-\\beta)}{2} \\tag{14}\\\\\\cos\\alpha\\cos\\beta=\\dfrac{\\cos(\\alpha+\\beta)+\\cos(\\alpha-\\beta)}{2} \\tag{15}\\\\\\sin\\alpha\\sin\\beta=-\\dfrac{\\cos(\\alpha+\\beta)-\\cos(\\alpha-\\beta)}{2} \\tag{16}\\end{align}\\]Proof. 由和角公式(5)与差角公式(2)，$\\sin(\\alpha+\\beta)=\\sin\\alpha\\cos\\beta+\\cos\\alpha\\sin\\beta,\\quad \\sin(\\alpha-\\beta)=\\sin\\alpha\\cos\\beta-\\cos\\alpha\\sin\\beta$ $(5)+(2)$ 得 $\\sin(\\alpha+\\beta)+\\sin(\\alpha-\\beta)=2\\sin\\alpha\\cos\\beta$ $(5)-(2)$ 得 $\\sin(\\alpha+\\beta)-\\sin(\\alpha-\\beta)=2\\cos\\alpha\\sin\\beta$等式两边同除以2即得到公式(13)和(14)由和角公式(4)与差角公式(1)，$\\cos(\\alpha+\\beta)=\\cos\\alpha\\cos\\beta-\\sin\\alpha\\sin\\beta,\\quad\\cos(\\alpha-\\beta)=cos\\alpha\\cos\\beta+\\sin\\alpha\\sin\\beta$$(4)+(1)$ 得 $\\cos(\\alpha+\\beta)+\\cos(\\alpha-\\beta)=2\\cos\\alpha\\cos\\beta$$(4)-(1)$ 得 $\\cos(\\alpha+\\beta)-\\cos(\\alpha-\\beta)=-2\\sin\\alpha\\sin\\beta$ 分别两边除以2和-2即得到公式(15)和(16)和差化积公式\\[\\begin{align}\\sin A+\\sin B=2\\sin\\dfrac{A+B}{2}\\cos\\dfrac{A-B}{2} \\tag{17} \\\\\\sin A-\\sin B=2\\cos\\dfrac{A+B}{2}\\sin\\dfrac{A-B}{2} \\tag{18} \\\\\\cos A+\\cos B=2\\cos\\dfrac{A+B}{2}\\cos\\dfrac{A-B}{2} \\tag{19} \\\\\\cos A-\\cos B=-2\\sin\\dfrac{A+B}{2}\\sin\\dfrac{A-B}{2} \\tag{20}\\end{align}\\]Proof. 令 $\\alpha+\\beta = A, \\alpha-\\beta=B,$ 则 $\\alpha=\\dfrac{A+B}{2},\\beta=\\dfrac{A-B}{2}$ 代入(13)(14)可得公式(17)(18)，代入(15)(16)可得公式(19)(20)" } ]
